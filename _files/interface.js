!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n=window.webpackJsonp;window.webpackJsonp=function(o,s){for(var a,l,c=0,u=[];c<o.length;c++)l=o[c],r[l]&&u.push.apply(u,r[l]),r[l]=0;for(a in s)t[a]=s[a];for(n&&n(o,s);u.length;)u.shift().call(null,e);return s[0]?(i[0]=0,e(0)):void 0};var i={},r={0:0};return e.e=function(t,n){if(0===r[t])return n.call(null,e);if(void 0!==r[t])r[t].push(n);else{r[t]=[n];var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=e.p+""+t+"."+({1:"pages/basket"}[t]||t)+".js",i.appendChild(o)}},e.m=t,e.c=i,e.p="",e(0)}([function(t,e,n){function i(t,e){void 0==e&&(e=0),c.colorbox({transition:"none",open:!0,href:t,fixed:!0,opacity:.75,width:"90%",height:"90%",className:"imagesbox",onComplete:function(){hiddenLinkReplace(),r(e)},onOpen:function(){c(window).trigger("noscroll-enable"),c(window).on("resize.imagesbox",function(){c.colorbox.resize({width:"90%",height:"90%"}),o()})},onClosed:function(){c(window).trigger("noscroll-disable"),c(window).off("resize.imagesbox"),l()}})}function r(t){c("#imglisting_paging-popup").imglisting({target:"#imglisting-popup",start:void 0!=t?t:0,mousewheel:!0,callbackChangeImageBefore:function(){o()},callbackInit:function(t){c("#imglisting-popup").on("click",function(){t.fullToNext()})}})}function o(){c("#imglisting-popup").css({"line-height":c("#imglisting-popup").height()+"px"})}function s(){if(c(".slider .imglisting").length){var t=c(".slider .imglisting");t.height(c(window).height()-350),t.css("line-height",t.height()+"px")}}function a(){var t=c("img[data-caption]");t.length&&t.each(function(){var t=c(this).data("caption"),e=c(this).attr("src"),n=c(this).attr("alt"),i=c(this).width()-20;c(this).replaceWith("<figure><img src='"+e+"' alt='"+n+"' /><figcaption style='width: "+i+"px'>"+t+"</figcaption></figure>")})}function l(){void 0!=window.VK&&(VK.Observer.unsubscribe("widgets.like.unliked"),VK.Observer.unsubscribe("widgets.like.liked"))}var c=n(1);c(function(){!function(){var t=c('meta[name="csrf-param"]').attr("content"),e=c('meta[name="csrf-token"]').attr("content"),n={};n[t]=e,c.ajaxSetup({data:n,headers:{"X-CSRF-Token":e}})}(),n(2),hiddenLinkReplace(),document.getElementById("selection-form")&&n(5),n(32),n(42),n(46),n(47),n(48),n(49),n(51),n(53),c(".articles").length&&n(79),c(".compare").length&&n(80),c("#productOpinions").length&&n(83),c(".buy-1-click").length&&n(84),c("#slider1_container").length&&n(85),(c("#ServiceBrand").length||c("#ServiceTopic").length)&&n(86),c("#ServiceCenterPage").length&&n(87),c(".topic-video").length&&n(88),s(),a(),c(":checkbox,:radio").attr("autocomplete","off"),c("#search_form").on("submit",function(){var t=c("#search").val().trim();return void 0!=t&&t.length>0?!0:(c("#search").val(""),c(".search").find(".placeholder").show(),!1)}),c(".search input:text, .search .placeholder").on("hover",function(){c(this).focus()}),n(31),c(document).on("mouseenter",".js-popup-notice",function(){void 0==c(this).data("popup-notice")&&c(this).popupnotice()}),n(89),c(".seo-text").truncateContent({moreText:"Показать целиком",linkClass:"show-all link_js"}),c(window).on("noscroll-enable",function(){var t=c(window).scrollTop();c("body").addClass("noscroll"),c("#mainframe").scrollTop(t)}),c(window).on("noscroll-disable",function(){var t=c("#mainframe").scrollTop();c("body").removeClass("noscroll"),c("#mainframe").scrollTop(t)}),n(90),c("table.fixed-head").TableHeadFixed(),c("#print-button").on("click",function(){return window.print(),!1}),c(".categories li a,.list li .bigpreview,.list li .preview,.categories-list .image, .categories-list .title a, .catalog_slider .image, .list_aside .preview a, .compare-head .image, .products-sale .image").on("mouseenter mouseleave",function(){c(this).closest("li").toggleClass("hover")}),c(".list .list_item .related-img").on("mouseenter mouseleave",function(){c(this).closest(".list_item").toggleClass("hover")}),c("#prevbuys").on("mouseenter mouseleave",".prevbuys_list li .preview",function(){c(this).closest("li").toggleClass("hover")}),c("#content").on("mouseenter mouseleave",".list-min li .image, .sideblock .preview",function(){c(this).closest("li").toggleClass("hover")}),c(".categories .cats a").on("mouseenter mouseleave",function(){c(this).closest("span.cat").toggleClass("hover")}),c("#content").on("mouseenter mouseleave",".product-related .related-img",function(){c(this).parent().toggleClass("hover")}),c("body").on("mouseenter mouseleave",".table-props .cell-image a",function(){c(this).parent().next().toggleClass("hover")}),c(".RelatedNewsShow a, .RelatedNewsMain .preview a").on("mouseenter mouseleave",function(){c(this).closest(".product, .news, .group").toggleClass("hover")}),c("#top-hint .close").on("click",function(){c(this).parent().slideUp(function(){document.cookie="hide-top-hint=1; expires="+new Date((new Date).getTime()+6048e5).toUTCString()+"; path=/"})});var t=c(".form .spinner");t.each(function(){var t=c(this),e=t.find(".spinner_btnwrap").first(),n=t.find(".spinner_btnwrap").last(),i=t.find(".spinner_field"),r=parseInt(i.val(),10);i.keypress(function(t){return 8!=t.which&&0!=t.which&&46!=t.which&&(t.which<48||t.which>57)?!1:void 0}),n.click(function(){if(r=parseInt(i.val(),10)){var t=r+1;1>=t&&(t=1),i.val(t),i.change()}return!1}),e.click(function(){if(r=parseInt(i.val(),10)){var t=r-1;1>t&&(t=1),i.val(t),i.change()}return!1})}),c(document).on("click",".disclosure_title",function(t){t.preventDefault(),c(this).parents(".disclosure").first().toggleClass("dropdown_closed")}),c(".materials .media a").on("click",function(t){t.preventDefault();var e=c(this).closest(".media");i(e.data("url"),e.data("num"))}),c(document.body).on("click",".retailStorePopup",function(){return c(this).parents(".popup").length&&c(this).parents(".popup").find(".close").length&&c(this).parents(".popup").find(".close").trigger("click"),i(c(this).attr("data-src")),!1}),c(document).on("click",".js-popup-global",function(t){t.preventDefault();var e=parseInt(c(this).data("height"))>0?c(this).data("height"):!1,n=parseInt(c(this).data("width"))>0?c(this).data("width"):!1,i=void 0!=c(this).data("inline"),r=void 0!=c(this).data("class")?" "+c(this).data("class"):"",o=void 0!=c(this).data("scrolling")?Boolean(c(this).data("scrolling")):!0;c.colorbox({open:!0,href:c(this).attr("data-src")?c(this).attr("data-src"):c(this).attr("href"),transition:"none",fixed:!0,opacity:.75,width:n,height:e,inline:i,maxHeight:"95%",className:"popupbox"+r,scrolling:o,onComplete:function(){o||c.colorbox.resize()},onOpen:function(){c(window).trigger("noscroll-enable")},onClosed:function(){c(window).trigger("noscroll-disable")}})}),c(document).on("click",".popupbox_footer .close",function(t){t.preventDefault(),c.colorbox.close()}),c(document).on("click",".js-feedback-show",function(t){t.preventDefault(),c(".feedback .feedback_item.hidden").slideToggle(600),c(this).parents(".feedback-button").first().remove()}),c(".onlinecall").click(function(){return window.open("/js/calling/clicktocall.html?referrer="+encodeURIComponent(window.location.href),"_blank","width=238,height=231,top=200,left="+(document.body.clientWidth-238)/2+",resizable=no,toolbar=no,menubar=no,location=no,status=no"),!1}),c(".seoAssignment").length&&c(".seoAssignment .seoLink a").length>3&&c(".seoLink").truncateContent({moreText:"показать все",linkClass:"link_js",count:1,target:"span"}),n(91),n(92)}),c(function(){c("#imglisting:not(.no-open), .productimage").on("click",function(){if(c("object, iframe",c(this)).length>0)return!1;var t=c(this).data("url")||c(this).attr("href");return i(t,c("#imglisting_paging li.imglisting-list-item-active a").data("num")),!1})}),c(window).load(function(){n(93),n(96);var t=0;c("#imglisting_paging").find("li").each(function(e,n){return c(n).hasClass("image")?(t=e,!1):void 0}),c("#imglisting_paging").imglisting({target:"#imglisting",start:t,actionChange:"click",autolisting:!1,mousewheel:!0}),c("#gallery-content-list").imglisting({target:"#gallery-content",start:0,mousewheel:!0,callbackInit:function(t){c("#gallery-content").on("click",function(){t.fullToNext()})}}),c(".aviasales_inlineable").find(".default").width("90%")}),c(window).load(function(){c(".big-banner").length&&(c(window).on("resize",function(){c(".big-banner  li").width(c(".big-banner .wrap").width()),c(".big-banner .wrap").jcarousel("reload")}),c(".big-banner li").width(c(".big-banner .wrap").width()),c(".big-banner .wrap").jcarousel({scroll:1,wrap:"circular",itemVisibleInCallback:{onBeforeAnimation:function(t,e){$index=c("li",t.list).index(e),c(".big-banner .nav a.active").removeClass("active"),c(".big-banner .nav a").eq($index).addClass("active")}}}).jcarouselAutoscroll({interval:8e3}).hover(function(){c(this).jcarouselAutoscroll("stop")},function(){c(this).jcarouselAutoscroll("start")}),c(".big-banner .nav").on("active.jcarouselpagination","a",function(){c(this).addClass("active")}).on("inactive.jcarouselpagination","a",function(){c(this).removeClass("active")}).jcarouselPagination(),c(".big-banner .nav a:first-child").addClass("active"),c(".big-banner .jcarousel-prev").on("active.jcarouselcontrol",function(){c(this).removeClass("jcarousel-prev-disabled")}).on("inactive.jcarouselcontrol",function(){c(this).addClass("jcarousel-prev-disabled")}).jcarouselControl({target:"-=1"}),c(".big-banner .jcarousel-next").on("active.jcarouselcontrol",function(){c(this).removeClass("jcarousel-next-disabled")}).on("inactive.jcarouselcontrol",function(){c(this).addClass("jcarousel-next-disabled")}).jcarouselControl({target:"+=1"})),n(98),c(".reviews-slider").jcarouselFancy(),c(".popular").jcarouselFancy(),c(".catalog_action").jcarouselFancy(),c(".catalog_reduction").jcarouselFancy(),c(window).on("resize",s),function(){var t=c("#exchange-and-return");if(t.length){n(81);var e=t.find(".navigate");t.waypoint(function(t){"down"==t&&e.addClass("fixed"),"up"==t&&e.removeClass("fixed")}),c("#prevbuys").waypoint(function(t){"down"==t&&e.addClass("bottom"),"up"==t&&e.removeClass("bottom")},{offset:e.height()+120})}}(),c(document).on("mousedown","a[data-href]",function(){c(this).attr("href",c(this).data("href"))}),c("#product-prices").on("change",function(){var t=c(this).find("input[name=price-type]:checked").val();c(".pricing-info").removeClass("active"),c(".pricing-info."+t).addClass("active")}),c(".view-switch .item").length&&c(document).on("click",".view-switch .item",function(){var t=c(this),e=t.parent().find(".item_active"),n=e.data("type"),i=t.data("type"),r=c("#catalog-listing");i!=n&&(r.removeClass(n+"-view").addClass(i+"-view"),t.addClass("item_active"),e.removeClass("item_active"),setCookie("viewType",i,{expires:31536e3,path:"/"}))})}),jQuery.extend(jQuery.expr[":"],{value:function(t,e,n){var i,r=c(t).val();if(!(i=n[3]))return!!r;switch(i.charAt(0)){case"^":return r.substring(0,i.length-1)==i.substring(1,i.length);case"$":return r.substr(r.length-i.length-1,r.length)==i.substring(1,i.length);case"*":return-1!=r.indexOf(i.substring(1,i.length));case"=":return r==i.substring(1,i.length);case"!":return r!=i.substring(1,i.length);default:return r==i}}}),jQuery.getCachedScript=function(t){return jQuery.ajax({url:t,dataType:"script",cache:!0})},window.hiddenLinkReplace=function(){c("img[data-src]").each(function(){c(this).attr("src",c(this).data("src"))}),c("iframe[data-src]").each(function(){c(this).attr("src",c(this).data("src"))})}},function(t,e){t.exports=jQuery},function(t,e,n){n(3);var i={menu:null,catalog:null,add:null,userinfo:null,headers:null,customs:null,all:null},r=$("html").hasClass("ie8")||$("html").hasClass("ie9"),o=[{a:0,b:0}],s=function(t){$.extend(i,t),this.openItem=!1,this.opened=!1,this.downs=!1,this.delay=200,this.init()};s.prototype={init:function(){this.watch(),this.bind()},watch:function(){this.resetHide(),this.resizeMenu(),i.menu.addClass("loaded"),$(window).on("resize",function(){this.resetHide(),this.resizeMenu(),i.menu.addClass("loaded")}.bind(this)),$(window).on("menu-changed",function(){this.resizeMenu(),this.bindDropdown()}.bind(this))},bind:function(){var t=this;$(document).on("mousemove",function(t){o.push({x:t.pageX,y:t.pageY}),o.length>5&&o.shift()}),i.headers.on("mouseenter",function(){t.headerHover($(this))}).on("mouseleave",function(){t.clearDowns()}).on("click",function(e){$(this).hasClass("item_open")||(e.preventDefault(),t.headerOpen($(this)))}),i.catalog.on("mouseleave",function(){t.catalogHover()}),i.menu.on("mouseleave",function(){t.delay=200}),this.bindDropdown()},bindDropdown:function(){var t=this;i.customs.find(">a").on("click",function(e){e.preventDefault(),t.customsClick($(this).parents(".item").first())})},resizeMenu:function(){var t=parseInt(i.menu.width()),e=parseInt(i.userinfo.outerWidth(!0)),n=parseInt(i.add.outerWidth(!0)),r=t-e-n,o=0,s=!1;i.items.each(function(){var t=parseInt($(this).outerWidth(!0));if(r>=o+t?o+=t:s=!0,s){$(this).addClass("hide");var e=i.items.index(this);i.others.eq(e).addClass("active")}else $(this).removeClass("hide")}),i.others.filter("li.active").size()||i.add.addClass("hide")},resetHide:function(){i.catalog.find("li.hide").removeClass("hide"),i.others.filter("li.active").removeClass("active"),i.add.removeClass("hide")},customsClick:function(t){if(t.hasClass("item_open"))a(t),$(document).off("click.popup");else{a(i.all),t.addClass("item_open").find(".link").addClass("link_js_white_orange_h"),c(t);var e=$(".dropmenu ul",t);e.css("min-width",t.outerWidth(!0)-parseInt(e.css("padding-left"))-parseInt(e.css("padding-right"))),$(document).on("click.popup",function(e){0==$(e.target).closest(".item_open").length&&(a(t),$(document).off("click.popup"))}.bind(this))}},catalogHover:function(){this.clearAll(),this.openItem=!1,a(i.all)},headerOpen:function(t){this.clearOpened(),t.addClass("item_open"),c(t),r&&u(t)},headerHover:function(t){this.clearDowns(),t.hasClass("item_open")||(this.downs=setTimeout(function(){this.clearOpened(),this.openItem=i.headers.index(t);var e=i.all.filter(".item_open").not(t);setTimeout(function(){a(e)}.bind(this),3),this.opened=setTimeout(function(){this.openItem==i.headers.index(t)&&(t.addClass("item_open"),c(t),r&&u(t),this.delay=0)}.bind(this),this.delay)}.bind(this),l()))},clearDowns:function(){this.downs&&clearTimeout(this.downs)},clearOpened:function(){this.opened&&clearTimeout(this.opened)},clearAll:function(){this.clearDowns(),this.clearOpened()}};var a=function(t){t.removeClass("item_open"),t.find(".dropmenu").removeClass("dropmenu_r"),t.find(".link").removeClass("link_js_white_orange_h")},l=function(){var t=o[o.length-1],e=o[0],n=(e.y-t.y)/(e.x-t.x);return n>.1||-.1>n?200:0},c=function(t){var e=t.find(".dropmenu");if(e.length){var n=e.offset().left,i=e.width(),r=$("body").innerWidth(),o=n+i;if(o>=r&&(e.addClass("dropmenu_r"),e.offset().left<-2)){var s=r/2-n-i/2;e.css("left",s-40+"px").css("right","auto")}}},u=function(t){$(".dropmenu-list.two-lines",t).not(".columned").columnize({width:250,columns:2}).addClass("columned").find("li").addClass("dontsplit"),$(".dropmenu-list.three-lines",t).not(".columned").columnize({width:250,columns:3}).addClass("columned").find("li").addClass("dontsplit")};t.exports={init:function(t){new s(t)}},t.exports.init({menu:$("#header nav"),catalog:$("#header .menu.menu-catalog"),add:$("#header .menu.menu-add"),userinfo:$("#header .menu.userinfo"),others:$("#header .other-items li"),items:$("#header .menu-catalog .item"),headers:$("#header .menu .item_h"),customs:$("#header .menu .item_c"),all:$("#header .menu .item")})},function(t,e,n){t.exports=n(4)},function(t,e){!function(t){t.fn.columnize=function(e){function n(t,e){try{t.append(e)}catch(n){t[0].appendChild(e[0])}}this.cols=[],this.offset=0,this.before=[],this.lastOther=0,this.prevMax=0,this.debug=0,this.setColumnStart=null,this.elipsisText="";var i={width:400,columns:!1,buildOnce:!1,overflow:!1,doneFunc:function(){},target:!1,ignoreImageLoading:!0,columnFloat:"left",lastNeverTallest:!1,accuracy:!1,precise:!1,manualBreaks:!1,cssClassPrefix:"",elipsisText:"...",debug:0};return e=t.extend(i,e),"string"==typeof e.width&&(e.width=parseInt(e.width,10),isNaN(e.width)&&(e.width=i.width)),"function"==typeof e.setColumnStart&&(this.setColumnStart=e.setColumnStart),"string"==typeof e.elipsisText&&(this.elipsisText=e.elipsisText),e.debug&&(this.debug=e.debug),e.setWidth||(e.precise?e.setWidth=function(t){return 100/t}:e.setWidth=function(t){return Math.floor(100/t)}),this.each(function(){function r(t,e){var n=e?".":"";return g.length?n+g+"-"+t:n+t}function o(i,o,s,a){for(;(p||s.height()<a)&&o[0].childNodes.length;){var l=o[0].childNodes[0];if(t(l).find(r("columnbreak",!0)).length)return;if(t(l).hasClass(r("columnbreak")))return;n(i,t(l))}if(0!==i[0].childNodes.length){var c=i[0].childNodes,u=c[c.length-1];i[0].removeChild(u);var h=t(u);if(3==h[0].nodeType){var d=h[0].nodeValue,f=e.width/18;e.accuracy&&(f=e.accuracy);for(var g,v=null;s.height()<a&&d.length;){var m=d.indexOf(" ",f);g=-1!=m?d.substring(0,m):d,v=document.createTextNode(g),n(i,t(v)),d=d.length>f&&-1!=m?d.substring(m):""}if(s.height()>=a&&null!==v&&(i[0].removeChild(v),d=v.nodeValue+d),!d.length)return!1;h[0].nodeValue=d}return o.contents().length?o.prepend(h):n(o,h),3==h[0].nodeType}}function s(t,e,i,a){if(!t.contents(":last").find(r("columnbreak",!0)).length&&!t.contents(":last").hasClass(r("columnbreak"))&&e.contents().length){var l=e.contents(":first");if("undefined"==typeof l.get(0)||1!=l.get(0).nodeType)return;var c=l.clone(!0);if(l.hasClass(r("columnbreak")))n(t,c),l.remove();else if(p)n(t,c),l.remove();else if(1==c.get(0).nodeType&&!c.hasClass(r("dontend")))if(n(t,c),c.is("img")&&i.height()<a+20)l.remove();else if(l.hasClass(r("dontsplit"))&&i.height()<a+20)l.remove();else if(c.is("img")||l.hasClass(r("dontsplit")))c.remove();else{if(c.empty(),o(c,l,i,a))l.addClass(r("split"));else{if(l.addClass(r("split")),"OL"==l.get(0).tagName){var u=c.get(0).childElementCount+c.get(0).start;l.attr("start",u+1)}l.children().length&&s(c,l,i,a)}if(0===c.get(0).childNodes.length)c.remove(),l.removeClass(r("split"));else if(1==c.get(0).childNodes.length){var h=c.get(0).childNodes[0];if(3==h.nodeType){var d=/\s/,f=h.nodeValue;d.test(f)&&(c.remove(),l.removeClass(r("split")))}}}}}function a(){if(!u.data("columnized")||1!=u.children().length){if(u.data("columnized",!0),u.data("columnizing",!0),u.empty(),u.append(t("<div class='"+r("first")+" "+r("last")+" "+r("column")+" ' style='width:100%; float: "+e.columnFloat+";'></div>")),$col=u.children().eq(u.children().length-1),$destroyable=d.clone(!0),e.overflow){for(targetHeight=e.overflow.height,o($col,$destroyable,$col,targetHeight),$destroyable.contents().find(":first-child").hasClass(r("dontend"))||s($col,$destroyable,$col,targetHeight);$col.contents(":last").length&&l($col.contents(":last").get(0));){var i=$col.contents(":last");i.remove(),$destroyable.prepend(i)}for(var a="",c=document.createElement("DIV");$destroyable[0].childNodes.length>0;){var h=$destroyable[0].childNodes[0];if(h.attributes)for(var f=0;f<h.attributes.length;f++)0===h.attributes[f].nodeName.indexOf("jQuery")&&h.removeAttribute(h.attributes[f].nodeName);c.innerHTML="",c.appendChild($destroyable[0].childNodes[0]),a+=c.innerHTML}var p=t(e.overflow.id)[0];p.innerHTML=a}else n($col,$destroyable.contents());u.data("columnizing",!1),e.overflow&&e.overflow.doneFunc&&e.overflow.doneFunc(),e.doneFunc()}}function l(e){return 3==e.nodeType?/^\s+$/.test(e.nodeValue)&&e.previousSibling?l(e.previousSibling):!1:1!=e.nodeType?!1:t(e).hasClass(r("dontend"))?!0:0===e.childNodes.length?!1:l(e.childNodes[e.childNodes.length-1])}function c(){if(v=0,f!=u.width()){f=u.width();var i=Math.round(u.width()/e.width),c=e.width,g=e.height;if(e.columns&&(i=e.columns),p&&(i=d.find(r("columnbreak",!0)).length+1,c=!1),1>=i)return a();if(!u.data("columnizing")){u.data("columnized",!0),u.data("columnizing",!0),u.empty(),u.append(t("<div style='width:"+e.setWidth(i)+"%; float: "+e.columnFloat+";'></div>")),C=u.children(":last"),n(C,d.clone()),h=C.height(),u.empty();var m=h/i,y=3,b=!1;e.overflow?(y=1,m=e.overflow.height):g&&c&&(y=1,m=g,b=!0);for(var w=0;y>w&&20>w;w++){u.empty();var _,x,C,E;try{_=d.clone(!0)}catch(k){_=d.clone()}_.css("visibility","hidden");for(var $=0;i>$;$++)x=0===$?r("first"):"",x+=" "+r("column"),x=$==i-1?r("last")+" "+x:x,u.append(t("<div class='"+x+"' style='width:"+e.setWidth(i)+"%; float: "+e.columnFloat+";'></div>"));for($=0;$<i-(e.overflow?0:1)||b&&_.contents().length;){for(u.children().length<=$&&u.append(t("<div class='"+x+"' style='width:"+e.setWidth(i)+"%; float: "+e.columnFloat+";'></div>")),C=u.children().eq($),b&&C.width(c+"px"),o(C,_,C,m),s(C,_,C,m);C.contents(":last").length&&l(C.contents(":last").get(0));)E=C.contents(":last"),E.remove(),_.prepend(E);$++,0===C.contents().length&&_.contents().length?C.append(_.contents(":first")):$!=i-(e.overflow?0:1)||e.overflow||_.find(r("columnbreak",!0)).length&&i++}if(e.overflow&&!b){var S=!1,T=document.all&&-1!=navigator.appVersion.indexOf("MSIE 7.");if(S||T){for(var A="",I=document.createElement("DIV");_[0].childNodes.length>0;){var O=_[0].childNodes[0];for($=0;$<O.attributes.length;$++)0===O.attributes[$].nodeName.indexOf("jQuery")&&O.removeAttribute(O.attributes[$].nodeName);I.innerHTML="",I.appendChild(_[0].childNodes[0]),A+=I.innerHTML}var j=t(e.overflow.id)[0];j.innerHTML=A}else t(e.overflow.id).empty().append(_.contents().clone(!0))}else if(b)u.children().each(function(t){C=u.children().eq(t),C.width(c+"px"),0===t?C.addClass(r("first")):t==u.children().length-1?C.addClass(r("last")):(C.removeClass(r("first")),C.removeClass(r("last")))}),u.width(u.children().length*c+"px");else{C=u.children().eq(u.children().length-1),_.contents().each(function(){C.append(t(this))});var M=(C.height(),0),R=1e7,B=0,L=!1,D=0;u.children().each(function(t){return function(e){var n=t.children().eq(e),i=n.children(":last").find(r("columnbreak",!0)).length;if(!i){var o=n.height();L=!1,M+=o,o>B&&(B=o,L=!0),R>o&&(R=o),D++}}}(u));var z=M/D;0===M?w=y:e.lastNeverTallest&&L?(v+=5,m+=30,w==y-1&&y++):B-R>30?m=z+30:Math.abs(z-m)>20?m=z:w=y}u.append(t("<br style='clear:both;'>"))}u.find(r("column",!0)).find(":first"+r("removeiffirst",!0)).remove(),u.find(r("column",!0)).find(":last"+r("removeiflast",!0)).remove(),u.find(r("split",!0)).find(":first"+r("removeiffirst",!0)).remove(),u.find(r("split",!0)).find(":last"+r("removeiflast",!0)).remove(),u.data("columnizing",!1),e.overflow&&e.overflow.doneFunc(),e.doneFunc()}}}var u=t(e.target?e.target:this),h=t(this).height(),d=t("<div></div>"),f=0,p=e.manualBreaks,g=i.cssClassPrefix;"string"==typeof e.cssClassPrefix&&(g=e.cssClassPrefix);var v=0;if(n(d,t(this).contents().clone(!0)),!e.ignoreImageLoading&&!e.target&&!u.data("imageLoaded")&&(u.data("imageLoaded",!0),t(this).find("img").length>0)){var m=function(t,i){return function(){t.data("firstImageLoaded")||(t.data("firstImageLoaded","true"),n(t.empty(),i.children().clone(!0)),t.columnize(e))}}(t(this),d);return t(this).find("img").one("load",m),void t(this).find("img").one("abort",m)}u.empty(),c(),e.buildOnce||t(window).resize(function(){e.buildOnce||(u.data("timeout")&&clearTimeout(u.data("timeout")),u.data("timeout",setTimeout(c,200)))})})},t.fn.renumberByJS=function(e,n,i,r){if(this.setList=function(e,n,i){var r,o=this.before.parents();if(r=t(e[this.offset-1]).find(">*"),r.last()[0].tagName!=i.toUpperCase())return this.debug&&console.log("Last item in previous column, isn't a list..."),0;r=r.length;var s=1;if(s=this.lastOther<=0?this.before.children().length+1:t(o[this.lastOther]).children().length+1,t(e[this.offset]).find(i+":first li.split").length){var a=t(e[this.offset-1]).find(i+":last li:last");if(""===this.elipsisText||t(e[this.offset-1]).find(i+":last ~ div").length||t(e[this.offset-1]).find(i+":last ~ p").length);else if(0==t(a).find("ul, ol, dl").length){var l=a.last().text(),c=l.length;";"==l.substring(c-1)?l.substring(c-4)!=this.elipsisText+";"&&(l=l.substring(0,c-1)+this.elipsisText+";"):l.substring(c-3)!=this.elipsisText&&(l+=this.elipsisText),a.last().text(l)}0==t(e[this.offset]).find(i+":first >li.split >"+i).length&&s--}if(1==r&&(s+=this.prevMax),this.nest>1){this.debug&&console.log("Supposed to be a nested list...decr"),s--;var u=t(e[this.offset-1]).find(i+":first li.split:first");u.length>0&&(this.debug&&console.log("Previous column started with a split item, so that count is one less than expected"),s--),u=t(e[this.offset]).find(i+":first li:first").clone(),u.children().remove(),t.trim(u.text()).length>0&&(this.debug&&console.log("If that was a complete list in the previous column, don't decr."),s++,0==t(e[this.offset-1]).find(">"+i+":last ").children().length&&(this.debug&&console.log("unless that was empty, in which case revert"),s--))}else{var u=t(e[this.offset]).find(i+":first li:first "+i+".split li.split");u.length>0&&(this.debug&&console.log("[Nested] Column started with a split item, so that count is one less than expected"),s--)}return this.debug&&console.log("Setting the start value to "+s+" ("+this.prevMax+")"),s>0&&("function"==typeof this.setColumnStart?this.setColumnStart(n,s):n.attr("start",s)),0},"undefined"==typeof i&&(i=!1),"undefined"==typeof r&&(r=!1),!i&&!r)throw"renumberByJS(): Bad param, must pass an id or a class";var o="";this.prevMax=1,o=r?"."+r:"#"+i;var s=e.toLowerCase(),a=e.toUpperCase();for(this.cols=t(o),this.debug&&console.log("There are "+this.cols.length+" items, looking for "+s),this.before=t(this.cols[0]).find(s+":last"),this.prevMax=this.before.children().length,this.offset=1;this.offset<this.cols.length;this.offset++)if(this.debug&&console.log("iterating "+this.offset+"...[of "+this.cols.length+"]"),this.offset%n!=0){if(this.before=t(this.cols[this.offset-1]).find(s+":last"),this.before.length){this.debug&&console.log("Have some "+e+" elements in the previous column");var l=t(this.cols[this.offset]).find(s+":first"),c=t(this.cols[this.offset]).find("*:first");if(c[0]!==l[0])continue;var u=this.before.parents();this.lastOther=0;for(var h=!1;this.lastOther<u.length;this.lastOther++)if(u[this.lastOther].tagName!=a&&"LI"!=u[this.lastOther].tagName){h=!0,this.lastOther--;break}this.nest=1,t(this.cols[this.offset]).find(">"+s+":first li "+s+":first").length&&(this.nest=2),this.setList(this.cols,l,s),this.lastOther--,l=t(this.cols[this.offset]).find(s+":first li "+s+":first"),l.length&&(this.before=t(this.cols[this.offset-1]).find(">"+s+":last li "+s+":last"),this.prevMax=0,this.nest=1,this.setList(this.cols,l,s));var d=t(this.cols[this.offset-1]).find(">"+s+":last");this.prevMax=d.children().length}}else this.debug&&console.log("First column (in theory..)"),this.prevMax=1;return 0}}(jQuery)},function(t,e,n){"use strict";var i=n(1),r=n(6),o=(n(10),i(".content_filter").offset().top-10),s=n(16);n(31),i.pjax.defaults.timeout=3e4,i.pjax.submitFilter=function(t,e,n){n.container=i(e);var r=t.currentTarget,o={type:r.method.toUpperCase(),url:r.action,container:i(r).attr("data-pjax"),target:r};o.data=i(r).find(":input:value(!):not(.default)").serializeArray(),i.pjax(i.extend({},o,n)),t.preventDefault()};var a=r.LayoutView.extend({regions:{content:"#list",result:"#result",wizard:"#wizard"},ui:{filter:"#filter-pjax",priceFrom:".filter_value_from",priceTo:".filter_value_to"},events:{"change .rangeselect":"onRangeTypeChange","input.numeric-input keypress":"onNumericInput",change:"onChange","click [list-pjax]":"onListClick","click [filter-pjax]":"onFilterClick","click [data-pjax]":"onFilterClick","click .anyprice":"onResetPrice","pjax:success.hideIndicator":"hideIndicator","pjax:success.hideLoading":"hideLoading","pjax:success.initElements":"initElements","click .show_brands a":"onToggleBrands"},indicator:null,initialize:function(){this.loadWizard()},loadWizard:function(){i(this.regions.wizard).length&&s()},onToggleBrands:function(t){t.preventDefault(),this.$el.find(".content_filter .brands_item.hidden").toggle(),this.$el.find(".show_brands .type").toggleClass("hidden")},onChange:function(t){i(t.target).hasClass("disable-filter-events")||(i.pjax.submitFilter(t,this.result.$el.length?this.result.el:this.content.el,{scrollTo:!1}),this.showIndicator(t.target))},onListClick:function(t){var e=!1,n=i(t.currentTarget).data();n.showLoading&&this.showLoading(),n.scroll&&(e=o),i.pjax.click(t,this.result.$el.length?this.result.el:this.content.el,{scrollTo:e})},onFilterClick:function(t){var e=i(t.currentTarget);this.showLoading(),i.pjax.click(t,this.ui.filter,{scrollTo:!1}),e.hasClass("clear-filter")&&this.$el.one("pjax:success",function(){"data"in RR&&i.related(RR.data.JSON.placements)})},onResetPrice:function(t){var e=this.$el.find(this.ui.priceFrom),n=this.$el.find(this.ui.priceTo);e.val(e.data("minValue")),n.val(n.data("maxValue")),n.trigger("change")},onRangeTypeChange:function(t){var e="1"===i(t.target).val(),n=i(t.target).closest(".js-range");n.find("input").val(""),e?(n.find(".range_inputwrap").hide(),n.find(".js-precise").show()):(n.find(".range_inputwrap").show(),n.find(".js-precise").hide()),$el.trigger("change",t)},onNumericInput:function(t){return 8!=t.which&&0!=t.which&&46!=t.which&&(t.which<48||t.which>57)&&13!=t.which?!1:void 0},showIndicator:function(t){this.hideIndicator();var e=i(t).closest(".notice-keeper").size()?i(t).closest(".notice-keeper"):i(t).parent();this.indicator=i('<div id="results_notice"><div class="results_notice loading"><div class="load"></div></div></div>'),e.prepend(this.indicator)},hideIndicator:function(){this.indicator&&(this.indicator.remove(),this.indicator=null)},showLoading:function(){this.$el.addClass("loading")},hideLoading:function(){this.$el.removeClass("loading")},initElements:function(){hiddenLinkReplace(),this.content.el&&(i(window).trigger("compare-buttons-init"),i(window).trigger("basket-buttons-init")),this.loadWizard()}});new a({el:i("#selection-form")})},function(t,e,n){t.exports=n(7)},function(t,e,n){var i,r;!function(o,s){i=[n(8),n(10),n(12),n(14)],r=function(t,e){return o.Marionette=o.Mn=s(o,t,e)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(this,function(t,e,n){"use strict";var i=t.Marionette,r=t.Mn,o=e.Marionette={};o.VERSION="2.4.7",o.noConflict=function(){return t.Marionette=i,t.Mn=r,this},o.Deferred=e.$.Deferred,o.FEATURES={},o.isEnabled=function(t){return!!o.FEATURES[t]},o.extend=e.Model.extend,o.isNodeAttached=function(t){return e.$.contains(document.documentElement,t)},o.mergeOptions=function(t,e){t&&n.extend(this,n.pick(t,e))},o.getOption=function(t,e){return t&&e?t.options&&void 0!==t.options[e]?t.options[e]:t[e]:void 0},o.proxyGetOption=function(t){return o.getOption(this,t)},o._getValue=function(t,e,i){return n.isFunction(t)&&(t=i?t.apply(e,i):t.call(e)),t},o.normalizeMethods=function(t){return n.reduce(t,function(t,e,i){return n.isFunction(e)||(e=this[e]),e&&(t[i]=e),t},{},this)},o.normalizeUIString=function(t,e){return t.replace(/@ui\.[a-zA-Z-_$0-9]*/g,function(t){return e[t.slice(4)]})},o.normalizeUIKeys=function(t,e){return n.reduce(t,function(t,n,i){var r=o.normalizeUIString(i,e);return t[r]=n,t},{})},o.normalizeUIValues=function(t,e,i){return n.each(t,function(r,s){n.isString(r)?t[s]=o.normalizeUIString(r,e):n.isObject(r)&&n.isArray(i)&&(n.extend(r,o.normalizeUIValues(n.pick(r,i),e)),n.each(i,function(t){var i=r[t];n.isString(i)&&(r[t]=o.normalizeUIString(i,e))}))}),t},o.actAsCollection=function(t,e){var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(i,function(i){t[i]=function(){var t=n.values(n.result(this,e)),r=[t].concat(n.toArray(arguments));return n[i].apply(n,r)}})};var s=o.deprecate=function(t,e){n.isObject(t)&&(t=t.prev+" is going to be removed in the future. Please use "+t.next+" instead."+(t.url?" See: "+t.url:"")),void 0!==e&&e||s._cache[t]||(s._warn("Deprecation warning: "+t),s._cache[t]=!0);
};s._console="undefined"!=typeof console?console:{},s._warn=function(){var t=s._console.warn||s._console.log||function(){};return t.apply(s._console,arguments)},s._cache={},o._triggerMethod=function(){function t(t,e,n){return n.toUpperCase()}var e=/(^|:)(\w)/gi;return function(i,r,o){var s=arguments.length<3;s&&(o=r,r=o[0]);var a,l="on"+r.replace(e,t),c=i[l];return n.isFunction(c)&&(a=c.apply(i,s?n.rest(o):o)),n.isFunction(i.trigger)&&(s+o.length>1?i.trigger.apply(i,s?o:[r].concat(n.drop(o,0))):i.trigger(r)),a}}(),o.triggerMethod=function(t){return o._triggerMethod(this,arguments)},o.triggerMethodOn=function(t){var e=n.isFunction(t.triggerMethod)?t.triggerMethod:o.triggerMethod;return e.apply(t,n.rest(arguments))},o.MonitorDOMRefresh=function(t){function e(){t._isShown=!0,i()}function n(){t._isRendered=!0,i()}function i(){t._isShown&&t._isRendered&&o.isNodeAttached(t.el)&&o.triggerMethodOn(t,"dom:refresh",t)}t._isDomRefreshMonitored||(t._isDomRefreshMonitored=!0,t.on({show:e,render:n}))},function(t){function e(e,i,r,o){var s=o.split(/\s+/);n.each(s,function(n){var o=e[n];if(!o)throw new t.Error('Method "'+n+'" was configured as an event handler, but does not exist.');e.listenTo(i,r,o)})}function i(t,e,n,i){t.listenTo(e,n,i)}function r(t,e,i,r){var o=r.split(/\s+/);n.each(o,function(n){var r=t[n];t.stopListening(e,i,r)})}function o(t,e,n,i){t.stopListening(e,n,i)}function s(e,i,r,o,s){if(i&&r){if(!n.isObject(r))throw new t.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});r=t._getValue(r,e),n.each(r,function(t,r){n.isFunction(t)?o(e,i,r,t):s(e,i,r,t)})}}t.bindEntityEvents=function(t,n,r){s(t,n,r,i,e)},t.unbindEntityEvents=function(t,e,n){s(t,e,n,o,r)},t.proxyBindEntityEvents=function(e,n){return t.bindEntityEvents(this,e,n)},t.proxyUnbindEntityEvents=function(e,n){return t.unbindEntityEvents(this,e,n)}}(o);var a=["description","fileName","lineNumber","name","message","number"];return o.Error=o.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+o.VERSION+"/",constructor:function(t,e){n.isObject(t)?(e=t,t=e.message):e||(e={});var i=Error.call(this,t);n.extend(this,n.pick(i,a),n.pick(e,a)),this.captureStackTrace(),e.url&&(this.url=this.urlRoot+e.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,o.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),o.Error.extend=o.extend,o.Callbacks=function(){this._deferred=o.Deferred(),this._callbacks=[]},n.extend(o.Callbacks.prototype,{add:function(t,e){var i=n.result(this._deferred,"promise");this._callbacks.push({cb:t,ctx:e}),i.then(function(n){e&&(n.context=e),t.call(n.context,n.options)})},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=o.Deferred(),this._callbacks=[],n.each(t,function(t){this.add(t.cb,t.ctx)},this)}}),o.Controller=function(t){this.options=t||{},n.isFunction(this.initialize)&&this.initialize(this.options)},o.Controller.extend=o.extend,n.extend(o.Controller.prototype,e.Events,{destroy:function(){return o._triggerMethod(this,"before:destroy",arguments),o._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption}),o.Object=function(t){this.options=n.extend({},n.result(this,"options"),t),this.initialize.apply(this,arguments)},o.Object.extend=o.extend,n.extend(o.Object.prototype,e.Events,{initialize:function(){},destroy:function(t){return t=t||{},this.triggerMethod("before:destroy",t),this.triggerMethod("destroy",t),this.stopListening(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Region=o.Object.extend({constructor:function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new o.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),o.Object.call(this,t)},show:function(t,e){if(this._ensureElement()){this._ensureViewIsIntact(t),o.MonitorDOMRefresh(t);var i=e||{},r=t!==this.currentView,s=!!i.preventDestroy,a=!!i.forceShow,l=!!this.currentView,c=r&&!s,u=r||a;if(l&&this.triggerMethod("before:swapOut",this.currentView,this,e),this.currentView&&r&&delete this.currentView._parent,c?this.empty():l&&u&&this.currentView.off("destroy",this.empty,this),u){t.once("destroy",this.empty,this),t._parent=this,this._renderView(t),l&&this.triggerMethod("before:swap",t,this,e),this.triggerMethod("before:show",t,this,e),o.triggerMethodOn(t,"before:show",t,this,e),l&&this.triggerMethod("swapOut",this.currentView,this,e);var h=o.isNodeAttached(this.el),d=[],f=n.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},i);return h&&f.triggerBeforeAttach&&(d=this._displayedViews(t),this._triggerAttach(d,"before:")),this.attachHtml(t),this.currentView=t,h&&f.triggerAttach&&(d=this._displayedViews(t),this._triggerAttach(d)),l&&this.triggerMethod("swap",t,this,e),this.triggerMethod("show",t,this,e),o.triggerMethodOn(t,"show",t,this,e),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(t,e){var i=(e||"")+"attach";n.each(t,function(t){o.triggerMethodOn(t,i,t,this)},this)},_displayedViews:function(t){return n.union([t],n.result(t,"_getNestedViews")||[])},_renderView:function(t){t.supportsRenderLifecycle||o.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||o.triggerMethodOn(t,"render",t)},_ensureElement:function(){if(n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new o.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(t){if(!t)throw new o.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'})},getEl:function(t){return e.$(t,o._getValue(this.options.parentEl,this))},attachHtml:function(t){this.$el.contents().detach(),this.el.appendChild(t.el)},empty:function(t){var e=this.currentView,n=t||{},i=!!n.preventDestroy;return e?(e.off("destroy",this.empty,this),this.triggerMethod("before:empty",e),i||this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,i&&this.$el.contents().detach(),this):this},_destroyView:function(){var t=this.currentView;t.isDestroyed||(t.supportsDestroyLifecycle||o.triggerMethodOn(t,"before:destroy",t),t.destroy?t.destroy():(t.remove(),t.isDestroyed=!0),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"destroy",t))},attachView:function(t){return this.currentView&&delete this.currentView._parent,t._parent=this,this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(t,e){if(n.isString(t))return this._buildRegionFromSelector(t,e);if(t.selector||t.el||t.regionClass)return this._buildRegionFromObject(t,e);if(n.isFunction(t))return this._buildRegionFromRegionClass(t);throw new o.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,e){var i=t.regionClass||e,r=n.omit(t,"selector","regionClass");return t.selector&&!r.el&&(r.el=t.selector),new i(r)},_buildRegionFromRegionClass:function(t){return new t}}),o.RegionManager=o.Controller.extend({constructor:function(t){this._regions={},this.length=0,o.Controller.call(this,t),this.addRegions(this.getOption("regions"))},addRegions:function(t,e){return t=o._getValue(t,this,arguments),n.reduce(t,function(t,i,r){return n.isString(i)&&(i={selector:i}),i.selector&&(i=n.defaults({},i,e)),t[r]=this.addRegion(r,i),t},{},this)},addRegion:function(t,e){var n;return n=e instanceof o.Region?e:o.Region.buildRegion(e,o.Region),this.triggerMethod("before:add:region",t,n),n._parent=this,this._store(t,n),this.triggerMethod("add:region",t,n),n},get:function(t){return this._regions[t]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return n.each(this._regions,function(t,e){this._remove(e,t)},this),t},emptyRegions:function(){var t=this.getRegions();return n.invoke(t,"empty"),t},destroy:function(){return this.removeRegions(),o.Controller.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._regions[t]||this.length++,this._regions[t]=e},_remove:function(t,e){this.triggerMethod("before:remove:region",t,e),e.empty(),e.stopListening(),delete e._parent,delete this._regions[t],this.length--,this.triggerMethod("remove:region",t,e)}}),o.actAsCollection(o.RegionManager.prototype,"_regions"),o.TemplateCache=function(t){this.templateId=t},n.extend(o.TemplateCache,{templateCaches:{},get:function(t,e){var n=this.templateCaches[t];return n||(n=new o.TemplateCache(t),this.templateCaches[t]=n),n.load(e)},clear:function(){var t,e=n.toArray(arguments),i=e.length;if(i>0)for(t=0;i>t;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),n.extend(o.TemplateCache.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(t,n){var i=e.$(t);if(!i.length)throw new o.Error({name:"NoTemplateError",message:'Could not find template: "'+t+'"'});return i.html()},compileTemplate:function(t,e){return n.template(t,e)}}),o.Renderer={render:function(t,e){if(!t)throw new o.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var i=n.isFunction(t)?t:o.TemplateCache.get(t);return i(e)}},o.View=e.View.extend({isDestroyed:!1,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,constructor:function(t){this.render=n.bind(this.render,this),t=o._getValue(t,this),this.options=n.extend({},n.result(this,"options"),t),this._behaviors=o.Behaviors(this),e.View.call(this,this.options),o.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(t){return t.toJSON.apply(t,n.rest(arguments))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption("templateHelpers");return e=o._getValue(e,this),n.extend(t,e)},normalizeUIKeys:function(t){var e=n.result(this,"_uiBindings");return o.normalizeUIKeys(t,e||n.result(this,"ui"))},normalizeUIValues:function(t,e){var i=n.result(this,"ui"),r=n.result(this,"_uiBindings");return o.normalizeUIValues(t,r||i,e)},configureTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(n.result(this,"triggers"));return n.reduce(t,function(t,e,n){return t[n]=this._buildViewTrigger(e),t},{},this)}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(t){t.bindEntityEvents(this.model,t.getOption("modelEvents")),t.bindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(t){var i=o._getValue(t||this.events,this);i=this.normalizeUIKeys(i),n.isUndefined(t)&&(this.events=i);var r={},s=n.result(this,"behaviorEvents")||{},a=this.configureTriggers(),l=n.result(this,"behaviorTriggers")||{};n.extend(r,s,i,a,l),e.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){return e.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(t){t.unbindEntityEvents(this.model,t.getOption("modelEvents")),t.unbindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var t=n.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(t)),this.unbindUIElements(),this.isRendered=!1,this.remove(),n.invoke(this._behaviors,"destroy",t),this},bindUIElements:function(){this._bindUIElements(),n.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=n.result(this,"_uiBindings");this.ui={},n.each(t,function(t,e){this.ui[e]=this.$(t)},this)}},unbindUIElements:function(){this._unbindUIElements(),n.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(t,e){delete this.ui[e]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(t){var e=n.defaults({},t,{preventDefault:!0,stopPropagation:!0}),i=n.isObject(t)?e.event:t;return function(t){t&&(t.preventDefault&&e.preventDefault&&t.preventDefault(),t.stopPropagation&&e.stopPropagation&&t.stopPropagation());var n={view:this,model:this.model,collection:this.collection};this.triggerMethod(i,n)}},setElement:function(){var t=e.View.prototype.setElement.apply(this,arguments);return n.invoke(this._behaviors,"proxyViewProperties",this),t},triggerMethod:function(){var t=o._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],n.rest(arguments)),t},_triggerEventOnBehaviors:function(t){for(var e=o._triggerMethod,n=this._behaviors,i=0,r=n&&n.length;r>i;i++)e(n[i],t)},_triggerEventOnParentLayout:function(t,e){var i=this._parentLayoutView();if(i){var r=o.getOption(i,"childViewEventPrefix"),s=r+":"+t,a=[this].concat(e);o._triggerMethod(i,s,a);var l=o.getOption(i,"childEvents");l=o._getValue(l,i);var c=i.normalizeMethods(l);c&&n.isFunction(c[t])&&c[t].apply(i,a)}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var t=this._getImmediateChildren();return t.length?n.reduce(t,function(t,e){return e._getNestedViews?t.concat(e._getNestedViews()):t},t):t},_parentLayoutView:function(){for(var t=this._parent;t;){if(t instanceof o.LayoutView)return t;t=t._parent}},normalizeMethods:o.normalizeMethods,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.ItemView=o.View.extend({constructor:function(){o.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var t=[this.model||this.collection];return arguments.length&&t.push.apply(t,arguments),this.model?this.serializeModel.apply(this,t):{items:this.serializeCollection.apply(this,t)}},serializeCollection:function(t){return t.toJSON.apply(t,n.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(t!==!1){if(!t)throw new o.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var e=this.mixinTemplateHelpers(this.serializeData()),n=o.Renderer.render(t,e,this);return this.attachElContent(n),this}},attachElContent:function(t){return this.$el.html(t),this}}),o.CollectionView=o.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(t){this.once("render",this._initialEvents),this._initChildViewStorage(),o.View.apply(this,arguments),this.on({"before:show":this._onBeforeShowCalled,show:this._onShowCalled,"before:attach":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var t,e=this._isShown&&o.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"before:show"),e&&this._triggerBeforeAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"before:attach")),this.attachBuffer(this,this._createBuffer()),e&&this._triggerAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"attach")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"show"),this.initRenderBuffer()},_triggerMethodMany:function(t,e,i){var r=n.drop(arguments,3);n.each(t,function(t){o.triggerMethodOn.apply(t,[t,i,t,e].concat(r))})},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t,e,i){var r=void 0!==i.at&&(i.index||e.indexOf(t));if((this.getOption("filter")||r===!1)&&(r=n.indexOf(this._filteredSortedModels(r),t)),this._shouldAddChild(t,r)){this.destroyEmptyView();var o=this.getChildView(t);this.addChild(t,o,r)}},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each(function(t){o.triggerMethodOn(t,"before:show",t)})},_onShowCalled:function(){this.children.each(function(t){o.triggerMethodOn(t,"show",t)})},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod("render",this),this},reorder:function(){var t=this.children,e=this._filteredSortedModels();if(!e.length&&this._showingEmptyView)return this;var i=n.some(e,function(e){return!t.findByModel(e)});if(i)this.render();else{var r=n.map(e,function(e,n){var i=t.findByModel(e);return i._index=n,i.el}),o=t.filter(function(t){return!n.contains(r,t.el)});this.triggerMethod("before:reorder"),this._appendReorderedChildren(r),n.each(o,this.removeChildView,this),this.checkEmpty(),this.triggerMethod("reorder")}},resortView:function(){o.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var t=this._filteredSortedModels(),e=n.find(t,function(t,e){var n=this.children.findByModel(t);return!n||n._index!==e},this);e&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.$el.append(t)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.getOption("filter")&&this.showEmptyView())},showCollection:function(){var t,e=this._filteredSortedModels();n.each(e,function(e,n){t=this.getChildView(e),this.addChild(e,t,n)},this)},_filteredSortedModels:function(t){var e=this.getViewComparator(),i=this.collection.models;if(t=Math.min(Math.max(t,0),i.length-1),e){var r;t&&(r=i[t],i=i.slice(0,t).concat(i.slice(t+1))),i=this._sortModelsBy(i,e),r&&i.splice(t,0,r)}return this.getOption("filter")&&(i=n.filter(i,function(t,e){return this._shouldAddChild(t,e)},this)),i},_sortModelsBy:function(t,e){return"string"==typeof e?n.sortBy(t,function(t){return t.get(e)},this):1===e.length?n.sortBy(t,e,this):t.sort(n.bind(e,this))},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new e.Model;this.addEmptyView(n,t),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(t,e){var i,r=this._isShown&&!this.isBuffering&&o.isNodeAttached(this.el),s=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(s)&&(s=s.call(this,t,this._emptyViewIndex));var a=this.buildChildView(t,e,s);a._parent=this,this.proxyChildEvents(a),a.once("render",function(){this._isShown&&o.triggerMethodOn(a,"before:show",a),r&&this._triggerBeforeAttach&&(i=this._getViewAndNested(a),this._triggerMethodMany(i,this,"before:attach"))},this),this.children.add(a),this.renderChildView(a,this._emptyViewIndex),r&&this._triggerAttach&&(i=this._getViewAndNested(a),this._triggerMethodMany(i,this,"attach")),this._isShown&&o.triggerMethodOn(a,"show",a)},getChildView:function(t){var e=this.getOption("childView");if(!e)throw new o.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return e},addChild:function(t,e,n){var i=this.getOption("childViewOptions");i=o._getValue(i,this,[t,n]);var r=this.buildChildView(t,e,i);return this._updateIndices(r,!0,n),this.triggerMethod("before:add:child",r),this._addChildView(r,n),this.triggerMethod("add:child",r),r._parent=this,r},_updateIndices:function(t,e,n){this.getOption("sort")&&(e&&(t._index=n),this.children.each(function(n){n._index>=t._index&&(n._index+=e?1:-1)}))},_addChildView:function(t,e){var n,i=this._isShown&&!this.isBuffering&&o.isNodeAttached(this.el);this.proxyChildEvents(t),t.once("render",function(){this._isShown&&!this.isBuffering&&o.triggerMethodOn(t,"before:show",t),i&&this._triggerBeforeAttach&&(n=this._getViewAndNested(t),this._triggerMethodMany(n,this,"before:attach"))},this),this.children.add(t),this.renderChildView(t,e),i&&this._triggerAttach&&(n=this._getViewAndNested(t),this._triggerMethodMany(n,this,"attach")),this._isShown&&!this.isBuffering&&o.triggerMethodOn(t,"show",t)},renderChildView:function(t,e){return t.supportsRenderLifecycle||o.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||o.triggerMethodOn(t,"render",t),this.attachHtml(this,t,e),t},buildChildView:function(t,e,i){var r=n.extend({model:t},i),s=new e(r);return o.MonitorDOMRefresh(s),s},removeChildView:function(t){return t?(this.triggerMethod("before:remove:child",t),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"before:destroy",t),t.destroy?t.destroy():t.remove(),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"destroy",t),delete t._parent,this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",t),this._updateIndices(t,!1),t):t},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},_createBuffer:function(){var t=document.createDocumentFragment();return n.each(this._bufferedChildren,function(e){t.appendChild(e.el)}),t},attachHtml:function(t,e,n){t.isBuffering?t._bufferedChildren.splice(n,0,e):t._insertBefore(e,n)||t._insertAfter(e)},_insertBefore:function(t,e){var n,i=this.getOption("sort")&&e<this.children.length-1;return i&&(n=this.children.find(function(t){return t._index===e+1})),n?(n.$el.before(t.el),!0):!1},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new e.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod("before:destroy:collection"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod("destroy:collection"),o.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(t){var e=t||{},i=!0,r=this.children.map(n.identity);return n.isUndefined(e.checkEmpty)||(i=e.checkEmpty),this.children.each(this.removeChildView,this),i&&this.checkEmpty(),r},_shouldAddChild:function(t,e){var i=this.getOption("filter");return!n.isFunction(i)||i.call(this,t,e,this.collection)},proxyChildEvents:function(t){var e=this.getOption("childViewEventPrefix");this.listenTo(t,"all",function(){var i=n.toArray(arguments),r=i[0],o=this.normalizeMethods(n.result(this,"childEvents"));i[0]=e+":"+r,i.splice(1,0,t),"undefined"!=typeof o&&n.isFunction(o[r])&&o[r].apply(this,i.slice(1)),this.triggerMethod.apply(this,i)})},_getImmediateChildren:function(){return n.values(this.children._views)},_getViewAndNested:function(t){return[t].concat(n.result(t,"_getNestedViews")||[])},getViewComparator:function(){return this.getOption("viewComparator")}}),o.CompositeView=o.CollectionView.extend({constructor:function(){o.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(t){var e=this.getOption("childView")||this.constructor;return e},serializeData:function(){var t={};return this.model&&(t=n.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&o.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod("before:render:template");var e=this.getTemplate(),n=o.Renderer.render(e,t,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t,e){var n=this.getChildViewContainer(t);n.append(e)},_insertAfter:function(t){var e=this.getChildViewContainer(this,t);e.append(t.el)},_appendReorderedChildren:function(t){var e=this.getChildViewContainer(this);e.append(t)},getChildViewContainer:function(t,e){if(t.$childViewContainer)return t.$childViewContainer;var n,i=o.getOption(t,"childViewContainer");if(i){var r=o._getValue(i,t);if(n="@"===r.charAt(0)&&t.ui?t.ui[r.substr(4)]:t.$(r),n.length<=0)throw new o.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else n=t.$el;return t.$childViewContainer=n,n},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),o.LayoutView=o.ItemView.extend({regionClass:o.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),o.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),o.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.getOption("destroyImmediate")===!0&&this.$el.remove(),this.regionManager.destroy(),o.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(t,e,i){var r=this.getRegion(t);return r.show.apply(r,n.rest(arguments))},getChildView:function(t){return this.getRegion(t).currentView},addRegion:function(t,e){var n={};return n[t]=e,this._buildRegions(n)[t]},addRegions:function(t){return this.regions=n.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return delete this.regions[t],this.regionManager.removeRegion(t)},getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e={regionClass:this.getOption("regionClass"),parentEl:n.partial(n.result,this,"el")};return this.regionManager.addRegions(t,e)},_initializeRegions:function(t){var e;this._initRegionManager(),e=o._getValue(this.regions,this,[t])||{};var i=this.getOption.call(t,"regions");i=o._getValue(i,this,[t]),n.extend(e,i),e=this.normalizeUIValues(e,["selector","el"]),this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new o.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",function(t){this.triggerMethod("before:add:region",t)}),this.listenTo(this.regionManager,"add:region",function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)}),this.listenTo(this.regionManager,"before:remove:region",function(t){this.triggerMethod("before:remove:region",t)}),this.listenTo(this.regionManager,"remove:region",function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)})},_getImmediateChildren:function(){return n.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),o.Behavior=o.Object.extend({constructor:function(t,e){this.view=e,this.defaults=n.result(this,"defaults")||{},this.options=n.extend({},this.defaults,t),this.ui=n.extend({},n.result(e,"ui"),n.result(this,"ui")),o.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(t){this.$el=t.$el,this.el=t.el}}),o.Behaviors=function(t,e){function n(t,i){return e.isObject(t.behaviors)?(i=n.parseBehaviors(t,i||e.result(t,"behaviors")),n.wrap(t,i,e.keys(s)),i):{}}function i(t,e){this._view=t,this._behaviors=e,this._triggers={}}function r(t){return t._uiBindings||t.ui}var o=/^(\S+)\s*(.*)$/,s={behaviorTriggers:function(t,e){var n=new i(this,e);return n.buildBehaviorTriggers()},behaviorEvents:function(n,i){var s={};return e.each(i,function(n,i){var a={},l=e.clone(e.result(n,"events"))||{};l=t.normalizeUIKeys(l,r(n));var c=0;e.each(l,function(t,r){var s=r.match(o),l=s[1]+"."+[this.cid,i,c++," "].join(""),u=s[2],h=l+u,d=e.isFunction(t)?t:n[t];d&&(a[h]=e.bind(d,n))},this),s=e.extend(s,a)},this),s}};return e.extend(n,{behaviorsLookup:function(){throw new t.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(e,i){return e.behaviorClass?e.behaviorClass:t._getValue(n.behaviorsLookup,this,[e,i])[i]},parseBehaviors:function(t,i){return e.chain(i).map(function(i,r){var o=n.getBehaviorClass(i,r),s=new o(i,t),a=n.parseBehaviors(t,e.result(s,"behaviors"));return[s].concat(a)}).flatten().value()},wrap:function(t,n,i){e.each(i,function(i){t[i]=e.partial(s[i],t[i],n)})}}),e.extend(i.prototype,{buildBehaviorTriggers:function(){return e.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(n,i){var o=e.clone(e.result(n,"triggers"))||{};o=t.normalizeUIKeys(o,r(n)),e.each(o,e.bind(this._setHandlerForBehavior,this,n,i))},_setHandlerForBehavior:function(t,e,n,i){var r=i.replace(/^\S+/,function(t){return t+".behaviortriggers"+e});this._triggers[r]=this._view._buildViewTrigger(n)}}),n}(o,n),o.AppRouter=e.Router.extend({constructor:function(t){this.options=t||{},e.Router.apply(this,arguments);var n=this.getOption("appRoutes"),i=this._getController();this.processAppRoutes(i,n),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var n=this._getController();this._addAppRoute(n,t,e)},_processOnRoute:function(t,e){if(n.isFunction(this.onRoute)){var i=n.invert(this.getOption("appRoutes"))[t];this.onRoute(t,i,e)}},processAppRoutes:function(t,e){if(e){var i=n.keys(e).reverse();n.each(i,function(n){
this._addAppRoute(t,n,e[n])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,e,i){var r=t[i];if(!r)throw new o.Error('Method "'+i+'" was not found on the controller');this.route(e,i,n.bind(r,t))},mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,triggerMethod:o.triggerMethod,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Application=o.Object.extend({constructor:function(t){this._initializeRegions(t),this._initCallbacks=new o.Callbacks,this.submodules={},n.extend(this,t),this._initChannel(),o.Object.apply(this,arguments)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("before:start",t),this._initCallbacks.run(t,this),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var i=o.Module.getClass(e),r=n.toArray(arguments);return r.unshift(this),i.create.apply(i,r)},getRegionManager:function(){return new o.RegionManager},_initializeRegions:function(t){var e=n.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var i=o.getOption(t,"regions");return n.isFunction(i)&&(i=i.call(this,t)),n.extend(e,i),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",function(){o._triggerMethod(this,"before:add:region",arguments)}),this.listenTo(this._regionManager,"add:region",function(t,e){this[t]=e,o._triggerMethod(this,"add:region",arguments)}),this.listenTo(this._regionManager,"before:remove:region",function(){o._triggerMethod(this,"before:remove:region",arguments)}),this.listenTo(this._regionManager,"remove:region",function(t){delete this[t],o._triggerMethod(this,"remove:region",arguments)})},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||e.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres}}),o.Module=function(t,e,i){this.moduleName=t,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,n.isFunction(this.initialize)&&this.initialize(t,e,this.options)},o.Module.extend=o.extend,n.extend(o.Module.prototype,e.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(n.each(this.submodules,function(e){e.startWithParent&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,i){if(t){var r=n.flatten([this,this.app,e,o,e.$,n,i]);t.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new o.Callbacks,this._finalizerCallbacks=new o.Callbacks},triggerMethod:o.triggerMethod}),n.extend(o.Module,{create:function(t,e,i){var r=t,o=n.drop(arguments,3);e=e.split(".");var s=e.length,a=[];return a[s-1]=i,n.each(e,function(e,n){var s=r;r=this._getModule(s,e,t,i),this._addModuleDefinition(s,r,a[n],o)},this),r},_getModule:function(t,e,i,r,o){var s=n.extend({},r),a=this.getClass(r),l=t[e];return l||(l=new a(e,i,s),t[e]=l,t.submodules[e]=l),l},getClass:function(t){var e=o.Module;return t?t.prototype instanceof e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,n,i){var r=this._getDefine(n),o=this._getStartWithParent(n,e);r&&e.addDefinition(r,i),this._addStartWithParent(t,e,o)},_getStartWithParent:function(t,e){var i;return n.isFunction(t)&&t.prototype instanceof o.Module?(i=e.constructor.prototype.startWithParent,n.isUndefined(i)?!0:i):n.isObject(t)?(i=t.startWithParent,n.isUndefined(i)?!0:i):!0},_getDefine:function(t){return!n.isFunction(t)||t.prototype instanceof o.Module?n.isObject(t)?t.define:null:t},_addStartWithParent:function(t,e,n){e.startWithParent=e.startWithParent&&n,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer(function(t){e.startWithParent&&e.start(t)}))}}),o})},function(t,e,n){t.exports=n(9)},function(t,e,n){var i,r;(function(o){!function(s){var a="object"==typeof self&&self.self==self&&self||"object"==typeof o&&o.global==o&&o;i=[n(10),n(1),e],r=function(t,e,n){a.Backbone=s(a,n,t,e)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.2.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],l(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],l(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}},a=function(t,e,i){n.each(e,function(e,r){n[r]&&(t.prototype[r]=s(e,r,i))})},l=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?c(t):n.isString(t)?function(e){return e.get(t)}:t},c=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},u=e.Events={},h=/\s+/,d=function(t,e,i,r,o){var s,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(s=n.keys(i);a<s.length;a++)e=d(t,e,s[a],i[s[a]],o)}else if(i&&h.test(i))for(s=i.split(h);a<s.length;a++)e=t(e,s[a],r,o);else e=t(e,i,r,o);return e};u.on=function(t,e,n){return f(this,t,e,n)};var f=function(t,e,n,i,r){if(t._events=d(p,t._events||{},e,n,{context:i,ctx:t,listening:r}),r){var o=t._listeners||(t._listeners={});o[r.id]=r}return t};u.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[r];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[r]={obj:t,objId:r,id:a,listeningTo:o,count:0}}return f(t,e,i,this,s),this};var p=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return t};u.off=function(t,e,n){return this._events?(this._events=d(g,this._events,t,e,{context:n,listeners:this._listeners}),this):this},u.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(e,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var g=function(t,e,i,r){if(t){var o,s=0,a=r.context,l=r.listeners;if(e||i||a){for(var c=e?[e]:n.keys(t);s<c.length;s++){e=c[s];var u=t[e];if(!u)break;for(var h=[],d=0;d<u.length;d++){var f=u[d];i&&i!==f.callback&&i!==f.callback._callback||a&&a!==f.context?h.push(f):(o=f.listening,o&&0===--o.count&&(delete l[o.id],delete o.listeningTo[o.objId]))}h.length?t[e]=h:delete t[e]}return n.size(t)?t:void 0}for(var p=n.keys(l);s<p.length;s++)o=l[p[s]],delete l[o.id],delete o.listeningTo[o.objId]}};u.once=function(t,e,i){var r=d(v,{},t,e,n.bind(this.off,this));return this.on(r,void 0,i)},u.listenToOnce=function(t,e,i){var r=d(v,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var v=function(t,e,i,r){if(i){var o=t[e]=n.once(function(){r(e,o),i.apply(this,arguments)});o._callback=i}return t};u.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;e>i;i++)n[i]=arguments[i+1];return d(m,this._events,t,void 0,n),this};var m=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&y(r,i),o&&y(o,[e].concat(i))}return t},y=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};u.bind=u.on,u.unbind=u.off,n.extend(e,u);var b=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,s=i.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,h=this._previousAttributes;for(var d in r)e=r[d],n.isEqual(c[d],e)||a.push(d),n.isEqual(h[d],e)?delete u[d]:u[d]=e,o?delete c[d]:c[d]=e;if(this.id=this.get(this.idAttribute),!s){a.length&&(this._pending=i);for(var f=0;f<a.length;f++)this.trigger("change:"+a[f],this,c[a[f]],i)}if(l)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return n.size(i)?i:!1},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;return e.set(r,t)?(i&&i.call(t.context,e,n,t),void e.trigger("sync",e,n,t)):!1},F(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0,parse:!0},i);var o=i.wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var s=this,a=i.success,l=this.attributes;i.success=function(t){s.attributes=l;var e=i.parse?s.parse(t,i):t;return o&&(e=n.extend({},r,e)),e&&!s.set(e,i)?!1:(a&&a.call(i.context,s,t,i),void s.trigger("sync",s,t,i))},F(this,i),r&&o&&(this.attributes=n.extend({},l,r));var c=this.isNew()?"create":i.patch?"patch":"update";"patch"!==c||i.attrs||(i.attrs=r);var u=this.sync(c,this,i);return this.attributes=l,u},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(F(this,t),s=this.sync("delete",this,t)),r||o(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||P();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1):!0}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(b,w,"attributes");var _=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},C={add:!0,remove:!1},E=function(t,e,n){n=Math.min(Math.max(n,0),t.length);for(var i=Array(t.length-n),r=e.length,o=0;o<i.length;o++)i[o]=t[o+n];for(o=0;r>o;o++)t[o+n]=e[o];for(o=0;o<i.length;o++)t[o+r+n]=i[o]};n.extend(_.prototype,u,{model:b,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,C))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:n.clone(t);var r=this._removeModels(t,e);return!e.silent&&r&&this.trigger("update",this,e),i?r[0]:r},set:function(t,e){if(null!=t){e=n.defaults({},e,x),e.parse&&!this._isModel(t)&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),0>r&&(r+=this.length+1);for(var o,s=[],a=[],l=[],c={},u=e.add,h=e.merge,d=e.remove,f=!1,p=this.comparator&&null==r&&e.sort!==!1,g=n.isString(this.comparator)?this.comparator:null,v=0;v<t.length;v++){o=t[v];var m=this.get(o);if(m){if(h&&o!==m){var y=this._isModel(o)?o.attributes:o;e.parse&&(y=m.parse(y,e)),m.set(y,e),p&&!f&&(f=m.hasChanged(g))}c[m.cid]||(c[m.cid]=!0,s.push(m)),t[v]=m}else u&&(o=t[v]=this._prepareModel(o,e),o&&(a.push(o),this._addReference(o,e),c[o.cid]=!0,s.push(o)))}if(d){for(v=0;v<this.length;v++)o=this.models[v],c[o.cid]||l.push(o);l.length&&this._removeModels(l,e)}var b=!1,w=!p&&u&&d;if(s.length&&w?(b=this.length!=s.length||n.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,E(this.models,s,0),this.length=this.models.length):a.length&&(p&&(f=!0),E(this.models,a,null==r?this.length:r),this.length=this.models.length),f&&this.sort({silent:!0}),!e.silent){for(v=0;v<a.length;v++)null!=r&&(e.index=r+v),o=a[v],o.trigger("add",o,this,e);(f||b)&&this.trigger("sort",this,e),(a.length||l.length)&&this.trigger("update",this,e)}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var i=e.wait;if(t=this._prepareModel(t,e),!t)return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n.length?n:!1},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}});var k={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};a(_,k,"models");var $=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,T)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];n.extend($.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(S);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=A[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||P()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var l=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,l&&l.call(r.context,t,e,n)};var c=r.xhr=e.ajax(n.extend(s,r));return i.trigger("request",i,c,r),c};var A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var I=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,j=/(\(\?)?:\w+/g,M=/\*\w+/g,R=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(I.prototype,u,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);o.execute(r,s,i)!==!1&&(o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),e.history.trigger("route",o,i,s))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(R,"\\$&").replace(O,"(?:$1)?").replace(j,function(t,e){return e?t:"([^/?]+)"}).replace(M,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var B=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,z=/#.*$/;B.started=!1,n.extend(B.prototype,u,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(L,"")},start:function(t){if(B.started)throw new Error("Backbone.history has already been started");if(B.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(D,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),B.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})):!1},navigate:function(t,e){if(!B.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(z,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new B;var N=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};b.extend=_.extend=I.extend=$.extend=B.extend=N;var P=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e})}).call(e,function(){return this}())},function(t,e,n){t.exports=n(11)},function(t,e,n){var i,r;(function(){function n(t){function e(e,n,i,r,o,s){for(;o>=0&&s>o;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=C(i,o,4);var s=!I(n)&&x.keys(n),a=(s||n).length,l=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[l]:l],l+=t),e(n,i,r,s,l,a)}}function o(t){return function(e,n,i){n=E(n,i);for(var r=A(e),o=t>0?0:r-1;o>=0&&r>o;o+=t)if(n(e[o],o,e))return o;return-1}}function s(t,e,n){return function(i,r,o){var s=0,a=A(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(p.call(i,s,a),x.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&a>o;o+=t)if(i[o]===r)return o;return-1}}function a(t,e){var n=B.length,i=t.constructor,r=x.isFunction(i)&&i.prototype||h,o="constructor";for(x.has(t,o)&&!x.contains(e,o)&&e.push(o);n--;)o=B[n],o in t&&t[o]!==r[o]&&!x.contains(e,o)&&e.push(o)}var l=this,c=l._,u=Array.prototype,h=Object.prototype,d=Function.prototype,f=u.push,p=u.slice,g=h.toString,v=h.hasOwnProperty,m=Array.isArray,y=Object.keys,b=d.bind,w=Object.create,_=function(){},x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=x),e._=x,x.VERSION="1.8.3";var C=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},E=function(t,e,n){return null==t?x.identity:x.isFunction(t)?C(t,e,n):x.isObject(t)?x.matcher(t):x.property(t)};x.iteratee=function(t,e){return E(t,e,1/0)};var k=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;a>l;l++){var c=s[l];e&&void 0!==n[c]||(n[c]=o[c])}return n}},$=function(t){if(!x.isObject(t))return{};if(w)return w(t);_.prototype=t;var e=new _;return _.prototype=null,e},S=function(t){return function(e){return null==e?void 0:e[t]}},T=Math.pow(2,53)-1,A=S("length"),I=function(t){var e=A(t);return"number"==typeof e&&e>=0&&T>=e};x.each=x.forEach=function(t,e,n){e=C(e,n);var i,r;if(I(t))for(i=0,r=t.length;r>i;i++)e(t[i],i,t);else{var o=x.keys(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},x.map=x.collect=function(t,e,n){e=E(e,n);for(var i=!I(t)&&x.keys(t),r=(i||t).length,o=Array(r),s=0;r>s;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},x.reduce=x.foldl=x.inject=n(1),x.reduceRight=x.foldr=n(-1),x.find=x.detect=function(t,e,n){var i;return i=I(t)?x.findIndex(t,e,n):x.findKey(t,e,n),void 0!==i&&-1!==i?t[i]:void 0},x.filter=x.select=function(t,e,n){var i=[];return e=E(e,n),x.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},x.reject=function(t,e,n){return x.filter(t,x.negate(E(e)),n)},x.every=x.all=function(t,e,n){e=E(e,n);for(var i=!I(t)&&x.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},x.some=x.any=function(t,e,n){e=E(e,n);for(var i=!I(t)&&x.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},x.contains=x.includes=x.include=function(t,e,n,i){return I(t)||(t=x.values(t)),("number"!=typeof n||i)&&(n=0),x.indexOf(t,e,n)>=0},x.invoke=function(t,e){var n=p.call(arguments,2),i=x.isFunction(e);return x.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matcher(e))},x.findWhere=function(t,e){return x.find(t,x.matcher(e))},x.max=function(t,e,n){var i,r,o=-(1/0),s=-(1/0);if(null==e&&null!=t){t=I(t)?t:x.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],i>o&&(o=i)}else e=E(e,n),x.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-(1/0)&&o===-(1/0))&&(o=t,s=r)});return o},x.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=I(t)?t:x.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],o>i&&(o=i)}else e=E(e,n),x.each(t,function(t,n,i){r=e(t,n,i),(s>r||r===1/0&&o===1/0)&&(o=t,s=r)});return o},x.shuffle=function(t){for(var e,n=I(t)?t:x.values(t),i=n.length,r=Array(i),o=0;i>o;o++)e=x.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},x.sample=function(t,e,n){return null==e||n?(I(t)||(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))},x.sortBy=function(t,e,n){return e=E(e,n),x.pluck(x.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var O=function(t){return function(e,n,i){var r={};return n=E(n,i),x.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};x.groupBy=O(function(t,e,n){
x.has(t,n)?t[n].push(e):t[n]=[e]}),x.indexBy=O(function(t,e,n){t[n]=e}),x.countBy=O(function(t,e,n){x.has(t,n)?t[n]++:t[n]=1}),x.toArray=function(t){return t?x.isArray(t)?p.call(t):I(t)?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:I(t)?t.length:x.keys(t).length},x.partition=function(t,e,n){e=E(e,n);var i=[],r=[];return x.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},x.first=x.head=x.take=function(t,e,n){return null!=t?null==e||n?t[0]:x.initial(t,t.length-e):void 0},x.initial=function(t,e,n){return p.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},x.last=function(t,e,n){return null!=t?null==e||n?t[t.length-1]:x.rest(t,Math.max(0,t.length-e)):void 0},x.rest=x.tail=x.drop=function(t,e,n){return p.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var j=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=A(t);a>s;s++){var l=t[s];if(I(l)&&(x.isArray(l)||x.isArguments(l))){e||(l=j(l,e,n));var c=0,u=l.length;for(r.length+=u;u>c;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};x.flatten=function(t,e){return j(t,e,!1)},x.without=function(t){return x.difference(t,p.call(arguments,1))},x.uniq=x.unique=function(t,e,n,i){x.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=E(n,i));for(var r=[],o=[],s=0,a=A(t);a>s;s++){var l=t[s],c=n?n(l,s,t):l;e?(s&&o===c||r.push(l),o=c):n?x.contains(o,c)||(o.push(c),r.push(l)):x.contains(r,l)||r.push(l)}return r},x.union=function(){return x.uniq(j(arguments,!0,!0))},x.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=A(t);r>i;i++){var o=t[i];if(!x.contains(e,o)){for(var s=1;n>s&&x.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},x.difference=function(t){var e=j(arguments,!0,!0,1);return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(t){for(var e=t&&x.max(t,A).length||0,n=Array(e),i=0;e>i;i++)n[i]=x.pluck(t,i);return n},x.object=function(t,e){for(var n={},i=0,r=A(t);r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(t,e,n,i){n=E(n,i,1);for(var r=n(e),o=0,s=A(t);s>o;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},x.indexOf=s(1,x.findIndex,x.sortedIndex),x.lastIndexOf=s(-1,x.findLastIndex),x.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;i>o;o++,t+=n)r[o]=t;return r};var M=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=$(t.prototype),s=t.apply(o,r);return x.isObject(s)?s:o};x.bind=function(t,e){if(b&&t.bind===b)return b.apply(t,p.call(arguments,1));if(!x.isFunction(t))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),i=function(){return M(t,i,e,this,n.concat(p.call(arguments)))};return i},x.partial=function(t){var e=p.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;r>s;s++)o[s]=e[s]===x?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return M(t,n,this,this,o)};return n},x.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=x.bind(t[n],t);return t},x.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return x.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},x.delay=function(t,e){var n=p.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=x.partial(x.delay,x,1),x.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:x.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var c=x.now();a||n.leading!==!1||(a=c);var u=e-(c-a);return i=this,r=arguments,0>=u||u>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(l,u)),o}},x.debounce=function(t,e,n){var i,r,o,s,a,l=function(){var c=x.now()-s;e>c&&c>=0?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=x.now();var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(o,r),o=r=null),a}},x.wrap=function(t,e){return x.partial(e,t)},x.negate=function(t){return function(){return!t.apply(this,arguments)}},x.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},x.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},x.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},x.once=x.partial(x.before,2);var R=!{toString:null}.propertyIsEnumerable("toString"),B=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(t){if(!x.isObject(t))return[];if(y)return y(t);var e=[];for(var n in t)x.has(t,n)&&e.push(n);return R&&a(t,e),e},x.allKeys=function(t){if(!x.isObject(t))return[];var e=[];for(var n in t)e.push(n);return R&&a(t,e),e},x.values=function(t){for(var e=x.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},x.mapObject=function(t,e,n){e=E(e,n);for(var i,r=x.keys(t),o=r.length,s={},a=0;o>a;a++)i=r[a],s[i]=e(t[i],i,t);return s},x.pairs=function(t){for(var e=x.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},x.invert=function(t){for(var e={},n=x.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=k(x.allKeys),x.extendOwn=x.assign=k(x.keys),x.findKey=function(t,e,n){e=E(e,n);for(var i,r=x.keys(t),o=0,s=r.length;s>o;o++)if(i=r[o],e(t[i],i,t))return i},x.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;x.isFunction(e)?(r=x.allKeys(s),i=C(e,n)):(r=j(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;l>a;a++){var c=r[a],u=s[c];i(u,c,s)&&(o[c]=u)}return o},x.omit=function(t,e,n){if(x.isFunction(e))e=x.negate(e);else{var i=x.map(j(arguments,!1,!1,1),String);e=function(t,e){return!x.contains(i,e)}}return x.pick(t,e,n)},x.defaults=k(x.allKeys,!0),x.create=function(t,e){var n=$(t);return e&&x.extendOwn(n,e),n},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t},x.isMatch=function(t,e){var n=x.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;i>o;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var L=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var r=g.call(t);if(r!==g.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(x.isFunction(s)&&s instanceof s&&x.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!L(t[l],e[l],n,i))return!1}else{var c,u=x.keys(t);if(l=u.length,x.keys(e).length!==l)return!1;for(;l--;)if(c=u[l],!x.has(e,c)||!L(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};x.isEqual=function(t,e){return L(t,e)},x.isEmpty=function(t){return null==t?!0:I(t)&&(x.isArray(t)||x.isString(t)||x.isArguments(t))?0===t.length:0===x.keys(t).length},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=m||function(t){return"[object Array]"===g.call(t)},x.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){x["is"+t]=function(e){return g.call(e)==="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return x.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(t){return"function"==typeof t||!1}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!==+t},x.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===g.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return null!=t&&v.call(t,e)},x.noConflict=function(){return l._=c,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.noop=function(){},x.property=S,x.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},x.matcher=x.matches=function(t){return t=x.extendOwn({},t),function(e){return x.isMatch(e,t)}},x.times=function(t,e,n){var i=Array(Math.max(0,t));e=C(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=x.invert(D),N=function(t){var e=function(e){return t[e]},n="(?:"+x.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};x.escape=N(D),x.unescape=N(z),x.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),x.isFunction(i)?i.call(t):i};var P=0;x.uniqueId=function(t){var e=++P+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,q=function(t){return"\\"+U[t]};x.template=function(t,e,n){!e&&n&&(e=n),e=x.defaults({},e,x.templateSettings);var i=RegExp([(e.escape||F).source,(e.interpolate||F).source,(e.evaluate||F).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(V,q),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}var l=function(t){return s.call(this,t,x)},c=e.variable||"obj";return l.source="function("+c+"){\n"+o+"}",l},x.chain=function(t){var e=x(t);return e._chain=!0,e};var H=function(t,e){return t._chain?x(e).chain():e};x.mixin=function(t){x.each(x.functions(t),function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return f.apply(t,arguments),H(this,n.apply(x,t))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=u[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],H(this,n)}}),x.each(["concat","join","slice"],function(t){var e=u[t];x.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},i=[],r=function(){return x}.apply(e,i),!(void 0!==r&&(t.exports=r))}).call(this)},function(t,e,n){t.exports=n(13)},function(t,e,n){var i,r;!function(o,s){i=[n(8),n(10)],r=function(t,e){return s(t,e)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(this,function(t,e){"use strict";var n=t.Wreqr,i=t.Wreqr={};return t.Wreqr.VERSION="1.3.6",t.Wreqr.noConflict=function(){return t.Wreqr=n,this},i.Handlers=function(t,e){var n=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events,{setHandlers:function(t){e.each(t,function(t,n){var i=null;e.isObject(t)&&!e.isFunction(t)&&(i=t.context,t=t.callback),this.setHandler(n,t,i)},this)},setHandler:function(t,e,n){var i={callback:e,context:n};this._wreqrHandlers[t]=i,this.trigger("handler:add",t,e,n)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){return e.callback.apply(e.context,arguments)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(t,e),i.CommandStorage=function(){var n=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)};return e.extend(n.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){var n=this.getCommands(t);n.instances.push(e)},clearCommands:function(t){var e=this.getCommands(t);e.instances=[]}}),n}(),i.Commands=function(t,e){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this),t.Handlers.prototype.constructor.apply(this,arguments)},execute:function(t){t=arguments[0];var n=e.rest(arguments);this.hasHandler(t)?this.getHandler(t).apply(this,n):this.storage.addCommand(t,n)},_executeCommands:function(t,n,i){var r=this.storage.getCommands(t);e.each(r.instances,function(t){n.apply(i,t)}),this.storage.clearCommands(t)},_initializeStorage:function(t){var n,i=t.storageType||this.storageType;n=e.isFunction(i)?new i:i,this.storage=n}})}(i,e),i.RequestResponse=function(t,e){return t.Handlers.extend({request:function(t){return this.hasHandler(t)?this.getHandler(t).apply(this,e.rest(arguments)):void 0}})}(i,e),i.EventAggregator=function(t,e){var n=function(){};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events),n}(t,e),i.Channel=function(n){var i=function(e){this.vent=new t.Wreqr.EventAggregator,this.reqres=new t.Wreqr.RequestResponse,this.commands=new t.Wreqr.Commands,this.channelName=e};return e.extend(i.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect("vent",t,e),this},connectCommands:function(t,e){return this._connect("commands",t,e),this},connectRequests:function(t,e){return this._connect("reqres",t,e),this},_connect:function(t,n,i){if(n){i=i||this;var r="vent"===t?"on":"setHandler";e.each(n,function(n,o){this[t][r](o,e.bind(n,i))},this)}}}),i}(i),i.radio=function(t,e){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(n.prototype,{channel:function(t){if(!t)throw new Error("Channel must receive a name");return this._getChannel(t)},_getChannel:function(e){var n=this._channels[e];return n||(n=new t.Channel(e),this._channels[e]=n),n},_proxyMethods:function(){e.each(["vent","commands","reqres"],function(t){e.each(i[t],function(e){this[t][e]=r(this,t,e)},this)},this)}});var i={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},r=function(t,n,i){return function(r){var o=t._getChannel(r)[n];return o[i].apply(o,e.rest(arguments))}};return new n}(i,e),t.Wreqr})},function(t,e,n){t.exports=n(15)},function(t,e,n){var i,r;!function(o,s){i=[n(8),n(10)],r=function(t,e){return s(t,e)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(this,function(t,e){"use strict";var n=t.ChildViewContainer;return t.ChildViewContainer=function(t,e){var n=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};e.extend(n.prototype,{add:function(t,e){var n=t.cid;return this._views[n]=t,t.model&&(this._indexByModel[t.model.cid]=n),e&&(this._indexByCustom[e]=n),this._updateLength(),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var n=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,function(t,e){return t===n?(delete this._indexByCustom[e],!0):void 0},this),delete this._views[n],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,n){e.each(this._views,function(i){e.isFunction(i[t])&&i[t].apply(i,n||[])})},_updateLength:function(){this.length=e.size(this._views)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"];return e.each(i,function(t){n.prototype[t]=function(){var n=e.values(this._views),i=[n].concat(e.toArray(arguments));return e[t].apply(e,i)}}),n}(t,e),t.ChildViewContainer.VERSION="0.1.11",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=n,this},t.ChildViewContainer})},function(t,e,n){var i=n(1),r=n(6),o=n(10);n(17),n(23);n(25);var s=r.ItemView.extend({template:n(26),events:{"select2:select":"onSelect"},modelEvents:{"change:value":"onValueChanged","change:data":"onDataChanged","change:hidden":"updateClass"},className:function(){var t=["form-control","span-"+this.model.get("span")];return this.model.get("disabled")&&!this.model.get("value")&&t.push("disabled"),this.model.get("hidden")&&!this.model.get("value")&&t.push("hidden"),t.join(" ")},onRender:function(){var t=this.$el.find("select"),e={language:"ru",placeholder:this.model.get("allowClear")?"Все подходящие":"Введите или выберите из списка"};0===this.model.get("data").indexOf("ajax")?t.select2(e):(e.data=this.model.get("data").sort(),this.model.get("allowClear")&&e.data.unshift({id:"false",text:"Все подходящие"}),"DESC"===this.model.get("sort")&&(e.data=e.data.reverse()),t.select2(e),this.onValueChanged())},onSelect:function(){this.select(this.$el.find("select").val())},select:function(t){this.model.set({value:t})},onValueChanged:function(){this.$el.find("select").val(this.model.get("value")).trigger("change")},onDataChanged:function(){this.updateClass(),this.render()},updateClass:function(){this.el.className=this.className()}}),a=r.CompositeView.extend({events:{},data:{},fields:{},template:n(30),childView:s,childViewContainer:"#wizard-fields",collectionEvents:{done:"requestCount","done.reset":"showReset",disable:"hideControls"},initialize:function(){this.render(),this.collection.topicId=this.model.get("topicId")},onRender:function(){this.collection.last().get("value")&&this.showReset()},requestCount:function(){var t=i("#selection-form").serializeArray();t.push({name:"count",value:1}),t.push({name:"F[forceService]",value:1});var e=this.collection.serialize();o.keys(e).forEach(function(n){t.push({name:"F[w]["+n+"]",value:e[n]})}),t=t.filter(function(t){return t.value&&"false"!==t.value}),i.ajax({url:window.location.pathname,data:t,dataType:"json"}).success(function(t){var e=i("#wizard-count");e.find(".value").text(t.count),e.show()}),this.showControls()},hideControls:function(){i("#wizard-controls").hide(),i("#wizard-count").hide().find(".value").text(""),this.model.get("hasActive")&&this.showReset()},showControls:function(){i("#wizard-controls").show(),this.hideReset()},showReset:function(){i("#wizard-reset").show()},hideReset:function(){i("#wizard-reset").hide()}}),l=Backbone.Model.extend({defaults:{title:"",fields:{},topicId:0,resetUrl:window.location.pathname}}),c=Backbone.Model.extend({defaults:{hidden:!0,disabled:!0,span:12,title:"",allowClear:!1,data:[],parentValue:null,value:null,sort:"ASC"},initialize:function(){this.on("change:data",this.onDataChange,this)},onDataChange:function(){if(!this.get("parentValue"))return void this.set({disabled:!0});if(this.get("data")&&0===this.get("data").indexOf("ajax")){var t=this.collection.serialize();t.topicId=this.collection.topicId,i.ajax({url:"/catalog/wizard-options",data:t,cache:!0,dataType:"json"}).success(o.bind(function(t){this.set("data",t.results)},this))}else 1===this.get("data").length&&this.set("value",this.get("data")[0])}}),u=Backbone.Collection.extend({model:c,initialize:function(){this.on("change:value",this.onChangeValue,this),this.on("reset",this.startUp,this),this.once("add",this.startUp,this)},serialize:function(){var t={},e=!1;return this.forEach(function(n){return!n.get("value")||e?void(e=!0):void(t[n.get("name")]=n.get("value"))}),t},startUp:function(){this.at(0).set({hidden:!1,disabled:!1}),this.forEach(function(t){t.get("value")&&t.set({hidden:!1,disabled:!1})}),this.once("add",function(){this.at(1).set({hidden:!1})})},onChangeValue:function(t){if("0"!==t.get("value")||t.get("allowClear")){var e=this.indexOf(t),n=this.at(e+1);n?(data="ajax-"+t.get("value"),this.at(e+1).set({data:data,disabled:!1,parentValue:t.get("value"),value:t.get("value")&&n.get("allowClear")?"":null}),this.at(e+2)&&this.at(e+2).set({hidden:!1,disabled:!0})):t.get("data")&&(t.get("value")||t.get("allowClear")&&t.get("parentValue")&&t.set("value","false"))?this.trigger("done"):this.trigger("disable")}}});t.exports=function(){var t=i("#wizard"),e=t.data("wizard");new a({el:t,model:new l(e),collection:new u(e.fields,{silent:!1})})}},function(t,e,n){t.exports=n(18),n(19)},function(t,e,n){var i,r,o;/*!
	 * Select2 4.0.3
	 * https://select2.github.io
	 *
	 * Released under the MIT license
	 * https://github.com/select2/select2/blob/master/LICENSE.md
	 */
!function(s){r=[n(1)],i=s,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?n=e:e={};/**
	 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
	 * Available via the MIT or new BSD license.
	 * see: http://github.com/jrburke/almond for details
	 */
var t,n,i;!function(e){function r(t,e){return w.call(t,e)}function o(t,e){var n,i,r,o,s,a,l,c,u,h,d,f=e&&e.split("/"),p=y.map,g=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(t=t.split("/"),s=t.length-1,y.nodeIdCompat&&x.test(t[s])&&(t[s]=t[s].replace(x,"")),t=f.slice(0,f.length-1).concat(t),u=0;u<t.length;u+=1)if(d=t[u],"."===d)t.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||g)&&p){for(n=t.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),f)for(h=f.length;h>0;h-=1)if(r=p[f.slice(0,h).join("/")],r&&(r=r[i])){o=r,a=u;break}if(o)break;!l&&g&&g[i]&&(l=g[i],c=u)}!o&&l&&(o=l,a=c),o&&(n.splice(0,a,o),t=n.join("/"))}return t}function s(t,n){return function(){var i=_.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),f.apply(e,i.concat([t,n]))}}function a(t){return function(e){return o(e,t)}}function l(t){return function(e){v[t]=e}}function c(t){if(r(m,t)){var n=m[t];delete m[t],b[t]=!0,d.apply(e,n)}if(!r(v,t)&&!r(b,t))throw new Error("No "+t);return v[t]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function h(t){return function(){return y&&y.config&&y.config[t]||{}}}var d,f,p,g,v={},m={},y={},b={},w=Object.prototype.hasOwnProperty,_=[].slice,x=/\.js$/;p=function(t,e){var n,i=u(t),r=i[0];return t=i[1],r&&(r=o(r,e),n=c(r)),r?t=n&&n.normalize?n.normalize(t,a(e)):o(t,e):(t=o(t,e),i=u(t),r=i[0],t=i[1],r&&(n=c(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},g={require:function(t){return s(t)},exports:function(t){var e=v[t];return"undefined"!=typeof e?e:v[t]={}},module:function(t){return{id:t,uri:"",exports:v[t],config:h(t)}}},d=function(t,n,i,o){var a,u,h,d,f,y,w=[],_=typeof i;if(o=o||t,"undefined"===_||"function"===_){for(n=!n.length&&i.length?["require","exports","module"]:n,f=0;f<n.length;f+=1)if(d=p(n[f],o),u=d.f,"require"===u)w[f]=g.require(t);else if("exports"===u)w[f]=g.exports(t),y=!0;else if("module"===u)a=w[f]=g.module(t);else if(r(v,u)||r(m,u)||r(b,u))w[f]=c(u);else{if(!d.p)throw new Error(t+" missing "+u);d.p.load(d.n,s(o,!0),l(u),{}),w[f]=v[u]}h=i?i.apply(v[t],w):void 0,t&&(a&&a.exports!==e&&a.exports!==v[t]?v[t]=a.exports:h===e&&y||(v[t]=h))}else t&&(v[t]=i)},t=n=f=function(t,n,i,r,o){if("string"==typeof t)return g[t]?g[t](n):c(p(t,n).f);if(!t.splice){if(y=t,y.deps&&f(y.deps,y.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?d(e,t,n,i):setTimeout(function(){d(e,t,n,i)},4),f},f.config=function(t){return f(t)},t._defined=v,i=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),r(v,t)||r(m,t)||(m[t]=[t,e,n])},i.amd={jQuery:!0}}(),e.requirejs=t,e.require=n,e.define=i}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,n=[];for(var i in e){var r=e[i];"function"==typeof r&&"constructor"!==i&&n.push(i)}return n}var n={};n.Extend=function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},n.Decorate=function(t,n){function i(){var e=Array.prototype.unshift,i=n.prototype.constructor.length,r=t.prototype.constructor;i>0&&(e.call(arguments,t.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}function r(){this.constructor=i}var o=e(n),s=e(t);n.displayName=t.displayName,i.prototype=new r;for(var a=0;a<s.length;a++){var l=s[a];i.prototype[l]=t.prototype[l]}for(var c=(function(t){var e=function(){};t in i.prototype&&(e=i.prototype[t]);var r=n.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,e),r.apply(this,arguments)}}),u=0;u<o.length;u++){var h=o[u];i.prototype[h]=c(h)}return i};var i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;i>n;n++)t[n].apply(this,e)},n.Observable=i,n.generateChars=function(t){for(var e="",n=0;t>n;n++){var i=Math.floor(36*Math.random());e+=i.toString(36)}return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];o=o.substring(0,1).toLowerCase()+o.substring(1),o in i||(i[o]={}),r==n.length-1&&(i[o]=t[e]),i=i[o]}delete t[e]}}return t},n.hasScroll=function(e,n){var i=t(n),r=n.style.overflowX,o=n.style.overflowY;return r!==o||"hidden"!==o&&"visible"!==o?"scroll"===r||"scroll"===o?!0:i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth:!1},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},n.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},n}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);i.append(n(r(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],r=this.option(i);e.push(r)}this.$results.append(e)},n.prototype.position=function(t,e){var n=e.find(".select2-results");n.append(t)},n.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var e=this;this.data.current(function(n){var i=t.map(n,function(t){return t.id.toString()}),r=e.$results.find(".select2-results__option[aria-selected]");r.each(function(){var e=t(this),n=t.data(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(r,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:e(t)},i=this.option(n);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]);for(var r in i){var o=i[r];n.setAttribute(r,o)}if(e.children){var s=t(n),a=document.createElement("strong");a.className="select2-results__group";t(a);this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],h=this.option(u);l.push(h)}var d=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});d.append(l),s.append(a),s.append(d)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e,n){var i=this,r=e.id+"-results";this.$results.attr("id",r),e.on("results:all",function(t){i.clear(),i.append(t.data),e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("results:append",function(t){i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("query",function(t){i.hideMessages(),i.showLoading(t)}),e.on("select",function(){e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),e.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=i.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=i.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t);if(0!==n){var r=n-1;0===t.length&&(r=0);var o=e.eq(r);o.trigger("mouseenter");var s=i.$results.offset().top,a=o.offset().top,l=i.$results.scrollTop()+(a-s);0===r?i.$results.scrollTop(0):0>a-s&&i.$results.scrollTop(l)}}),e.on("results:next",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t),r=n+1;if(!(r>=e.length)){var o=e.eq(r);o.trigger("mouseenter");var s=i.$results.offset().top+i.$results.outerHeight(!1),a=o.offset().top+o.outerHeight(!1),l=i.$results.scrollTop()+a-s;0===r?i.$results.scrollTop(0):a>s&&i.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){i.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-e+t.deltaY,r=t.deltaY>0&&e-t.deltaY<=0,o=t.deltaY<0&&n<=i.$results.height();r?(i.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var n=t(this),r=n.data("data");return"true"===n.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:e,data:r}):i.trigger("close",{})):void i.trigger("select",{originalEvent:e,data:r})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var n=t(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:n,element:t(this)})})},n.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),n=e.index(t),i=this.$results.offset().top,r=t.offset().top,o=this.$results.scrollTop()+(r-i),s=r-i;o-=2*t.outerHeight(!1),2>=n?this.$results.scrollTop(0):(s>this.$results.outerHeight()||0>s)&&this.$results.scrollTop(o)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(e,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):t(n).append(o)},n}),e.define("select2/keys",[],function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return t}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t,e){var i=this,r=(t.id+"-container",t.id+"-results");this.container=t,this.$selection.on("focus",function(t){i.trigger("focus",t)}),this.$selection.on("blur",function(t){i._handleBlur(t)}),this.$selection.on("keydown",function(t){i.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){i.update(t.data)}),t.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",r),i._attachCloseHandler(t)}),t.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(t)}),t.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),t.on("disable",function(){i.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var n=t(e.target),i=n.closest(".select2"),r=t(".select2.select2-container--open");r.each(function(){var e=t(this);if(this!=i[0]){var n=e.data("element");n.select2("close")}})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){var n=e.find(".selection");n.append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,e),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},r.prototype.bind=function(t,e){var n=this;r.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("focus",function(e){t.isOpen()||n.$selection.focus()}),t.on("selection:update",function(t){n.update(t.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(t,e){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(t,e))},r.prototype.selectionContainer=function(){return t("<span></span>")},r.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)},r}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(t,e){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(e,n){var r=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){r.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!r.options.get("disabled")){var n=t(this),i=n.parent(),o=i.data("data");r.trigger("unselect",{originalEvent:e,data:o})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(t,e))},i.prototype.selectionContainer=function(){var e=t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var r=t[i],o=this.selectionContainer(),s=this.display(r,o);o.append(s),o.prop("title",r.title||r.text),o.data("data",r),e.push(o)}var a=this.$selection.find(".select2-selection__rendered");n.appendMany(a,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id,i=e.length>1;if(i||n)return t.call(this,e);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},e}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),r=0;r<i.length;r++){var o={data:i[r]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,e,i){var r=this;t.call(this,e,i),e.on("open",function(){r.$search.trigger("focus")}),e.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),e.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),e.on("disable",function(){r.$search.prop("disabled",!0)}),e.on("focus",function(t){r.$search.trigger("focus")}),e.on("results:focus",function(t){r.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===n.BACKSPACE&&""===r.$search.val()){var i=r.$searchContainer.prev(".select2-selection__choice");if(i.length>0){var o=i.data("data");r.searchRemoveChoice(o),t.preventDefault()}}});var o=document.documentMode,s=o&&11>=o;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){return s?void r.$selection.off("input.search input.searchcheck"):void r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(s&&"input"===t.type)return void r.$selection.off("input.search input.searchcheck");var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&r.handleSearch(t)})},i.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,o)){n=n||{};var i=t.Event("select2:"+e,{params:n});r.$element.trigger(i),-1!==t.inArray(e,s)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){var t={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};return t}),e.define("select2/data/base",["../utils"],function(t){function e(t,n){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),i+=null!=n.id?"-"+n.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),r=i.item(t);e.push(r)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var r=[];t=[t],t.push.apply(t,i);for(var o=0;o<t.length;o++){var s=t[o].id;-1===n.inArray(s,r)&&r.push(s)}e.$element.val(r),e.$element.trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("change");
}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,n(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var r=[],o=0;o<i.length;o++){var s=i[o].id;s!==t.id&&-1===n.inArray(s,r)&&r.push(s)}e.$element.val(r),e.$element.trigger("change")})},i.prototype.bind=function(t,e){var n=this;this.container=t,t.on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(t,e){var i=[],r=this,o=this.$element.children();o.each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var o=r.item(e),s=r.matches(t,o);null!==s&&i.push(s)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),r=this._normalizeItem(t);return r.element=e,n.data(e,"data",r),i},i.prototype.item=function(t){var e={};if(e=n.data(t[0],"data"),null!=e)return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),r=[],o=0;o<i.length;o++){var s=n(i[o]),a=this.item(s);r.push(a)}e.children=r}return e=this._normalizeItem(e),e.element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){n.isPlainObject(t)||(t={id:t,text:t}),t=n.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},e,t)},i.prototype.matches=function(t,e){var n=this.options.get("matcher");return n(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){function i(t){return function(){return n(this).val()==t.id}}for(var r=this,o=this.$element.find("option"),s=o.map(function(){return r.item(n(this)).id}).get(),a=[],l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(n.inArray(c.id,s)>=0){var u=o.filter(i(c)),h=this.item(u),d=n.extend(!0,{},c,h),f=this.option(d);u.replaceWith(f)}else{var p=this.option(c);if(c.children){var g=this.convertToOptions(c.children);e.appendMany(p,g)}a.push(p)}}return a},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var r=n.ajax(t);return r.then(e),r.fail(i),r}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){function i(){var i=o.transport(o,function(i){var o=r.processResults(i,t);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(o)},function(){i.status&&"0"===i.status||r.trigger("results:message",{message:"errorLoading"})});r._request=i}var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var r=i.get("tags"),o=i.get("createTag");void 0!==o&&(this.createTag=o);var s=i.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,n,i),t.isArray(r))for(var a=0;a<r.length;a++){var l=r[a],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return e.prototype.query=function(t,e,n){function i(t,o){for(var s=t.results,a=0;a<s.length;a++){var l=s[a],c=null!=l.children&&!i({results:l.children},!0),u=l.text===e.term;if(u||c)return o?!1:(t.data=s,void n(t))}if(o)return!0;var h=r.createTag(e);if(null!=h){var d=r.option(h);d.attr("data-select2-tag",!0),r.addOptions([d]),r.insertTag(s,h)}t.results=s,n(t)}var r=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,n):void t.call(this,e,i)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(e){var n=(this._lastTag,this.$element.find("option[data-select2-tag]"));n.each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){function r(e){var n=s._normalizeItem(e),i=s.$element.find("option").filter(function(){return t(this).val()===n.id});if(!i.length){var r=s.option(n);r.attr("data-select2-tag",!0),s._removeOldTags(),s.addOptions([r])}o(n)}function o(t){s.trigger("select",{data:t})}var s=this;n.term=n.term||"";var a=this.tokenizer(n,this.options,r);a.term!==n.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.focus()),n.term=a.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,r){for(var o=i.get("tokenSeparators")||[],s=n.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<s.length;){var c=s[a];if(-1!==t.inArray(c,o)){var u=s.substr(0,a),h=t.extend({},n,{term:u}),d=l(h);null!=d?(r(d),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current(function(r){var o=null!=r?r.length:0;return i.maximumSelectionLength>0&&o>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void t.call(i,e,n)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function n(){}return n.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),this.$search.on("keydown",function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){r.handleSearch(t)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),n.on("focus",function(){n.isOpen()&&r.$search.focus()}),n.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=r.showSearch(t);e?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide")}})},n.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.showSearch=function(t,e){return!0},n}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var r=e[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),n.on("query",function(t){r.lastParams=t,r.loading=!0}),n.on("query:append",function(t){r.lastParams=t,r.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,r.$loadingMore[0]);if(!r.loading&&e){var n=r.$results.offset().top+r.$results.outerHeight(!1),i=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1);n+50>=i&&r.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=i.get("dropdownParent")||t(document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this,r=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),r||(r=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,s="resize.select2."+i.id,a="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(o,function(e){var n=t(this).data("select2-scroll-position");t(this).scrollTop(n.y)}),t(window).on(o+" "+s+" "+a,function(t){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,s="orientationchange.select2."+i.id,a=this.$container.parents().filter(e.hasScroll);a.off(r),t(window).off(r+" "+o+" "+s)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=o.top,s.bottom=o.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<o.top-a.height,u=l.bottom>o.bottom+a.height,h={left:o.left,top:s.bottom},d=this.$dropdownParent;"static"===d.css("position")&&(d=d.offsetParent());var f=d.offset();h.top-=f.top,h.left-=f.left,n||i||(r="below"),u||!c||n?!c&&u&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(h.top=s.top-f.top-a.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(h)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var n=0,i=0;i<e.length;i++){var r=e[i];r.children?n+=t(r.children):n++}return n}function e(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return e.prototype.showSearch=function(e,n){return t(n.data.results)<this.minimumResultsForSearch?!1:e.call(this,n)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var r=i.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){var e=t.minimum-t.input.length,n="Please enter "+e+" or more characters";return n},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,r,o,s,a,l,c,u,h,d,f,p,g,v,m,y,b,w,_,x,C,E,k,$,S,T){function A(){this.reset()}A.prototype.apply=function(h){if(h=t.extend(!0,{},this.defaults,h),null==h.dataAdapter){if(null!=h.ajax?h.dataAdapter=p:null!=h.data?h.dataAdapter=f:h.dataAdapter=d,h.minimumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,m)),h.maximumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,y)),h.maximumSelectionLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,b)),h.tags&&(h.dataAdapter=c.Decorate(h.dataAdapter,g)),null==h.tokenSeparators&&null==h.tokenizer||(h.dataAdapter=c.Decorate(h.dataAdapter,v)),null!=h.query){var T=e(h.amdBase+"compat/query");h.dataAdapter=c.Decorate(h.dataAdapter,T)}if(null!=h.initSelection){var A=e(h.amdBase+"compat/initSelection");h.dataAdapter=c.Decorate(h.dataAdapter,A)}}if(null==h.resultsAdapter&&(h.resultsAdapter=n,null!=h.ajax&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,C)),null!=h.placeholder&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,x)),h.selectOnClose&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,$))),null==h.dropdownAdapter){if(h.multiple)h.dropdownAdapter=w;else{var I=c.Decorate(w,_);h.dropdownAdapter=I}if(0!==h.minimumResultsForSearch&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,k)),h.closeOnSelect&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,S)),null!=h.dropdownCssClass||null!=h.dropdownCss||null!=h.adaptDropdownCssClass){var O=e(h.amdBase+"compat/dropdownCss");h.dropdownAdapter=c.Decorate(h.dropdownAdapter,O)}h.dropdownAdapter=c.Decorate(h.dropdownAdapter,E)}if(null==h.selectionAdapter){if(h.multiple?h.selectionAdapter=r:h.selectionAdapter=i,null!=h.placeholder&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,o)),h.allowClear&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,s)),h.multiple&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,a)),null!=h.containerCssClass||null!=h.containerCss||null!=h.adaptContainerCssClass){var j=e(h.amdBase+"compat/containerCss");h.selectionAdapter=c.Decorate(h.selectionAdapter,j)}h.selectionAdapter=c.Decorate(h.selectionAdapter,l)}if("string"==typeof h.language)if(h.language.indexOf("-")>0){var M=h.language.split("-"),R=M[0];h.language=[h.language,R]}else h.language=[h.language];if(t.isArray(h.language)){var B=new u;h.language.push("en");for(var L=h.language,D=0;D<L.length;D++){var z=L[D],N={};try{N=u.loadPath(z)}catch(P){try{z=this.defaults.amdLanguageBase+z,N=u.loadPath(z)}catch(F){h.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+z+'" could not be automatically loaded. A fallback will be used instead.');continue}}B.extend(N)}h.translations=B}else{var U=u.loadPath(this.defaults.amdLanguageBase+"en"),V=new u(h.language);V.extend(U),h.translations=V}return h},A.prototype.reset=function(){function e(t){function e(t){return h[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function n(i,r){if(""===t.trim(i.term))return r;if(r.children&&r.children.length>0){for(var o=t.extend(!0,{},r),s=r.children.length-1;s>=0;s--){var a=r.children[s],l=n(i,a);null==l&&o.children.splice(s,1)}return o.children.length>0?o:n(i,o)}var c=e(r.text).toUpperCase(),u=e(i.term).toUpperCase();return c.indexOf(u)>-1?r:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:T,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},A.prototype.set=function(e,n){var i=t.camelCase(e),r={};r[i]=n;var o=c._convertData(r);t.extend(this.defaults,o)};var I=new A;return I}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function r(e,r){if(this.options=e,null!=r&&this.fromElement(r),this.options=n.apply(this.options),r&&r.is("input")){var o=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var r={};r=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var o=e.extend(!0,{},r);o=i._convertData(o);for(var s in o)e.inArray(s,n)>-1||(e.isPlainObject(this.options[s])?e.extend(this.options[s],o[s]):this.options[s]=o[s]);return this},r.prototype.get=function(t){return this.options[t]},r.prototype.set=function(t,e){this.options[t]=e},r}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var r=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),r.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(t,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4),e=e.replace(/(:|\.|\[|\]|,)/g,""),e="select2-"+e},r.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},r.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return 0>=r?"auto":r+"px"}if("style"==e){var o=t.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,l=s.length;l>a;a+=1){var c=s[a].replace(/\s/g,""),u=c.match(n);if(null!==u&&u.length>=1)return u[1]}return null}return e},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){t.each(n,e._syncA),t.each(n,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},r.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,r){-1===t.inArray(i,n)&&e.trigger(i,r)})},r.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var r=0;r<e.addedNodes.length;r++){var o=e.addedNodes[r];o.selected&&(n=!0)}else e.removedNodes&&e.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},r.prototype.trigger=function(t,e){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in i){var o=i[t],s={prevented:!1,name:t,args:e};if(n.call(this,o,s),s.prevented)return void(e.prevented=!0)}n.call(this,t,e)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),
e.data("element",this.$element),e},r}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,n,i){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if(e=e||{},"object"==typeof e)return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=n[e].apply(n,o)}),t.inArray(e,r)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n})},function(t,e,n){var i=n(20);"string"==typeof i&&(i=[[t.id,i,""]]);n(22)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(21)(),e.push([t.id,".select2-container{box-sizing:border-box;display:inline-block;margin:0;position:relative;vertical-align:middle}.select2-container .select2-selection--single{box-sizing:border-box;cursor:pointer;display:block;height:28px;user-select:none;-webkit-user-select:none}.select2-container .select2-selection--single .select2-selection__rendered{display:block;padding-left:8px;padding-right:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.select2-container .select2-selection--single .select2-selection__clear{position:relative}.select2-container[dir=rtl] .select2-selection--single .select2-selection__rendered{padding-right:8px;padding-left:20px}.select2-container .select2-selection--multiple{box-sizing:border-box;cursor:pointer;display:block;min-height:2pc;user-select:none;-webkit-user-select:none}.select2-container .select2-selection--multiple .select2-selection__rendered{display:inline-block;overflow:hidden;padding-left:8px;text-overflow:ellipsis;white-space:nowrap}.select2-container .select2-search--inline{float:left}.select2-container .select2-search--inline .select2-search__field{box-sizing:border-box;border:none;font-size:100%;margin-top:5px;padding:0}.select2-container .select2-search--inline .select2-search__field::-webkit-search-cancel-button{-webkit-appearance:none}.select2-dropdown{background-color:#fff;border:1px solid #aaa;border-radius:4px;box-sizing:border-box;display:block;position:absolute;left:-6250pc;width:100%;z-index:1051}.select2-results{display:block}.select2-results__options{list-style:none;margin:0;padding:0}.select2-results__option{padding:6px;user-select:none;-webkit-user-select:none}.select2-results__option[aria-selected]{cursor:pointer}.select2-container--open .select2-dropdown{left:0}.select2-container--open .select2-dropdown--above{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--open .select2-dropdown--below{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.select2-search--dropdown{display:block;padding:4px}.select2-search--dropdown .select2-search__field{padding:4px;width:100%;box-sizing:border-box}.select2-search--dropdown .select2-search__field::-webkit-search-cancel-button{-webkit-appearance:none}.select2-search--dropdown.select2-search--hide{display:none}.select2-close-mask{border:0;margin:0;padding:0;display:block;position:fixed;left:0;top:0;min-height:100%;min-width:100%;height:auto;width:auto;opacity:0;z-index:99;background-color:#fff;filter:alpha(opacity=0)}.select2-hidden-accessible{border:0!important;clip:rect(0 0 0 0)!important;height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;width:1px!important}.select2-container--default .select2-selection--single{background-color:#fff;border:1px solid #aaa;border-radius:4px}.select2-container--default .select2-selection--single .select2-selection__rendered{color:#444;line-height:28px}.select2-container--default .select2-selection--single .select2-selection__clear{cursor:pointer;float:right;font-weight:700}.select2-container--default .select2-selection--single .select2-selection__placeholder{color:#999}.select2-container--default .select2-selection--single .select2-selection__arrow{height:26px;position:absolute;top:1px;right:1px;width:20px}.select2-container--default .select2-selection--single .select2-selection__arrow b{border-color:#888 transparent transparent;border-style:solid;border-width:5px 4px 0;height:0;left:50%;margin-left:-4px;margin-top:-2px;position:absolute;top:50%;width:0}.select2-container--default[dir=rtl] .select2-selection--single .select2-selection__clear{float:left}.select2-container--default[dir=rtl] .select2-selection--single .select2-selection__arrow{left:1px;right:auto}.select2-container--default.select2-container--disabled .select2-selection--single{background-color:#eee;cursor:default}.select2-container--default.select2-container--disabled .select2-selection--single .select2-selection__clear{display:none}.select2-container--default.select2-container--open .select2-selection--single .select2-selection__arrow b{border-color:transparent transparent #888;border-width:0 4px 5px}.select2-container--default .select2-selection--multiple{background-color:#fff;border:1px solid #aaa;border-radius:4px;cursor:text}.select2-container--default .select2-selection--multiple .select2-selection__rendered{box-sizing:border-box;list-style:none;margin:0;padding:0 5px;width:100%}.select2-container--default .select2-selection--multiple .select2-selection__rendered li{list-style:none}.select2-container--default .select2-selection--multiple .select2-selection__placeholder{color:#999;margin-top:5px;float:left}.select2-container--default .select2-selection--multiple .select2-selection__clear{cursor:pointer;float:right;font-weight:700;margin-top:5px;margin-right:10px}.select2-container--default .select2-selection--multiple .select2-selection__choice{background-color:#e4e4e4;border:1px solid #aaa;border-radius:4px;cursor:default;float:left;margin-right:5px;margin-top:5px;padding:0 5px}.select2-container--default .select2-selection--multiple .select2-selection__choice__remove{color:#999;cursor:pointer;display:inline-block;font-weight:700;margin-right:2px}.select2-container--default .select2-selection--multiple .select2-selection__choice__remove:hover{color:#333}.select2-container--default[dir=rtl] .select2-selection--multiple .select2-search--inline,.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection__choice,.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection__placeholder{float:right}.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection__choice{margin-left:5px;margin-right:auto}.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection__choice__remove{margin-left:2px;margin-right:auto}.select2-container--default.select2-container--focus .select2-selection--multiple{border:1px solid #000;outline:0}.select2-container--default.select2-container--disabled .select2-selection--multiple{background-color:#eee;cursor:default}.select2-container--default.select2-container--disabled .select2-selection__choice__remove{display:none}.select2-container--default.select2-container--open.select2-container--above .select2-selection--multiple,.select2-container--default.select2-container--open.select2-container--above .select2-selection--single{border-top-left-radius:0;border-top-right-radius:0}.select2-container--default.select2-container--open.select2-container--below .select2-selection--multiple,.select2-container--default.select2-container--open.select2-container--below .select2-selection--single{border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--default .select2-search--dropdown .select2-search__field{border:1px solid #aaa}.select2-container--default .select2-search--inline .select2-search__field{background:transparent;border:none;outline:0;box-shadow:none;-webkit-appearance:textfield}.select2-container--default .select2-results>.select2-results__options{max-height:200px;overflow-y:auto}.select2-container--default .select2-results__option[role=group]{padding:0}.select2-container--default .select2-results__option[aria-disabled=true]{color:#999}.select2-container--default .select2-results__option[aria-selected=true]{background-color:#ddd}.select2-container--default .select2-results__option .select2-results__option{padding-left:1em}.select2-container--default .select2-results__option .select2-results__option .select2-results__group{padding-left:0}.select2-container--default .select2-results__option .select2-results__option .select2-results__option{margin-left:-1em;padding-left:2em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-2em;padding-left:3em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-3em;padding-left:4em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-4em;padding-left:5em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-5em;padding-left:6em}.select2-container--default .select2-results__option--highlighted[aria-selected]{background-color:#5897fb;color:#fff}.select2-container--default .select2-results__group{cursor:default;display:block;padding:6px}.select2-container--classic .select2-selection--single{background-color:#f7f7f7;border:1px solid #aaa;border-radius:4px;outline:0;background-image:-webkit-linear-gradient(top,#fff 50%,#eee 100%);background-image:linear-gradient(to bottom,#fff 50%,#eee 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFFFF',endColorstr='#FFEEEEEE',GradientType=0)}.select2-container--classic .select2-selection--single:focus{border:1px solid #5897fb}.select2-container--classic .select2-selection--single .select2-selection__rendered{color:#444;line-height:28px}.select2-container--classic .select2-selection--single .select2-selection__clear{cursor:pointer;float:right;font-weight:700;margin-right:10px}.select2-container--classic .select2-selection--single .select2-selection__placeholder{color:#999}.select2-container--classic .select2-selection--single .select2-selection__arrow{background-color:#ddd;border:none;border-left:1px solid #aaa;border-top-right-radius:4px;border-bottom-right-radius:4px;height:26px;position:absolute;top:1px;right:1px;width:20px;background-image:-webkit-linear-gradient(top,#eee 50%,#ccc 100%);background-image:linear-gradient(to bottom,#eee 50%,#ccc 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFEEEEEE',endColorstr='#FFCCCCCC',GradientType=0)}.select2-container--classic .select2-selection--single .select2-selection__arrow b{border-color:#888 transparent transparent;border-style:solid;border-width:5px 4px 0;height:0;left:50%;margin-left:-4px;margin-top:-2px;position:absolute;top:50%;width:0}.select2-container--classic[dir=rtl] .select2-selection--single .select2-selection__clear{float:left}.select2-container--classic[dir=rtl] .select2-selection--single .select2-selection__arrow{border:none;border-right:1px solid #aaa;border-radius:0;border-top-left-radius:4px;border-bottom-left-radius:4px;left:1px;right:auto}.select2-container--classic.select2-container--open .select2-selection--single{border:1px solid #5897fb}.select2-container--classic.select2-container--open .select2-selection--single .select2-selection__arrow{background:transparent;border:none}.select2-container--classic.select2-container--open .select2-selection--single .select2-selection__arrow b{border-color:transparent transparent #888;border-width:0 4px 5px}.select2-container--classic.select2-container--open.select2-container--above .select2-selection--single{border-top:none;border-top-left-radius:0;border-top-right-radius:0;background-image:-webkit-linear-gradient(top,#fff 0%,#eee 50%);background-image:linear-gradient(to bottom,#fff 0%,#eee 50%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFFFF',endColorstr='#FFEEEEEE',GradientType=0)}.select2-container--classic.select2-container--open.select2-container--below .select2-selection--single{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0;background-image:-webkit-linear-gradient(top,#eee 50%,#fff 100%);background-image:linear-gradient(to bottom,#eee 50%,#fff 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFEEEEEE',endColorstr='#FFFFFFFF',GradientType=0)}.select2-container--classic .select2-selection--multiple{background-color:#fff;border:1px solid #aaa;border-radius:4px;cursor:text;outline:0}.select2-container--classic .select2-selection--multiple:focus{border:1px solid #5897fb}.select2-container--classic .select2-selection--multiple .select2-selection__rendered{list-style:none;margin:0;padding:0 5px}.select2-container--classic .select2-selection--multiple .select2-selection__clear{display:none}.select2-container--classic .select2-selection--multiple .select2-selection__choice{background-color:#e4e4e4;border:1px solid #aaa;border-radius:4px;cursor:default;float:left;margin-right:5px;margin-top:5px;padding:0 5px}.select2-container--classic .select2-selection--multiple .select2-selection__choice__remove{color:#888;cursor:pointer;display:inline-block;font-weight:700;margin-right:2px}.select2-container--classic .select2-selection--multiple .select2-selection__choice__remove:hover{color:#555}.select2-container--classic[dir=rtl] .select2-selection--multiple .select2-selection__choice{float:right;margin-left:5px;margin-right:auto}.select2-container--classic[dir=rtl] .select2-selection--multiple .select2-selection__choice__remove{margin-left:2px;margin-right:auto}.select2-container--classic.select2-container--open .select2-selection--multiple{border:1px solid #5897fb}.select2-container--classic.select2-container--open.select2-container--above .select2-selection--multiple{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.select2-container--classic.select2-container--open.select2-container--below .select2-selection--multiple{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--classic .select2-search--dropdown .select2-search__field{border:1px solid #aaa;outline:0}.select2-container--classic .select2-search--inline .select2-search__field{outline:0;box-shadow:none}.select2-container--classic .select2-dropdown{background-color:#fff;border:1px solid transparent}.select2-container--classic .select2-dropdown--above{border-bottom:none}.select2-container--classic .select2-dropdown--below{border-top:none}.select2-container--classic .select2-results>.select2-results__options{max-height:200px;overflow-y:auto}.select2-container--classic .select2-results__option[role=group]{padding:0}.select2-container--classic .select2-results__option[aria-disabled=true]{color:grey}.select2-container--classic .select2-results__option--highlighted[aria-selected]{background-color:#3875d7;color:#fff}.select2-container--classic .select2-results__group{cursor:default;display:block;padding:6px}.select2-container--classic.select2-container--open .select2-dropdown{border-color:#5897fb}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=h[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(a(i.parts[o],e))}else{for(var s=[],o=0;o<i.parts.length;o++)s.push(a(i.parts[o],e));h[i.id]={id:i.id,refs:1,parts:s}}}}function r(t){for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=r[0],s=r[1],a=r[2],l=r[3],c={css:s,media:a,sourceMap:l};n[o]?n[o].parts.push(c):e.push(n[o]={id:o,parts:[c]})}return e}function o(){var t=document.createElement("style"),e=p();return t.type="text/css",e.appendChild(t),t}function s(){var t=document.createElement("link"),e=p();return t.rel="stylesheet",e.appendChild(t),t}function a(t,e){var n,i,r;if(e.singleton){var a=v++;n=g||(g=o()),i=l.bind(null,n,a,!1),r=l.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(),i=u.bind(null,n),r=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(),i=c.bind(null,n),r=function(){n.parentNode.removeChild(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function l(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=m(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function c(t,e){var n=e.css,i=e.media;e.sourceMap;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function u(t,e){var n=e.css,i=(e.media,e.sourceMap);i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var h={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},f=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=d(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,v=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=f());var n=r(t);return i(n,e),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s],l=h[a.id];l.refs--,o.push(l)}if(t){var c=r(t);i(c,e)}for(var s=0;s<o.length;s++){var l=o[s];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete h[l.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){t.exports=n(24)},function(t,e,n){var i,r;!function(o,s){i=s,r="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==r&&(t.exports=r))}(this,function(){return function t(e,n){var i=Array.isArray(n),r=i&&[]||{};return i?(e=e||[],r=r.concat(e),n.forEach(function(n,i){"undefined"==typeof r[i]?r[i]=n:"object"==typeof n?r[i]=t(e[i],n):-1===e.indexOf(n)&&r.push(n)})):(e&&"object"==typeof e&&Object.keys(e).forEach(function(t){r[t]=e[t]}),Object.keys(n).forEach(function(i){"object"==typeof n[i]&&n[i]&&e[i]?r[i]=t(e[i],n[i]):r[i]=n[i]})),r}})},function(t,e){/*! Select2 4.0.3 | https://github.com/select2/select2/blob/master/LICENSE.md */
!function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var t=jQuery.fn.select2.amd;return t.define("select2/i18n/ru",[],function(){function t(t,e,n,i){return 5>t%10&&t%10>0&&5>t%100||t%100>20?t%10>1?n:e:i}return{errorLoading:function(){return"Невозможно загрузить результаты"},inputTooLong:function(e){var n=e.input.length-e.maximum,i="Пожалуйста, введите на "+n+" символ";return i+=t(n,"","a","ов"),i+=" меньше"},inputTooShort:function(e){var n=e.minimum-e.input.length,i="Пожалуйста, введите еще хотя бы "+n+" символ";return i+=t(n,"","a","ов")},loadingMore:function(){return"Загрузка данных…"},maximumSelected:function(e){var n="Вы можете выбрать не более "+e.maximum+" элемент";return n+=t(e.maximum,"","a","ов")},noResults:function(){return"Совпадений не найдено"},searching:function(){return"Поиск…"}}}),{define:t.define,require:t.require}}()},function(t,e,n){var i=n(27);t.exports=function(){var t=new i.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<label for="wizard_'),i.b(i.v(i.f("name",t,e,0))),i.b('">'),i.b(i.v(i.f("title",t,e,0))),i.b("</label>"),i.b("\n"+n),i.b('<select name="F[w]['),i.b(i.v(i.f("name",t,e,0))),i.b(']" id="wizard_'),i.b(i.v(i.f("name",t,e,0))),i.b('" class="disable-filter-events"'),i.s(i.f("disabled",t,e,1),t,e,0,148,165,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("\n"+n),i.b("        disabled")}),t.pop()),i.b(">"),i.b("\n"+n),i.b("    <option></option>"),i.b("\n"+n),i.b("</select>"),i.b("\n"),i.fl()},partials:{},subs:{}},'<label for="wizard_{{ name }}">{{ title }}</label>\n<select name="F[w][{{ name }}]" id="wizard_{{ name }}" class="disable-filter-events"{{#disabled}}\n        disabled{{/disabled}}>\n    <option></option>\n</select>\n',i);return t.render.apply(t,arguments)}},function(t,e,n){var i=n(28);i.Template=n(29).Template,i.template=i.Template,t.exports=i},function(t,e,n){!function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function n(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function i(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var i=1,r=t.length;r>i;i++)if(e.charAt(n+i)!=t.charAt(i))return!1;return!0}function r(e,n,i,a){var l=[],c=null,u=null,h=null;for(u=i[i.length-1];e.length>0;){if(h=e.shift(),u&&"<"==u.tag&&!(h.tag in _))throw new Error("Illegal content in < super tag.");if(t.tags[h.tag]<=t.tags.$||o(h,a))i.push(h),h.nodes=r(e,h.tag,i,a);else{if("/"==h.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+h.n);if(c=i.pop(),h.n!=c.n&&!s(h.n,c.n,a))throw new Error("Nesting error: "+c.n+" vs. "+h.n);return c.end=h.i,l}"\n"==h.tag&&(h.last=0==e.length||"\n"==e[0].tag)}l.push(h)}if(i.length>0)throw new Error("missing closing tag: "+i.pop().n);return l}function o(t,e){for(var n=0,i=e.length;i>n;n++)if(e[n].o==t.n)return t.tag="#",!0}function s(t,e,n){for(var i=0,r=n.length;r>i;i++)if(n[i].c==t&&n[i].o==e)return!0}function a(t){var e=[];for(var n in t)e.push('"'+c(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}function l(t){var e=[];for(var n in t.partials)e.push('"'+c(n)+'":{name:"'+c(t.partials[n].name)+'", '+l(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+a(t.subs)}function c(t){return t.replace(y,"\\\\").replace(g,'\\"').replace(v,"\\n").replace(m,"\\r").replace(b,"\\u2028").replace(w,"\\u2029")}function u(t){return~t.indexOf(".")?"d":"f"}function h(t,e){var n="<"+(e.prefix||""),i=n+t.n+x++;return e.partials[i]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+c(i)+'",c,p,"'+(t.indent||"")+'"));',i}function d(t,e){e.code+="t.b(t.t(t."+u(t.n)+'("'+c(t.n)+'",c,p,0)));'}function f(t){return"t.b("+t+");"}var p=/\S/,g=/\"/g,v=/\n/g,m=/\r/g,y=/\\/g,b=/\u2028/,w=/\u2029/;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(r,o){function s(){y.length>0&&(b.push({tag:"_t",text:new String(y)}),y="")}function a(){for(var e=!0,n=x;n<b.length;n++)if(e=t.tags[b[n].tag]<t.tags._v||"_t"==b[n].tag&&null===b[n].text.match(p),!e)return!1;return e}function l(t,e){if(s(),t&&a())for(var n,i=x;i<b.length;i++)b[i].text&&((n=b[i+1])&&">"==n.tag&&(n.indent=b[i].text.toString()),b.splice(i,1));else e||b.push({tag:"\n"});w=!1,x=b.length}function c(t,e){var i="="+E,r=t.indexOf(i,e),o=n(t.substring(t.indexOf("=",e)+1,r)).split(" ");return C=o[0],E=o[o.length-1],r+i.length-1}var u=r.length,h=0,d=1,f=2,g=h,v=null,m=null,y="",b=[],w=!1,_=0,x=0,C="{{",E="}}";for(o&&(o=o.split(" "),C=o[0],E=o[1]),_=0;u>_;_++)g==h?i(C,r,_)?(--_,s(),g=d):"\n"==r.charAt(_)?l(w):y+=r.charAt(_):g==d?(_+=C.length-1,m=t.tags[r.charAt(_+1)],v=m?r.charAt(_+1):"_v","="==v?(_=c(r,_),g=h):(m&&_++,g=f),w=_):i(E,r,_)?(b.push({tag:v,n:n(y),otag:C,ctag:E,i:"/"==v?w-C.length:_+E.length}),y="",_+=E.length-1,g=h,"{"==v&&("}}"==E?_++:e(b[b.length-1]))):y+=r.charAt(_);return l(w,!0),b};var _={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e,n,i){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+l(e)+"}"};var x=0;t.generate=function(e,n,i){x=0;var r={code:"",subs:{},partials:{}};return t.walk(e,r),i.asString?this.stringify(r,n,i):this.makeTemplate(r,n,i)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var i=this.makePartials(t);return i.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(i,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+u(e.n)+'("'+c(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+u(e.n)+'("'+c(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":h,"<":function(e,n){var i={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,i);var r=n.partials[h(e,n)];r.subs=i.subs,r.partials=i.partials},$:function(e,n){var i={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,i),n.subs[e.n]=i.code,n.inPartial||(n.code+='t.sub("'+c(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=f('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+u(t.n)+'("'+c(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=f('"'+c(t.text)+'"')},"{":d,"&":d},t.walk=function(e,n){for(var i,r=0,o=e.length;o>r;r++)i=t.codegen[e[r].tag],i&&i(e[r],n);return n},t.parse=function(t,e,n){return n=n||{},r(t,"",[],n.sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,n){n=n||{};var i=t.cacheKey(e,n),r=this.cache[i];if(r){var o=r.partials;for(var s in o)delete o[s].instance;return r}return r=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[i]=r}}(e)},function(t,e,n){!function(t){function e(t,e,n){var i;return e&&"object"==typeof e&&(void 0!==e[t]?i=e[t]:n&&e.get&&"function"==typeof e.get&&(i=e.get(t))),i}function n(t,e,n,i,r,o){function s(){}function a(){}s.prototype=t,a.prototype=t.subs;var l,c=new s;c.subs=new a,c.subsText={},c.buf="",i=i||{},c.stackSubs=i,c.subsText=o;for(l in e)i[l]||(i[l]=e[l]);for(l in i)c.subs[l]=i[l];r=r||{},c.stackPartials=r;for(l in n)r[l]||(r[l]=n[l]);for(l in r)c.partials[l]=r[l];return c}function i(t){return String(null===t||void 0===t?"":t)}function r(t){return t=i(t),u.test(t)?t.replace(o,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(l,"&#39;").replace(c,"&quot;"):t}t.Template=function(t,e,n,i){t=t||{},this.r=t.code||this.r,this.c=n,this.options=i||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(t,e,n){return""},v:r,t:i,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var i=this.partials[t],r=e[i.name];if(i.instance&&i.base==r)return i.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}if(!r)return null;if(this.partials[t].base=r,i.subs){e.stackText||(e.stackText={});for(key in i.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);r=n(r,i.subs,i.partials,this.stackSubs,this.stackPartials,e.stackText)}return this.partials[t].instance=r,r},rp:function(t,e,n,i){var r=this.ep(t,n);return r?r.ri(e,n,i):""},rs:function(t,e,n){var i=t[t.length-1];if(!h(i))return void n(t,e,this);for(var r=0;r<i.length;r++)t.push(i[r]),n(t,e,this),t.pop()},s:function(t,e,n,i,r,o,s){var a;return h(t)&&0===t.length?!1:("function"==typeof t&&(t=this.ms(t,e,n,i,r,o,s)),a=!!t,!i&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,n,i,r){var o,s=t.split("."),a=this.f(s[0],n,i,r),l=this.options.modelGet,c=null;if("."===t&&h(n[n.length-2]))a=n[n.length-1];else for(var u=1;u<s.length;u++)o=e(s[u],a,l),void 0!==o?(c=a,a=o):a="";return r&&!a?!1:(r||"function"!=typeof a||(n.push(c),a=this.mv(a,n,i),n.pop()),a)},f:function(t,n,i,r){for(var o=!1,s=null,a=!1,l=this.options.modelGet,c=n.length-1;c>=0;c--)if(s=n[c],o=e(t,s,l),void 0!==o){a=!0;break}return a?(r||"function"!=typeof o||(o=this.mv(o,n,i)),o):r?!1:""},ls:function(t,e,n,r,o){var s=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(i(t.call(e,r)),e,n)),this.options.delimiters=s,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,e,n,i,r,o,s){var a,l=e[e.length-1],c=t.call(l);return"function"==typeof c?i?!0:(a=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(c,l,n,a.substring(r,o),s)):c},mv:function(t,e,n){var r=e[e.length-1],o=t.call(r);return"function"==typeof o?this.ct(i(o.call(r)),r,n):o},sub:function(t,e,n,i){var r=this.subs[t];r&&(this.activeSub=t,r(e,n,this,i),this.activeSub=!1)}};var o=/&/g,s=/</g,a=/>/g,l=/\'/g,c=/\"/g,u=/[&<>\"\']/,h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(e)},function(t,e,n){var i=n(27);t.exports=function(){var t=new i.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b("<h4>"),i.b(i.v(i.f("title",t,e,0))),i.b("</h4>"),i.b("\n"),i.b("\n"+n),i.b('<input type="hidden" name="count" value="0" id="wizard-count-switch">'),i.b("\n"+n),i.b('<div id="wizard-fields" class="clearfix"></div>'),i.b("\n"+n),i.b('<div id="wizard-reset">'),i.b("\n"+n),i.b('    <a href="'),i.b(i.v(i.f("resetUrl",t,e,0))),i.b('" class="button" filter-pjax>Сбросить фильтр</a>'),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b('<div id="wizard-controls" class="hidden">'),i.b("\n"+n),i.b('    <button class="button" filter-pjax name="F[forceService]" value="1" type="submit">Показать</button>'),i.b("\n"+n),i.b('    <span id="wizard-count" class="hidden"> — найдено моделей: <span class="value"></span></span>'),i.b("\n"+n),i.b("</div>"),i.fl()},partials:{},subs:{}},'<h4>{{ title }}</h4>\n\n<input type="hidden" name="count" value="0" id="wizard-count-switch">\n<div id="wizard-fields" class="clearfix"></div>\n<div id="wizard-reset">\n    <a href="{{ resetUrl }}" class="button" filter-pjax>Сбросить фильтр</a>\n</div>\n<div id="wizard-controls" class="hidden">\n    <button class="button" filter-pjax name="F[forceService]" value="1" type="submit">Показать</button>\n    <span id="wizard-count" class="hidden"> — найдено моделей: <span class="value"></span></span>\n</div>',i);return t.render.apply(t,arguments)}},function(t,e){!function(t){var e={maxLength:500,classKeeper:".popup-keeper",template:'<div class="popup"><div class="popup_content"><div class="header">%caption%</div><div class="content">%content%</div></div><a href="#" class="close"></a><i class="corner"></i></div>'};t.popupnotice=function(n,i){this.options=t.extend({},e,i||{}),this.element=t(n),this.popup=null,this.keeper=null,this.type=!1,this.align="center",this.offset=0,this.url=!1,this.content=!1,this.caption=!1,this.init()};var n=t.popupnotice;n.fn=n.prototype={popupnotice:"0.1.0"},n.fn.extend=n.extend=t.extend,n.fn.extend({init:function(){this.element.data("popup-notice",!0);var t=this.element.closest(this.options.classKeeper),e=this.element.data("url"),n=this.element.data("content"),i=this.element.data("caption"),r=this.element.data("type"),o=this.element.data("align"),s=this.element.data("offset");this.keeper=t.size()?t:this.element.parent(),void 0!=e&&(this.url=e),void 0!=n&&(this.content=n),void 0!=i&&(this.caption=i),void 0!=r&&(this.type=r),void 0!=o&&(this.align=o),void 0!=s&&(this.offset=s),this.bind()},reload:function(){this.init()},bind:function(){this.element.on("click.notice",function(t){t.preventDefault(),this.open()}.bind(this)),t(window).on("resize",function(){null!=this.popup&&this.popup.is(":visible")&&(this.position(),this.positionCorner())}.bind(this))},open:function(){return this.keeper.find(".popup").size()?void this.run():this.url?void t.ajax({url:this.url,success:function(t){void 0!=t.content?(this.caption=void 0!=t.caption?t.caption:"",this.content=t.content,this.append(),this.run()):alert("popupnotice: error ajax data")}.bind(this)}):(this.content&&this.append(),void this.run())},append:function(){this.caption&&void 0!=this.caption||(this.caption="");var t=this.options.template.replace("%caption%",this.caption).replace("%content%",this.content);this.keeper.find(".popup").remove(),this.keeper.append(t)},run:function(){this.popup=this.keeper.find(".popup"),this.close(),this.popup.find(".content").size()&&this.popup.find(".content").truncateText({size:this.options.maxLength});var t=this.popup.find(".header");switch(""==t.text()&&t.remove(),this.popup.show(),this.scroll(),this.type){case"left":this.popup.addClass("popup_info");break;default:this.position(),this.positionCorner()}setTimeout(function(){this.bindClose()}.bind(this),10)},scroll:function(){var e=this.popup.offset().top,n=this.popup.height(),i=t(document).scrollTop(),r=t(window).height(),o=e+n,s=i+r;o>s&&t("html, body").stop().animate({scrollTop:i+(o-s)+20},1e3)},close:function(){t(".popup").hide(),t(document).off(".popup")},bindClose:function(){t(document).on("click.popup",function(e){0==t(e.target).closest(this.popup).length&&this.close()}.bind(this)),t(document).on("keydown.popup",function(t){27===t.keyCode&&this.close()}.bind(this)),this.popup.on("click",".close",function(t){t.preventDefault(),this.close()}.bind(this))},position:function(){this.popup.css("left",0);var e=this.popup.offset().left,n=e+this.popup.width(),i=t("body").width(),r=0;0>e&&(r=0+e),n>i&&(r=0-(n-i+10)),this.popup.css("left",r)},positionCorner:function(){var t=this.popup.find(".corner"),e=0;if("center"==this.align){var n=this.element.offset().left-this.keeper.offset().left+this.element.width()/2-this.popup.position().left;e=n-t.width()/2,0>e&&parseInt(this.popup.css("left"))>=0&&(this.popup.css("left",e-2),e=2+this.offset)}else e="right"==this.align?parseInt(this.element.width()+this.offset):parseInt(this.offset);t.css("left",e)}}),t.fn.popupnotice=function(e){if("string"==typeof e){var i=t(this).data("popupnotice"),r=Array.prototype.slice.call(arguments,1);return i[e].apply(i,r)}return this.each(function(){var i=t(this).data("popupnotice");i?(e&&t.extend(i.options,e),i.reload()):t(this).data("popupnotice",new n(this,e))})}}(jQuery)},function(t,e,n){n(33);var i=window.Bloodhound,r=n(37),o=null,s=new i({datumTokenizer:function(t){return i.tokenizers.whitespace(t.title)},queryTokenizer:i.tokenizers.whitespace,limit:15,remote:{url:"/search/autocomplete?term=%QUERY&categoryId="+$("#searchCategoryId:checked").val()}});s.initialize(),$typeahead=$("#search").typeahead({minLength:2,hint:!1},{name:"suggestList",displayKey:"title",source:s.ttAdapter(),templates:{suggestion:function(t){return r.render($("#opinion_mustache_suggestList").html(),t)}}}),$typeahead.on("typeahead:selected",function(t,e){window.location=e.url}),$typeahead.on("typeahead:autocompleted",function(t,e){o=e}),$typeahead.on("typeahead:opened",function(){$("body").on("submit:search","#search_from",function(){return o?(window.location=o.url,!1):void 0})}),$typeahead.on("typeahead:closed",function(){$("body").off("submit:search")}),$("#searchCategoryId").change(function(){s.remote.url="/search/autocomplete?term=%QUERY&categoryId="+$("#searchCategoryId:checked").val()});var a=$("#header").find(".search"),l=$(".placeholder",a),c=$("#search",a);$(".cancel",a);l.on("click",function(){$(this).hide(),c.focus()})},function(t,e,n){t.exports=n(34)},function(t,e,n){(function(t){/*!
	 * typeahead.js 0.10.5
	 * https://github.com/twitter/typeahead.js
	 * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
	 */
!function(e){var n=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},toStr:function(t){return n.isUndefined(t)||null===t?"":t+""},bind:e.proxy,each:function(t,n){function i(t,e){return n(e,t)}e.each(t,i)},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,function(e,r){return(i=n.call(null,r,e,t))?void 0:!1}),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,function(e,r){return(i=n.call(null,r,e,t))?!1:void 0}),!!i):i},mixin:e.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,l=arguments;return o=function(){i=null,n||(r=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,c)),o}},noop:function(){}}}(),i="0.10.5",r=function(){"use strict";function t(t){return t=n.toStr(t),t?t.split(/\s+/):[]}function e(t){return t=n.toStr(t),t?t.split(/\W+/):[]}function i(t){return function(){var e=[].slice.call(arguments,0);return function(i){var r=[];return n.each(e,function(e){r=r.concat(t(n.toStr(i[e])))}),r}}}return{nonword:e,whitespace:t,obj:{nonword:i(e),whitespace:i(t)}}}(),o=function(){"use strict";function t(t){this.maxSize=n.isNumber(t)?t:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return n.mixin(t.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key]),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),n.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),t}(),s=function(){"use strict";function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+n.escapeRegExChars(this.prefix))}function e(){return(new Date).getTime()}function i(t){return JSON.stringify(n.isUndefined(t)?null:t)}function r(t){return JSON.parse(t)}var o,s;try{o=window.localStorage,o.setItem("~~~","!"),o.removeItem("~~~")}catch(a){o=null}return s=o&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),r(o.getItem(this._prefix(t)))},set:function(t,r,s){return n.isNumber(s)?o.setItem(this._ttlKey(t),i(e()+s)):o.removeItem(this._ttlKey(t)),o.setItem(this._prefix(t),i(r))},remove:function(t){return o.removeItem(this._ttlKey(t)),o.removeItem(this._prefix(t)),this},clear:function(){var t,e,n=[],i=o.length;for(t=0;i>t;t++)(e=o.key(t)).match(this.keyMatcher)&&n.push(e.replace(this.keyMatcher,""));for(t=n.length;t--;)this.remove(n[t]);return this},isExpired:function(t){var i=r(o.getItem(this._ttlKey(t)));return!!(n.isNumber(i)&&e()>i)}}:{get:n.noop,set:n.noop,remove:n.noop,clear:n.noop,isExpired:n.noop},n.mixin(t.prototype,s),t}(),a=function(){"use strict";function t(t){t=t||{},this.cancelled=!1,this.lastUrl=null,this._send=t.transport?i(t.transport):e.ajax,this._get=t.rateLimiter?t.rateLimiter(this._get):this._get,this._cache=t.cache===!1?new o(0):l}function i(t){return function(i,r){function o(t){n.defer(function(){a.resolve(t)})}function s(t){n.defer(function(){a.reject(t)})}var a=e.Deferred();return t(i,r,o,s),a}}var r=0,s={},a=6,l=new o(10);return t.setMaxPendingRequests=function(t){a=t},t.resetCache=function(){l.reset()},n.mixin(t.prototype,{_get:function(t,e,n){function i(e){n&&n(null,e),u._cache.set(t,e)}function o(){n&&n(!0)}function l(){r--,delete s[t],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var c,u=this;this.cancelled||t!==this.lastUrl||((c=s[t])?c.done(i).fail(o):a>r?(r++,s[t]=this._send(t,e).done(i).fail(o).always(l)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(t,e,i){var r;return n.isFunction(e)&&(i=e,e={}),this.cancelled=!1,this.lastUrl=t,(r=this._cache.get(t))?n.defer(function(){i&&i(null,r)}):this._get(t,e,i),!!r},cancel:function(){this.cancelled=!0}}),t}(),l=function(){"use strict";function t(t){t=t||{},t.datumTokenizer&&t.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}function i(t){return t=n.filter(t,function(t){return!!t}),t=n.map(t,function(t){return t.toLowerCase()})}function r(){return{ids:[],children:{}}}function o(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){function n(t,e){return t-e}var i=0,r=0,o=[];t=t.sort(n),e=e.sort(n);for(var s=t.length,a=e.length;s>i&&a>r;)t[i]<e[r]?i++:t[i]>e[r]?r++:(o.push(t[i]),i++,r++);return o}return n.mixin(t.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var e=this;t=n.isArray(t)?t:[t],n.each(t,function(t){var o,s;o=e.datums.push(t)-1,s=i(e.datumTokenizer(t)),n.each(s,function(t){var n,i,s;for(n=e.trie,i=t.split("");s=i.shift();)n=n.children[s]||(n.children[s]=r()),n.ids.push(o)})})},get:function(t){var e,r,a=this;return e=i(this.queryTokenizer(t)),n.each(e,function(t){var e,n,i,o;if(r&&0===r.length)return!1;for(e=a.trie,n=t.split("");e&&(i=n.shift());)e=e.children[i];return e&&0===n.length?(o=e.ids.slice(0),void(r=r?s(r,o):o)):(r=[],!1)}),r?n.map(o(r),function(t){return a.datums[t]}):[]},reset:function(){this.datums=[],this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),t}(),c=function(){"use strict";function t(t){return t.local||null}function r(t){var r,o;return o={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(r=t.prefetch||null)&&(r=n.isString(r)?{url:r}:r,r=n.mixin(o,r),r.thumbprint=i+r.thumbprint,r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",!r.url&&e.error("prefetch requires url to be set")),r}function o(t){function i(t){return function(e){return n.debounce(e,t)}}function r(t){return function(e){return n.throttle(e,t)}}var o,s;return s={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(o=t.remote||null)&&(o=n.isString(o)?{url:o}:o,o=n.mixin(s,o),o.rateLimiter=/^throttle$/i.test(o.rateLimitBy)?r(o.rateLimitWait):i(o.rateLimitWait),o.ajax.type=o.ajax.type||"GET",o.ajax.dataType=o.ajax.dataType||"json",delete o.rateLimitBy,delete o.rateLimitWait,!o.url&&e.error("remote requires url to be set")),o}return{local:t,prefetch:r,remote:o}}();!function(t){"use strict";function i(t){t&&(t.local||t.prefetch||t.remote)||e.error("one of local, prefetch, or remote is required"),this.limit=t.limit||5,this.sorter=o(t.sorter),this.dupDetector=t.dupDetector||u,this.local=c.local(t),this.prefetch=c.prefetch(t),this.remote=c.remote(t),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new l({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),this.storage=this.cacheKey?new s(this.cacheKey):null}function o(t){function e(e){return e.sort(t)}function i(t){return t}return n.isFunction(t)?e:i}function u(){return!1}var h,d;return h=t.Bloodhound,d={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.Bloodhound=i,i.noConflict=function(){return t.Bloodhound=h,i},i.tokenizers=r,n.mixin(i.prototype,{_loadPrefetch:function(t){function n(e){o.clear(),o.add(t.filter?t.filter(e):e),o._saveToStorage(o.index.serialize(),t.thumbprint,t.ttl)}var i,r,o=this;return(i=this._readFromStorage(t.thumbprint))?(this.index.bootstrap(i),r=e.Deferred().resolve()):r=e.ajax(t.url,t.ajax).done(n),r},_getFromRemote:function(t,e){function n(t,n){e(t?[]:o.remote.filter?o.remote.filter(n):n)}var i,r,o=this;if(this.transport)return t=t||"",r=encodeURIComponent(t),i=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,r),this.transport.get(i,this.remote.ajax,n)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(t,e,n){this.storage&&(this.storage.set(d.data,t,n),this.storage.set(d.protocol,location.protocol,n),this.storage.set(d.thumbprint,e,n))},_readFromStorage:function(t){var e,n={};return this.storage&&(n.data=this.storage.get(d.data),n.protocol=this.storage.get(d.protocol),n.thumbprint=this.storage.get(d.thumbprint)),e=n.thumbprint!==t||n.protocol!==location.protocol,n.data&&!e?n.data:null},_initialize:function(){function t(){r.add(n.isFunction(o)?o():o)}var i,r=this,o=this.local;return i=this.prefetch?this._loadPrefetch(this.prefetch):e.Deferred().resolve(),o&&i.done(t),this.transport=this.remote?new a(this.remote):null,this.initPromise=i.promise()},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){this.index.add(t)},get:function(t,e){function i(t){var i=o.slice(0);n.each(t,function(t){var e;return e=n.some(i,function(e){return r.dupDetector(t,e)}),!e&&i.push(t),i.length<r.limit}),e&&e(r.sorter(i))}var r=this,o=[],s=!1;o=this.index.get(t),o=this.sorter(o).slice(0,this.limit),o.length<this.limit?s=this._getFromRemote(t,i):this._cancelLastRemoteRequest(),s||(o.length>0||!this.transport)&&e&&e(o)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&a.resetCache()},ttAdapter:function(){return n.bind(this.get,this)}}),i}(this);var u=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),h=function(){"use strict";var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return n.isMsie()&&n.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),n.isMsie()&&n.isMsie()<=7&&n.mixin(t.input,{marginTop:"-1px"}),t}(),d=function(){"use strict";function t(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var i="typeahead:";return n.mixin(t.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(i+t,e)}}),t}(),f=function(){"use strict";function e(t,e,n,i){var r;if(!n)return this;for(e=e.split(c),n=i?l(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function n(t,n,i){return e.call(this,"async",t,n,i)}function i(t,n,i){return e.call(this,"sync",t,n,i)}function r(t){var e;if(!this._callbacks)return this;for(t=t.split(c);e=t.shift();)delete this._callbacks[e];return this}function o(t){var e,n,i,r,o;if(!this._callbacks)return this;for(t=t.split(c),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=s(n.sync,this,[e].concat(i)),o=s(n.async,this,[e].concat(i)),r()&&u(o);return this}function s(t,e,n){function i(){for(var i,r=0,o=t.length;!i&&o>r;r+=1)i=t[r].apply(e,n)===!1;return!i}return i}function a(){var e;return e=window.setImmediate?function(e){t(function(){e()})}:function(t){setTimeout(function(){t()},0)}}function l(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var c=/\s+/,u=a();return{onSync:i,onAsync:n,off:r,trigger:o}}(),p=function(t){"use strict";function e(t,e,i){for(var r,o=[],s=0,a=t.length;a>s;s++)o.push(n.escapeRegExChars(t[s]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",e?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(e){var n,i,o;return(n=a.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),i=e.splitText(n.index),i.splitText(n[0].length),o.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(o,i)),!!n}function s(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)n=t.childNodes[r],n.nodeType===i?r+=e(n)?1:0:s(n,e)}var a;r=n.mixin({},i,r),r.node&&r.pattern&&(r.pattern=n.isArray(r.pattern)?r.pattern:[r.pattern],a=e(r.pattern,r.caseSensitive,r.wordsOnly),s(r.node,o))}}(window.document),g=function(){"use strict";function t(t){var r,o,a,l,c=this;t=t||{},t.input||e.error("input is missing"),r=n.bind(this._onBlur,this),o=n.bind(this._onFocus,this),a=n.bind(this._onKeydown,this),l=n.bind(this._onInput,this),this.$hint=e(t.hint),this.$input=e(t.input).on("blur.tt",r).on("focus.tt",o).on("keydown.tt",a),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=n.noop),n.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){s[t.which||t.keyCode]||n.defer(n.bind(c._onInput,c,t))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function r(e,n){return t.normalizeQuery(e)===t.normalizeQuery(n)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},t.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},n.mixin(t.prototype,f,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=s[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var n,i,r;switch(t){case"tab":i=this.getHint(),r=this.getInputValue(),n=i&&i!==r&&!o(e);break;case"up":case"down":n=!o(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!o(e);break;default:n=!0}return n},_checkInputValue:function(){var t,e,n;t=this.getInputValue(),e=r(t,this.query),n=e?this.query.length!==t.length:!1,this.query=t,e?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e,i;return t=this.$input.val().length,e=this.$input[0].selectionStart,n.isNumber(e)?e===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),t}(),v=function(){"use strict";function t(t){t=t||{},t.templates=t.templates||{},t.source||e.error("missing source"),t.name&&!o(t.name)&&e.error("invalid dataset name: "+t.name),this.query=null,this.highlight=!!t.highlight,this.name=t.name||n.getUniqueId(),this.source=t.source,this.displayFn=i(t.display||t.displayKey),this.templates=r(t.templates,this.displayFn),this.$el=e(u.dataset.replace("%CLASS%",this.name))}function i(t){function e(e){return e[t]}return t=t||"value",n.isFunction(t)?t:e}function r(t,e){function i(t){return"<p>"+e(t)+"</p>"}return{empty:t.empty&&n.templatify(t.empty),header:t.header&&n.templatify(t.header),footer:t.footer&&n.templatify(t.footer),suggestion:t.suggestion||i}}function o(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var s="ttDataset",a="ttValue",l="ttDatum";return t.extractDatasetName=function(t){return e(t).data(s)},t.extractValue=function(t){return e(t).data(a)},t.extractDatum=function(t){return e(t).data(l)},n.mixin(t.prototype,f,{_render:function(t,i){function r(){return g.templates.empty({query:t,isEmpty:!0})}function o(){function r(t){var n;return n=e(u.suggestion).append(g.templates.suggestion(t)).data(s,g.name).data(a,g.displayFn(t)).data(l,t),n.children().each(function(){e(this).css(h.suggestionChild)}),n}var o,c;return o=e(u.suggestions).css(h.suggestions),c=n.map(i,r),o.append.apply(o,c),g.highlight&&p({className:"tt-highlight",node:o[0],pattern:t}),o}function c(){return g.templates.header({query:t,isEmpty:!f})}function d(){return g.templates.footer({query:t,isEmpty:!f})}if(this.$el){var f,g=this;this.$el.empty(),f=i&&i.length,!f&&this.templates.empty?this.$el.html(r()).prepend(g.templates.header?c():null).append(g.templates.footer?d():null):f&&this.$el.html(o()).prepend(g.templates.header?c():null).append(g.templates.footer?d():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(t){function e(e){n.canceled||t!==n.query||n._render(t,e)}var n=this;this.query=t,this.canceled=!1,this.source(t,e)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),t}(),m=function(){"use strict";function t(t){var r,o,s,a=this;t=t||{},t.menu||e.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=n.map(t.datasets,i),r=n.bind(this._onSuggestionClick,this),o=n.bind(this._onSuggestionMouseEnter,this),s=n.bind(this._onSuggestionMouseLeave,this),this.$menu=e(t.menu).on("click.tt",".tt-suggestion",r).on("mouseenter.tt",".tt-suggestion",o).on("mouseleave.tt",".tt-suggestion",s),n.each(this.datasets,function(t){a.$menu.append(t.getRoot()),t.onSync("rendered",a._onRendered,a)})}function i(t){return new v(t)}return n.mixin(t.prototype,f,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",e(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor(),this._setCursor(e(t.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function t(t){return t.isEmpty()}this.isEmpty=n.every(this.datasets,t),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,n,i,r;if(this.isOpen){if(n=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),i=e.index(n)+t,i=(i+1)%(e.length+1)-1,-1===i)return void this.trigger("cursorRemoved");-1>i&&(i=e.length-1),this._setCursor(r=e.eq(i)),this._ensureVisible(r)}},_ensureVisible:function(t){var e,n,i,r;e=t.position().top,n=e+t.outerHeight(!0),i=this.$menu.scrollTop(),r=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>e?this.$menu.scrollTop(i+e):n>r&&this.$menu.scrollTop(i+(n-r))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?h.ltr:h.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:v.extractDatum(t),value:v.extractValue(t),datasetName:v.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(t){function e(e){e.update(t)}n.each(this.datasets,e)},empty:function(){function t(t){t.clear()}n.each(this.datasets,t),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function t(t){t.destroy()}this.$menu.off(".tt"),this.$menu=null,n.each(this.datasets,t)}}),t}(),y=function(){"use strict";function t(t){var r,o,s;t=t||{},t.input||e.error("missing input"),this.isActivated=!1,this.autoselect=!!t.autoselect,this.minLength=n.isNumber(t.minLength)?t.minLength:1,this.$node=i(t.input,t.withHint),r=this.$node.find(".tt-dropdown-menu"),o=this.$node.find(".tt-input"),s=this.$node.find(".tt-hint"),o.on("blur.tt",function(t){var e,i,s;e=document.activeElement,i=r.is(e),s=r.has(e).length>0,n.isMsie()&&(i||s)&&(t.preventDefault(),t.stopImmediatePropagation(),n.defer(function(){o.focus()}))}),r.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=t.eventBus||new d({el:o}),this.dropdown=new m({menu:r,datasets:t.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new g({input:o,hint:s}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function i(t,n){var i,o,a,l;i=e(t),o=e(u.wrapper).css(h.wrapper),a=e(u.dropdown).css(h.dropdown),l=i.clone().css(h.hint).css(r(i)),l.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),i.data(s,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(n?h.input:h.inputWithNoHint);try{!i.attr("dir")&&i.attr("dir","auto")}catch(c){}return i.wrap(o).parent().prepend(n?l:null).append(a)}function r(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function o(t){var e=t.find(".tt-input");n.each(e.data(s),function(t,i){n.isUndefined(t)?e.removeAttr(i):e.attr(i,t)}),e.detach().removeData(s).removeClass("tt-input").insertAfter(t),t.remove()}var s="ttAttrs";return n.mixin(t.prototype,{_onSuggestionClicked:function(t,e){var n;(n=this.dropdown.getDatumForSuggestion(e))&&this._select(n)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(t,e){var n,i;n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),e.preventDefault()):this.autoselect&&i&&(this._select(i),e.preventDefault())},_onTabKeyed:function(t,e){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,e,i,r,o,s;t=this.dropdown.getDatumForTopSuggestion(),t&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(e=this.input.getInputValue(),i=g.normalizeQuery(e),r=n.escapeRegExChars(i),o=new RegExp("^(?:"+r+")(.+$)","i"),s=o.exec(t.value),s?this.input.setHint(e+s[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,n,i,r;e=this.input.getHint(),n=this.input.getQuery(),i=t||this.input.isCursorAtEnd(),e&&n!==e&&i&&(r=this.dropdown.getDatumForTopSuggestion(),r&&this.input.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.raw,r.datasetName))},_select:function(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),n.defer(n.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=n.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),o(this.$node),this.$node=null}}),t}();!function(){"use strict";var t,i,r;t=e.fn.typeahead,i="ttTypeahead",r={initialize:function(t,r){function o(){var o,s,a=e(this);n.each(r,function(e){e.highlight=!!t.highlight}),s=new y({input:a,eventBus:o=new d({el:a}),withHint:n.isUndefined(t.hint)?!0:!!t.hint,minLength:t.minLength,autoselect:t.autoselect,datasets:r}),a.data(i,s)}return r=n.isArray(r)?r:[].slice.call(arguments,1),t=t||{},this.each(o)},open:function(){function t(){var t,n=e(this);(t=n.data(i))&&t.open()}return this.each(t)},close:function(){function t(){var t,n=e(this);(t=n.data(i))&&t.close()}return this.each(t)},val:function(t){function n(){var n,r=e(this);(n=r.data(i))&&n.setVal(t)}function r(t){var e,n;return(e=t.data(i))&&(n=e.getVal()),n}return arguments.length?this.each(n):r(this.first())},destroy:function(){function t(){var t,n=e(this);(t=n.data(i))&&(t.destroy(),n.removeData(i))}return this.each(t)}},e.fn.typeahead=function(t){var n;return r[t]&&"initialize"!==t?(n=this.filter(function(){return!!e(this).data(i)}),r[t].apply(n,[].slice.call(arguments,1))):r.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=t,this}}()}(window.jQuery)}).call(e,n(35).setImmediate)},function(t,e,n){(function(t,i){function r(t,e){this._id=t,this._clearFn=e}var o=n(36).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,l={},c=0;e.setTimeout=function(){return new r(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,i=arguments.length<2?!1:a.call(arguments,1);return l[n]=!0,o(function(){l[n]&&(i?t.apply(null,i):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof i?i:function(t){delete l[t]}}).call(e,n(35).setImmediate,n(35).clearImmediate)},function(t,e){function n(){h&&c&&(h=!1,c.length?u=c.concat(u):d=-1,u.length&&i())}function i(){if(!h){var t=s(n);h=!0;for(var e=u.length;e;){for(c=u,u=[];++d<e;)c&&c[d].run();d=-1,e=u.length}c=null,h=!1,a(t)}}function r(t,e){this.fun=t,this.array=e}function o(){}var s,a,l=t.exports={};!function(){try{s=setTimeout}catch(t){s=function(){throw new Error("setTimeout is not defined")}}try{a=clearTimeout}catch(t){a=function(){throw new Error("clearTimeout is not defined")}}}();var c,u=[],h=!1,d=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new r(t,e)),1!==u.length||h||s(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=o,l.addListener=o,l.once=o,l.off=o,l.removeListener=o,l.removeAllListeners=o,l.emit=o,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e,n){var i=n(38),r=n(40);i.templates={},i.renderTemplate=function(t,e,n,i){var r=new $.Deferred;return this.getTemplate(t,e).done(function(t){i?this.getTemplates(i).done(function(e){r.resolve(this.render(t,n,e))}.bind(this)):r.resolve(this.render(t,n));
}.bind(this)),r.promise()},i.getTemplates=function(t){var e=new $.Deferred,n={},i=[];return $.each(t,function(t,e){i.push(this.getTemplate(t,e).done(function(e){n[t]=e}))}.bind(this)),$.when.apply(this,i).done(function(){e.resolve(n)}),e.promise()},i.getTemplate=function(t,e){var n=new $.Deferred;return void 0!=this.templates[t]&&this.templates[t].file==e?(n.resolve(this.templates[t].data),n.promise()):(r.getItem("mustache-templates",function(i,o){return this.templates=$.extend(!0,o,this.templates),void 0!=this.templates[t]&&this.templates[t].file==e?void n.resolve(this.templates[t].data):void $.get(e).done(function(i){this.templates[t]={file:e,data:i},r.setItem("mustache-templates",this.templates),n.resolve(i)}.bind(this))}.bind(this)),n.promise())},t.exports=i},function(t,e,n){t.exports=n(39)},function(t,e,n){var i,r,o;/*!
	 * mustache.js - Logic-less {{mustache}} templates with JavaScript
	 * http://github.com/janl/mustache.js
	 */
!function(n,s){"object"==typeof e&&e&&"string"!=typeof e.nodeName?s(e):(r=[e],i=s,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o)))}(this,function(t){function e(t){return"function"==typeof t}function n(t){return g(t)?"array":typeof t}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t,e){return null!=t&&"object"==typeof t&&e in t}function o(t,e){return v.call(t,e)}function s(t){return!o(m,t)}function a(t){return String(t).replace(/[&<>"'\/]/g,function(t){return y[t]})}function l(e,n){function r(){if(m&&!y)for(;v.length;)delete p[v.pop()];else v=[];m=!1,y=!1}function o(t){if("string"==typeof t&&(t=t.split(w,2)),!g(t)||2!==t.length)throw new Error("Invalid tags: "+t);a=new RegExp(i(t[0])+"\\s*"),l=new RegExp("\\s*"+i(t[1])),d=new RegExp("\\s*"+i("}"+t[1]))}if(!e)return[];var a,l,d,f=[],p=[],v=[],m=!1,y=!1;o(n||t.tags);for(var E,k,$,S,T,A,I=new h(e);!I.eos();){if(E=I.pos,$=I.scanUntil(a))for(var O=0,j=$.length;j>O;++O)S=$.charAt(O),s(S)?v.push(p.length):y=!0,p.push(["text",S,E,E+1]),E+=1,"\n"===S&&r();if(!I.scan(a))break;if(m=!0,k=I.scan(C)||"name",I.scan(b),"="===k?($=I.scanUntil(_),I.scan(_),I.scanUntil(l)):"{"===k?($=I.scanUntil(d),I.scan(x),I.scanUntil(l),k="&"):$=I.scanUntil(l),!I.scan(l))throw new Error("Unclosed tag at "+I.pos);if(T=[k,$,E,I.pos],p.push(T),"#"===k||"^"===k)f.push(T);else if("/"===k){if(A=f.pop(),!A)throw new Error('Unopened section "'+$+'" at '+E);if(A[1]!==$)throw new Error('Unclosed section "'+A[1]+'" at '+E)}else"name"===k||"{"===k||"&"===k?y=!0:"="===k&&o($)}if(A=f.pop())throw new Error('Unclosed section "'+A[1]+'" at '+I.pos);return u(c(p))}function c(t){for(var e,n,i=[],r=0,o=t.length;o>r;++r)e=t[r],e&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}function u(t){for(var e,n,i=[],r=i,o=[],s=0,a=t.length;a>s;++s)switch(e=t[s],e[0]){case"#":case"^":r.push(e),o.push(e),r=e[4]=[];break;case"/":n=o.pop(),n[5]=e[2],r=o.length>0?o[o.length-1][4]:i;break;default:r.push(e)}return i}function h(t){this.string=t,this.tail=t,this.pos=0}function d(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function f(){this.cache={}}var p=Object.prototype.toString,g=Array.isArray||function(t){return"[object Array]"===p.call(t)},v=RegExp.prototype.test,m=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},b=/\s*/,w=/\s+/,_=/\s*=/,x=/\s*\}/,C=/#|\^|\/|>|\{|&|=|!/;h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},h.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},d.prototype.push=function(t){return new d(t,this)},d.prototype.lookup=function(t){var n,i=this.cache;if(i.hasOwnProperty(t))n=i[t];else{for(var o,s,a=this,l=!1;a;){if(t.indexOf(".")>0)for(n=a.view,o=t.split("."),s=0;null!=n&&s<o.length;)s===o.length-1&&(l=r(n,o[s])),n=n[o[s++]];else n=a.view[t],l=r(a.view,t);if(l)break;a=a.parent}i[t]=n}return e(n)&&(n=n.call(this.view)),n},f.prototype.clearCache=function(){this.cache={}},f.prototype.parse=function(t,e){var n=this.cache,i=n[t];return null==i&&(i=n[t]=l(t,e)),i},f.prototype.render=function(t,e,n){var i=this.parse(t),r=e instanceof d?e:new d(e);return this.renderTokens(i,r,n,t)},f.prototype.renderTokens=function(t,e,n,i){for(var r,o,s,a="",l=0,c=t.length;c>l;++l)s=void 0,r=t[l],o=r[0],"#"===o?s=this.renderSection(r,e,n,i):"^"===o?s=this.renderInverted(r,e,n,i):">"===o?s=this.renderPartial(r,e,n,i):"&"===o?s=this.unescapedValue(r,e):"name"===o?s=this.escapedValue(r,e):"text"===o&&(s=this.rawValue(r)),void 0!==s&&(a+=s);return a},f.prototype.renderSection=function(t,n,i,r){function o(t){return s.render(t,n,i)}var s=this,a="",l=n.lookup(t[1]);if(l){if(g(l))for(var c=0,u=l.length;u>c;++c)a+=this.renderTokens(t[4],n.push(l[c]),i,r);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)a+=this.renderTokens(t[4],n.push(l),i,r);else if(e(l)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");l=l.call(n.view,r.slice(t[3],t[5]),o),null!=l&&(a+=l)}else a+=this.renderTokens(t[4],n,i,r);return a}},f.prototype.renderInverted=function(t,e,n,i){var r=e.lookup(t[1]);return!r||g(r)&&0===r.length?this.renderTokens(t[4],e,n,i):void 0},f.prototype.renderPartial=function(t,n,i){if(i){var r=e(i)?i(t[1]):i[t[1]];return null!=r?this.renderTokens(this.parse(r),n,i,r):void 0}},f.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);return null!=n?n:void 0},f.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);return null!=i?t.escape(i):void 0},f.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.1.3",t.tags=["{{","}}"];var E=new f;t.clearCache=function(){return E.clearCache()},t.parse=function(t,e){return E.parse(t,e)},t.render=function(t,e,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+n(t)+'" was given as the first argument for mustache#render(template, view, partials)');return E.render(t,e,i)},t.to_html=function(n,i,r,o){var s=t.render(n,i,r);return e(o)?void o(s):s},t.escape=a,t.Scanner=h,t.Context=d,t.Writer=f})},function(t,e,n){t.exports=n(41)},function(t,e){/*!
	    localForage -- Offline Storage, Improved
	    Version 1.2.4
	    https://mozilla.github.io/localForage
	    (c) 2013-2015 Mozilla, Apache License 2.0
	*/
!function(){var t,e,n,i;!function(){var r={},o={};t=function(t,e,n){r[t]={deps:e,callback:n}},i=n=e=function(t){function n(e){if("."!==e.charAt(0))return e;for(var n=e.split("/"),i=t.split("/").slice(0,-1),r=0,o=n.length;o>r;r++){var s=n[r];if(".."===s)i.pop();else{if("."===s)continue;i.push(s)}}return i.join("/")}if(i._eak_seen=r,o[t])return o[t];if(o[t]={},!r[t])throw new Error("Could not find module "+t);for(var s,a=r[t],l=a.deps,c=a.callback,u=[],h=0,d=l.length;d>h;h++)"exports"===l[h]?u.push(s={}):u.push(e(n(l[h])));var f=c.apply(this,u);return o[t]=s||f}}(),t("promise/all",["./utils","exports"],function(t,e){"use strict";function n(t){var e=this;if(!i(t))throw new TypeError("You must pass an array to all.");return new e(function(e,n){function i(t){return function(e){o(t,e)}}function o(t,n){a[t]=n,0===--l&&e(a)}var s,a=[],l=t.length;0===l&&e([]);for(var c=0;c<t.length;c++)s=t[c],s&&r(s.then)?s.then(i(c),n):o(c,s)})}var i=t.isArray,r=t.isFunction;e.all=n}),t("promise/asap",["exports"],function(t){"use strict";function e(){return function(){process.nextTick(r)}}function n(){var t=0,e=new l(r),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function i(){return function(){c.setTimeout(r,1)}}function r(){for(var t=0;t<u.length;t++){var e=u[t],n=e[0],i=e[1];n(i)}u=[]}function o(t,e){var n=u.push([t,e]);1===n&&s()}var s,a="undefined"!=typeof window?window:{},l=a.MutationObserver||a.WebKitMutationObserver,c="undefined"!=typeof global?global:void 0===this?window:this,u=[];s="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e():l?n():i(),t.asap=o}),t("promise/config",["exports"],function(t){"use strict";function e(t,e){return 2!==arguments.length?n[t]:void(n[t]=e)}var n={instrument:!1};t.config=n,t.configure=e}),t("promise/polyfill",["./promise","./utils","exports"],function(t,e,n){"use strict";function i(){var t;t="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var e="Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),o(e)}();e||(t.Promise=r)}var r=t.Promise,o=e.isFunction;n.polyfill=i}),t("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(t,e,n,i,r,o,s,a){"use strict";function l(t){if(!_(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof l))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],c(t,this)}function c(t,e){function n(t){p(e,t)}function i(t){v(e,t)}try{t(n,i)}catch(r){i(r)}}function u(t,e,n,i){var r,o,s,a,l=_(n);if(l)try{r=n(i),s=!0}catch(c){a=!0,o=c}else r=i,s=!0;f(e,r)||(l&&s?p(e,r):a?v(e,o):t===A?p(e,r):t===I&&v(e,r))}function h(t,e,n,i){var r=t._subscribers,o=r.length;r[o]=e,r[o+A]=n,r[o+I]=i}function d(t,e){for(var n,i,r=t._subscribers,o=t._detail,s=0;s<r.length;s+=3)n=r[s],i=r[s+e],u(e,n,i,o);t._subscribers=null}function f(t,e){var n,i=null;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(w(e)&&(i=e.then,_(i)))return i.call(e,function(i){return n?!0:(n=!0,void(e!==i?p(t,i):g(t,i)))},function(e){return n?!0:(n=!0,void v(t,e))}),!0}catch(r){return n?!0:(v(t,r),!0)}return!1}function p(t,e){t===e?g(t,e):f(t,e)||g(t,e)}function g(t,e){t._state===S&&(t._state=T,t._detail=e,b.async(m,t))}function v(t,e){t._state===S&&(t._state=T,t._detail=e,b.async(y,t))}function m(t){d(t,t._state=A)}function y(t){d(t,t._state=I)}var b=t.config,w=(t.configure,e.objectOrFunction),_=e.isFunction,x=(e.now,n.all),C=i.race,E=r.resolve,k=o.reject,$=s.asap;b.async=$;var S=void 0,T=0,A=1,I=2;l.prototype={constructor:l,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(t,e){var n=this,i=new this.constructor(function(){});if(this._state){var r=arguments;b.async(function(){u(n._state,i,r[n._state-1],n._detail)})}else h(this,i,t,e);return i},"catch":function(t){return this.then(null,t)}},l.all=x,l.race=C,l.resolve=E,l.reject=k,a.Promise=l}),t("promise/race",["./utils","exports"],function(t,e){"use strict";function n(t){var e=this;if(!i(t))throw new TypeError("You must pass an array to race.");return new e(function(e,n){for(var i,r=0;r<t.length;r++)i=t[r],i&&"function"==typeof i.then?i.then(e,n):e(i)})}var i=t.isArray;e.race=n}),t("promise/reject",["exports"],function(t){"use strict";function e(t){var e=this;return new e(function(e,n){n(t)})}t.reject=e}),t("promise/resolve",["exports"],function(t){"use strict";function e(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=this;return new e(function(e){e(t)})}t.resolve=e}),t("promise/utils",["exports"],function(t){"use strict";function e(t){return n(t)||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}var r=Date.now||function(){return(new Date).getTime()};t.objectOrFunction=e,t.isFunction=n,t.isArray=i,t.now=r}),e("promise/polyfill").polyfill()}(),function(){"use strict";function e(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(n){if("TypeError"!==n.name)throw n;for(var i=C.BlobBuilder||C.MSBlobBuilder||C.MozBlobBuilder||C.WebKitBlobBuilder,r=new i,o=0;o<t.length;o+=1)r.append(t[o]);return r.getBlob(e.type)}}function n(t,e){var n="";if(t&&(n=t.toString()),t&&("[object ArrayBuffer]"===t.toString()||t.buffer&&"[object ArrayBuffer]"===t.buffer.toString())){var i,r=c;t instanceof ArrayBuffer?(i=t,r+=h):(i=t.buffer,"[object Int8Array]"===n?r+=f:"[object Uint8Array]"===n?r+=p:"[object Uint8ClampedArray]"===n?r+=g:"[object Int16Array]"===n?r+=v:"[object Uint16Array]"===n?r+=y:"[object Int32Array]"===n?r+=m:"[object Uint32Array]"===n?r+=b:"[object Float32Array]"===n?r+=w:"[object Float64Array]"===n?r+=_:e(new Error("Failed to get type for BinaryArray"))),e(r+o(i))}else if("[object Blob]"===n){var s=new FileReader;s.onload=function(){var n=a+t.type+"~"+o(this.result);e(c+d+n)},s.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(l){console.error("Couldn't convert value into a JSON string: ",t),e(null,l)}}function i(t){if(t.substring(0,u)!==c)return JSON.parse(t);var n,i=t.substring(x),o=t.substring(u,x);if(o===d&&l.test(i)){var s=i.match(l);n=s[1],i=i.substring(s[0].length)}var a=r(i);switch(o){case h:return a;case d:return e([a],{type:n});case f:return new Int8Array(a);case p:return new Uint8Array(a);case g:return new Uint8ClampedArray(a);case v:return new Int16Array(a);case y:return new Uint16Array(a);case m:return new Int32Array(a);case b:return new Uint32Array(a);case w:return new Float32Array(a);case _:return new Float64Array(a);default:throw new Error("Unkown type: "+o)}}function r(t){var e,n,i,r,o,a=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(e=0;l>e;e+=4)n=s.indexOf(t[e]),i=s.indexOf(t[e+1]),r=s.indexOf(t[e+2]),o=s.indexOf(t[e+3]),h[c++]=n<<2|i>>4,h[c++]=(15&i)<<4|r>>2,h[c++]=(3&r)<<6|63&o;return u}function o(t){var e,n=new Uint8Array(t),i="";for(e=0;e<n.length;e+=3)i+=s[n[e]>>2],i+=s[(3&n[e])<<4|n[e+1]>>4],i+=s[(15&n[e+1])<<2|n[e+2]>>6],i+=s[63&n[e+2]];return n.length%3===2?i=i.substring(0,i.length-1)+"=":n.length%3===1&&(i=i.substring(0,i.length-2)+"=="),i}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="~~local_forage_type~",l=/^~~local_forage_type~([^~]+)~/,c="__lfsc__:",u=c.length,h="arbf",d="blob",f="si08",p="ui08",g="uic8",v="si16",m="si32",y="ur16",b="ui32",w="fl32",_="fl64",x=u+h.length,C=this,E={serialize:n,deserialize:i,stringToBuffer:r,bufferToString:o};"undefined"!=typeof t&&t.exports&&"undefined"!=typeof require?t.exports=E:"function"==typeof define&&define.amd?define("localforageSerializer",function(){return E}):this.localforageSerializer=E}.call(window),function(){"use strict";function e(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(n){if("TypeError"!==n.name)throw n;for(var i=window.BlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder||window.WebKitBlobBuilder,r=new i,o=0;o<t.length;o+=1)r.append(t[o]);return r.getBlob(e.type)}}function n(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),r=0;e>r;r++)i[r]=t.charCodeAt(r);return n}function i(t){return new b(function(e,n){var i=new XMLHttpRequest;i.open("GET",t),i.withCredentials=!0,i.responseType="arraybuffer",i.onreadystatechange=function(){return 4===i.readyState?200===i.status?e({response:i.response,type:i.getResponseHeader("Content-Type")}):void n({status:i.status,response:i.response}):void 0},i.send()})}function r(t){return new b(function(n,r){var o=e([""],{type:"image/png"}),s=t.transaction([x],"readwrite");s.objectStore(x).put(o,"key"),s.oncomplete=function(){var e=t.transaction([x],"readwrite"),o=e.objectStore(x).get("key");o.onerror=r,o.onsuccess=function(t){var e=t.target.result,r=URL.createObjectURL(e);i(r).then(function(t){n(!(!t||"image/png"!==t.type))},function(){n(!1)}).then(function(){URL.revokeObjectURL(r)})}}})["catch"](function(){return!1})}function o(t){return"boolean"==typeof _?b.resolve(_):r(t).then(function(t){return _=t})}function s(t){return new b(function(e,n){var i=new FileReader;i.onerror=n,i.onloadend=function(n){var i=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:i,type:t.type})},i.readAsBinaryString(t)})}function a(t){var i=n(atob(t.data));return e([i],{type:t.type})}function l(t){return t&&t.__local_forage_encoded_blob}function c(t){var e=this,n={db:null};if(t)for(var i in t)n[i]=t[i];return new b(function(t,i){var r=w.open(n.name,n.version);r.onerror=function(){i(r.error)},r.onupgradeneeded=function(t){r.result.createObjectStore(n.storeName),t.oldVersion<=1&&r.result.createObjectStore(x)},r.onsuccess=function(){n.db=r.result,e._dbInfo=n,t()}})}function u(t,e){var n=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=new b(function(e,i){n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),s=o.get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),l(t)&&(t=a(t)),e(t)},s.onerror=function(){i(s.error)}})["catch"](i)});return y(i,e),i}function h(t,e){var n=this,i=new b(function(e,i){n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),s=o.openCursor(),c=1;s.onsuccess=function(){var n=s.result;if(n){var i=n.value;l(i)&&(i=a(i));var r=t(i,n.key,c++);void 0!==r?e(r):n["continue"]()}else e()},s.onerror=function(){i(s.error)}})["catch"](i)});return y(i,e),i}function d(t,e,n){var i=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new b(function(n,r){var a;i.ready().then(function(){return a=i._dbInfo,o(a.db)}).then(function(t){return!t&&e instanceof Blob?s(e):e}).then(function(e){var i=a.db.transaction(a.storeName,"readwrite"),o=i.objectStore(a.storeName);null===e&&(e=void 0);var s=o.put(e,t);i.oncomplete=function(){void 0===e&&(e=null),n(e)},i.onabort=i.onerror=function(){var t=s.error?s.error:s.transaction.error;r(t)}})["catch"](r)});return y(r,n),r}function f(t,e){var n=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=new b(function(e,i){n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readwrite"),s=o.objectStore(r.storeName),a=s["delete"](t);o.oncomplete=function(){e()},o.onerror=function(){i(a.error)},o.onabort=function(){var t=a.error?a.error:a.transaction.error;i(t)}})["catch"](i)});return y(i,e),i}function p(t){var e=this,n=new b(function(t,n){e.ready().then(function(){var i=e._dbInfo,r=i.db.transaction(i.storeName,"readwrite"),o=r.objectStore(i.storeName),s=o.clear();r.oncomplete=function(){t()},r.onabort=r.onerror=function(){var t=s.error?s.error:s.transaction.error;n(t)}})["catch"](n)});return y(n,t),n}function g(t){var e=this,n=new b(function(t,n){e.ready().then(function(){var i=e._dbInfo,r=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),o=r.count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}})["catch"](n)});return y(n,t),n}function v(t,e){var n=this,i=new b(function(e,i){return 0>t?void e(null):void n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),s=!1,a=o.openCursor();a.onsuccess=function(){var n=a.result;return n?void(0===t?e(n.key):s?e(n.key):(s=!0,n.advance(t))):void e(null)},a.onerror=function(){i(a.error)}})["catch"](i)});return y(i,e),i}function m(t){var e=this,n=new b(function(t,n){e.ready().then(function(){var i=e._dbInfo,r=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),o=r.openCursor(),s=[];o.onsuccess=function(){var e=o.result;return e?(s.push(e.key),void e["continue"]()):void t(s)},o.onerror=function(){n(o.error)}})["catch"](n)});return y(n,t),n}function y(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}var b="undefined"!=typeof t&&t.exports&&"undefined"!=typeof require?require("promise"):this.Promise,w=w||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(w){var _,x="local-forage-detect-blob-support",C={_driver:"asyncStorage",_initStorage:c,iterate:h,getItem:u,setItem:d,removeItem:f,clear:p,length:g,key:v,keys:m};"undefined"!=typeof t&&t.exports&&"undefined"!=typeof require?t.exports=C:"function"==typeof define&&define.amd?define("asyncStorage",function(){return C}):this.asyncStorage=C}}.call(window),function(){"use strict";function e(t){var e=this,n={};if(t)for(var i in t)n[i]=t[i];n.keyPrefix=n.name+"/",e._dbInfo=n;var r=new h(function(t){m===v.DEFINE?require(["localforageSerializer"],t):t(m===v.EXPORT?require("./../utils/serializer"):d.localforageSerializer)});return r.then(function(t){return f=t,h.resolve()})}function n(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=p.length-1;n>=0;n--){var i=p.key(n);0===i.indexOf(t)&&p.removeItem(i)}});return u(n,t),n}function i(t,e){var n=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=n.ready().then(function(){var e=n._dbInfo,i=p.getItem(e.keyPrefix+t);return i&&(i=f.deserialize(i)),i});return u(i,e),i}function r(t,e){var n=this,i=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,i=e.length,r=p.length,o=0;r>o;o++){var s=p.key(o),a=p.getItem(s);if(a&&(a=f.deserialize(a)),a=t(a,s.substring(i),o+1),void 0!==a)return a}});return u(i,e),i}function o(t,e){var n=this,i=n.ready().then(function(){var e,i=n._dbInfo;try{e=p.key(t)}catch(r){e=null}return e&&(e=e.substring(i.keyPrefix.length)),e});return u(i,e),i}function s(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=p.length,i=[],r=0;n>r;r++)0===p.key(r).indexOf(t.keyPrefix)&&i.push(p.key(r).substring(t.keyPrefix.length));return i});return u(n,t),n}function a(t){var e=this,n=e.keys().then(function(t){return t.length});return u(n,t),n}function l(t,e){var n=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=n.ready().then(function(){var e=n._dbInfo;p.removeItem(e.keyPrefix+t)});return u(i,e),i}function c(t,e,n){var i=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=i.ready().then(function(){void 0===e&&(e=null);var n=e;return new h(function(r,o){f.serialize(e,function(e,s){if(s)o(s);else try{var a=i._dbInfo;p.setItem(a.keyPrefix+t,e),r(n)}catch(l){"QuotaExceededError"!==l.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==l.name||o(l),o(l)}})})});return u(r,n),r}function u(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}var h="undefined"!=typeof t&&t.exports&&"undefined"!=typeof require?require("promise"):this.Promise,d=this,f=null,p=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;p=this.localStorage}catch(g){return}var v={DEFINE:1,EXPORT:2,WINDOW:3},m=v.WINDOW;"undefined"!=typeof t&&t.exports&&"undefined"!=typeof require?m=v.EXPORT:"function"==typeof define&&define.amd&&(m=v.DEFINE);var y={_driver:"localStorageWrapper",_initStorage:e,iterate:r,getItem:i,setItem:c,removeItem:l,clear:n,length:a,key:o,keys:s};m===v.EXPORT?t.exports=y:m===v.DEFINE?define("localStorageWrapper",function(){return y}):this.localStorageWrapper=y}.call(window),function(){"use strict";function e(t){var e=this,n={db:null};if(t)for(var i in t)n[i]="string"!=typeof t[i]?t[i].toString():t[i];var r=new h(function(t){v===g.DEFINE?require(["localforageSerializer"],t):t(v===g.EXPORT?require("./../utils/serializer"):d.localforageSerializer)}),o=new h(function(i,r){try{n.db=p(n.name,String(n.version),n.description,n.size)}catch(o){return e.setDriver(e.LOCALSTORAGE).then(function(){return e._initStorage(t)}).then(i)["catch"](r)}n.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){e._dbInfo=n,i()},function(t,e){r(e)})})});return r.then(function(t){return f=t,o})}function n(t,e){var n=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=new h(function(e,i){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=f.deserialize(i)),e(i)},function(t,e){i(e)})})})["catch"](i)});return u(i,e),i}function i(t,e){var n=this,i=new h(function(e,i){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT * FROM "+r.storeName,[],function(n,i){for(var r=i.rows,o=r.length,s=0;o>s;s++){var a=r.item(s),l=a.value;if(l&&(l=f.deserialize(l)),l=t(l,a.key,s+1),void 0!==l)return void e(l)}e()},function(t,e){i(e)})})})["catch"](i)});return u(i,e),i}function r(t,e,n){var i=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new h(function(n,r){i.ready().then(function(){void 0===e&&(e=null);var o=e;f.serialize(e,function(e,s){if(s)r(s);else{var a=i._dbInfo;a.db.transaction(function(i){i.executeSql("INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[t,e],function(){n(o)},function(t,e){r(e)})},function(t){t.code===t.QUOTA_ERR&&r(t)})}})})["catch"](r)});return u(r,n),r}function o(t,e){var n=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=new h(function(e,i){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("DELETE FROM "+r.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){i(e)})})})["catch"](i)});return u(i,e),i}function s(t){var e=this,n=new h(function(t,n){e.ready().then(function(){var i=e._dbInfo;i.db.transaction(function(e){e.executeSql("DELETE FROM "+i.storeName,[],function(){t()},function(t,e){n(e)})})})["catch"](n)});return u(n,t),n}function a(t){var e=this,n=new h(function(t,n){e.ready().then(function(){var i=e._dbInfo;i.db.transaction(function(e){e.executeSql("SELECT COUNT(key) as c FROM "+i.storeName,[],function(e,n){var i=n.rows.item(0).c;t(i)},function(t,e){n(e)})})})["catch"](n)});return u(n,t),n}function l(t,e){var n=this,i=new h(function(e,i){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var i=n.rows.length?n.rows.item(0).key:null;e(i)},function(t,e){i(e)})})})["catch"](i)});return u(i,e),i}function c(t){var e=this,n=new h(function(t,n){e.ready().then(function(){var i=e._dbInfo;i.db.transaction(function(e){e.executeSql("SELECT key FROM "+i.storeName,[],function(e,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);t(i)},function(t,e){n(e)})})})["catch"](n)});return u(n,t),n}function u(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}var h="undefined"!=typeof t&&t.exports&&"undefined"!=typeof require?require("promise"):this.Promise,d=this,f=null,p=this.openDatabase;if(p){var g={DEFINE:1,EXPORT:2,WINDOW:3},v=g.WINDOW;"undefined"!=typeof t&&t.exports&&"undefined"!=typeof require?v=g.EXPORT:"function"==typeof define&&define.amd&&(v=g.DEFINE);var m={_driver:"webSQLStorage",_initStorage:e,iterate:i,getItem:n,setItem:r,removeItem:o,clear:s,length:a,key:l,keys:c};v===g.DEFINE?define("webSQLStorage",function(){return m}):v===g.EXPORT?t.exports=m:this.webSQLStorage=m}}.call(window),function(){"use strict";function e(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function n(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(p(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}function i(t){for(var e in a)if(a.hasOwnProperty(e)&&a[e]===t)return!0;return!1}function r(t){this._config=n({},h,t),this._driverSet=null,this._ready=!1,this._dbInfo=null;for(var i=0;i<c.length;i++)e(this,c[i]);this.setDriver(this._config.driver)}var o="undefined"!=typeof t&&t.exports&&"undefined"!=typeof require?require("promise"):this.Promise,s={},a={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},l=[a.INDEXEDDB,a.WEBSQL,a.LOCALSTORAGE],c=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],u={DEFINE:1,EXPORT:2,WINDOW:3},h={description:"",driver:l.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},d=u.WINDOW;"undefined"!=typeof t&&t.exports&&"undefined"!=typeof require?d=u.EXPORT:"function"==typeof define&&define.amd&&(d=u.DEFINE);var f=function(t){var e=e||t.indexedDB||t.webkitIndexedDB||t.mozIndexedDB||t.OIndexedDB||t.msIndexedDB,n={};return n[a.WEBSQL]=!!t.openDatabase,n[a.INDEXEDDB]=!!function(){if("undefined"!=typeof t.openDatabase&&t.navigator&&t.navigator.userAgent&&/Safari/.test(t.navigator.userAgent)&&!/Chrome/.test(t.navigator.userAgent))return!1;try{return e&&"function"==typeof e.open&&"undefined"!=typeof t.IDBKeyRange}catch(n){return!1}}(),n[a.LOCALSTORAGE]=!!function(){try{return t.localStorage&&"setItem"in t.localStorage&&t.localStorage.setItem}catch(e){return!1}}(),n}(this),p=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},g=this;r.prototype.INDEXEDDB=a.INDEXEDDB,r.prototype.LOCALSTORAGE=a.LOCALSTORAGE,r.prototype.WEBSQL=a.WEBSQL,r.prototype.config=function(t){if("object"==typeof t){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t)"storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),this._config[e]=t[e];return"driver"in t&&t.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof t?this._config[t]:this._config},r.prototype.defineDriver=function(t,e,n){var r=new o(function(e,n){try{var r=t._driver,a=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),l=new Error("Custom driver name already in use: "+t._driver);if(!t._driver)return void n(a);if(i(t._driver))return void n(l);for(var u=c.concat("_initStorage"),h=0;h<u.length;h++){var d=u[h];if(!d||!t[d]||"function"!=typeof t[d])return void n(a)}var p=o.resolve(!0);"_support"in t&&(p=t._support&&"function"==typeof t._support?t._support():o.resolve(!!t._support)),p.then(function(n){f[r]=n,s[r]=t,e()},n)}catch(g){n(g)}});return r.then(e,n),r},r.prototype.driver=function(){return this._driver||null},r.prototype.ready=function(t){var e=this,n=new o(function(t,n){e._driverSet.then(function(){null===e._ready&&(e._ready=e._initStorage(e._config)),e._ready.then(t,n)})["catch"](n)});return n.then(t,t),n},r.prototype.setDriver=function(t,e,n){function r(){a._config.driver=a.driver()}var a=this;return"string"==typeof t&&(t=[t]),this._driverSet=new o(function(e,n){var r=a._getFirstSupportedDriver(t),l=new Error("No available storage method found.");if(!r)return a._driverSet=o.reject(l),void n(l);if(a._dbInfo=null,a._ready=null,i(r)){var c=new o(function(t){if(d===u.DEFINE)require([r],t);else if(d===u.EXPORT)switch(r){case a.INDEXEDDB:t(require("./drivers/indexeddb"));break;case a.LOCALSTORAGE:t(require("./drivers/localstorage"));break;case a.WEBSQL:t(require("./drivers/websql"))}else t(g[r])});c.then(function(t){a._extend(t),e()})}else s[r]?(a._extend(s[r]),e()):(a._driverSet=o.reject(l),n(l))}),this._driverSet.then(r,r),this._driverSet.then(e,n),this._driverSet},r.prototype.supports=function(t){return!!f[t]},r.prototype._extend=function(t){n(this,t)},r.prototype._getFirstSupportedDriver=function(t){if(t&&p(t))for(var e=0;e<t.length;e++){var n=t[e];if(this.supports(n))return n}return null},r.prototype.createInstance=function(t){return new r(t)};var v=new r;d===u.DEFINE?define("localforage",function(){return v}):d===u.EXPORT?t.exports=v:this.localforage=v}.call(window),t.exports=localforage},function(module,exports,__webpack_require__){var localforage=__webpack_require__(40);__webpack_require__(43),__webpack_require__(44);var params={storageKey:"basket"},storage={load:function(t){$.getJSON("/basket/products").done(function(e){this.set(e,t)}.bind(this))},get:function(t){localforage.getItem(params.storageKey,t)},set:function(t,e){localforage.setItem(params.storageKey,t,e)}},widget=function(){this.container=$("#basketQuantity"),this.container.length&&this.watch()};widget.prototype={watch:function(){$(window).on("basket-recount",function(t,e){this.recount(e)}.bind(this))},recount:function(t){return t?void this.render(t):void storage.get(function(t,e){var n=e?Object.keys(e).length:0;this.render(n)}.bind(this))},render:function(t){this.container.removeClass("disabled"),this.container.text(t),t||this.container.addClass("disabled")}};var buttons=function(){this.watch(),this.bind()};buttons.prototype={watch:function(){$(window).on("basket-buttons-init",this.checked.bind(this))},checked:function(){var t=$(".basket-button");t.length&&storage.get(function(e,n){n&&t.each(function(){var t=$(this).data("product-id");n[t]&&$(this).addClass("inbasket")})}.bind(this))},bind:function(){$(document).on("click",".js-btn-tocart[href]",function(t){t.preventDefault(),this.add(t.currentTarget)}.bind(this)),$(document).on("click",'input[type="radio"].js-btn-tocart',function(t){this.add(t.currentTarget)}.bind(this))},add:function(button){button=$(button),$.ajaxPreloader({url:button.data("href")||button.attr("href"),element:button}).done(function(response){if(response.success){storage.set(response.products,function(){$(window).trigger("basket-recount",Object.keys(response.products).length),this.checked()}.bind(this));var prices_block=$("#product-prices");prices_block.length&&prices_block.find("input:radio").attr("disabled",!0),"callback"in response&&eval(response.callback),"undefined"!=typeof response.content&&button.hasClass("js-btn-tocart-popup")&&this.window(response.content)}}.bind(this))},window:function(t){$.colorbox({width:950,transition:"none",fixed:!0,opacity:.75,maxHeight:"95%",className:"popupbox",html:t,onComplete:function(){$(".popup-close").on("click",function(t){t.preventDefault(),$.colorbox.close()}),$("#popupbox_addedtocart").bind("DOMSubtreeModified",function(){$.colorbox.resize(),$(this).find("img").load(function(){$.colorbox.resize()})}),$(window).trigger("basket-buttons-init")},onOpen:function(){$(window).trigger("noscroll-enable")},onClosed:function(){$(window).trigger("noscroll-disable")}})}},$(document).ready(function(){storage.load(function(){new widget,new buttons})})},function(t,e,n){var i=n(1);i.ajaxPreloader=function(t){var e=t.element||i("body"),n=t.className||"loading";return e.addClass(n),i.ajax(t).done(function(){e.removeClass(n)}).fail(function(){e.removeClass(n)})}},function(t,e,n){t.exports=n(45)},function(t,e){/*!
		Colorbox 1.6.4
		license: MIT
		http://www.jacklmoore.com/colorbox
	*/
!function(t,e,n){function i(n,i,r){var o=e.createElement(n);return i&&(o.id=Z+i),r&&(o.style.cssText=r),t(o)}function r(){return n.innerHeight?n.innerHeight:t(n).height()}function o(e,n){n!==Object(n)&&(n={}),this.cache={},this.el=e,this.value=function(e){var i;return void 0===this.cache[e]&&(i=t(this.el).attr("data-cbox-"+e),void 0!==i?this.cache[e]=i:void 0!==n[e]?this.cache[e]=n[e]:void 0!==J[e]&&(this.cache[e]=J[e])),this.cache[e]},this.get=function(e){var n=this.value(e);return t.isFunction(n)?n.call(this.el,this):n}}function s(t){var e=$.length,n=(V+t)%e;return 0>n?e+n:n}function a(t,e){return Math.round((/%/.test(t)?("x"===e?S.width():r())/100:1)*parseInt(t,10))}function l(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function c(t,e){return t.get("retinaUrl")&&n.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function u(t){"contains"in b[0]&&!b[0].contains(t.target)&&t.target!==y[0]&&(t.stopPropagation(),b.focus())}function h(t){h.str!==t&&(b.add(y).removeClass(h.str).addClass(t),h.str=t)}function d(e){V=0,e&&e!==!1&&"nofollow"!==e?($=t("."+tt).filter(function(){var n=t.data(this,X),i=new o(this,n);return i.get("rel")===e}),V=$.index(z.el),-1===V&&($=$.add(z.el),V=$.length-1)):$=t(z.el)}function f(n){t(e).trigger(n),at.triggerHandler(n)}function p(n){var r;if(!K){if(r=t(n).data(X),z=new o(n,r),d(z.get("rel")),!H){H=W=!0,h(z.get("className")),b.css({visibility:"hidden",display:"block",opacity:""}),T=i(lt,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),_.css({width:"",height:""}).append(T),N=x.height()+k.height()+_.outerHeight(!0)-_.height(),P=C.width()+E.width()+_.outerWidth(!0)-_.width(),F=T.outerHeight(!0),U=T.outerWidth(!0);var s=a(z.get("initialWidth"),"x"),l=a(z.get("initialHeight"),"y"),c=z.get("maxWidth"),p=z.get("maxHeight");z.w=Math.max((c!==!1?Math.min(s,a(c,"x")):s)-U-P,0),z.h=Math.max((p!==!1?Math.min(l,a(p,"y")):l)-F-N,0),T.css({width:"",height:z.h}),Q.position(),f(et),z.get("onOpen"),D.add(O).hide(),b.focus(),z.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",u,!0),at.one(ot,function(){e.removeEventListener("focus",u,!0)})),z.get("returnFocus")&&at.one(ot,function(){t(z.el).focus()})}var g=parseFloat(z.get("opacity"));y.css({opacity:g===g?g:"",cursor:z.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),z.get("closeButton")?L.html(z.get("close")).appendTo(_):L.appendTo("<div/>"),m()}}function g(){b||(G=!1,S=t(n),b=i(lt).attr({id:X,"class":t.support.opacity===!1?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),y=i(lt,"Overlay").hide(),I=t([i(lt,"LoadingOverlay")[0],i(lt,"LoadingGraphic")[0]]),w=i(lt,"Wrapper"),_=i(lt,"Content").append(O=i(lt,"Title"),j=i(lt,"Current"),B=t('<button type="button"/>').attr({id:Z+"Previous"}),R=t('<button type="button"/>').attr({id:Z+"Next"}),M=t('<button type="button"/>').attr({id:Z+"Slideshow"}),I),L=t('<button type="button"/>').attr({id:Z+"Close"}),w.append(i(lt).append(i(lt,"TopLeft"),x=i(lt,"TopCenter"),i(lt,"TopRight")),i(lt,!1,"clear:left").append(C=i(lt,"MiddleLeft"),_,E=i(lt,"MiddleRight")),i(lt,!1,"clear:left").append(i(lt,"BottomLeft"),k=i(lt,"BottomCenter"),i(lt,"BottomRight"))).find("div div").css({"float":"left"}),A=i(lt,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),D=R.add(B).add(j).add(M)),e.body&&!b.parent().length&&t(e.body).append(y,b.append(w,A))}function v(){function n(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),p(this))}return b?(G||(G=!0,R.click(function(){Q.next()}),B.click(function(){Q.prev()}),L.click(function(){Q.close()}),y.click(function(){z.get("overlayClose")&&Q.close()}),t(e).bind("keydown."+Z,function(t){var e=t.keyCode;H&&z.get("escKey")&&27===e&&(t.preventDefault(),Q.close()),H&&z.get("arrowKey")&&$[1]&&!t.altKey&&(37===e?(t.preventDefault(),B.click()):39===e&&(t.preventDefault(),R.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+Z,"."+tt,n):t("."+tt).live("click."+Z,n)),!0):!1}function m(){var e,r,o,s=Q.prep,u=++ct;if(W=!0,q=!1,f(st),f(nt),z.get("onLoad"),z.h=z.get("height")?a(z.get("height"),"y")-F-N:z.get("innerHeight")&&a(z.get("innerHeight"),"y"),z.w=z.get("width")?a(z.get("width"),"x")-U-P:z.get("innerWidth")&&a(z.get("innerWidth"),"x"),z.mw=z.w,z.mh=z.h,z.get("maxWidth")&&(z.mw=a(z.get("maxWidth"),"x")-U-P,z.mw=z.w&&z.w<z.mw?z.w:z.mw),z.get("maxHeight")&&(z.mh=a(z.get("maxHeight"),"y")-F-N,z.mh=z.h&&z.h<z.mh?z.h:z.mh),e=z.get("href"),Y=setTimeout(function(){I.show()},100),z.get("inline")){var h=t(e).eq(0);o=t("<div>").hide().insertBefore(h),at.one(st,function(){o.replaceWith(h)}),s(h)}else z.get("iframe")?s(" "):z.get("html")?s(z.get("html")):l(z,e)?(e=c(z,e),q=z.get("createImg"),t(q).addClass(Z+"Photo").bind("error."+Z,function(){s(i(lt,"Error").html(z.get("imgError")))}).one("load",function(){u===ct&&setTimeout(function(){var e;z.get("retinaImage")&&n.devicePixelRatio>1&&(q.height=q.height/n.devicePixelRatio,q.width=q.width/n.devicePixelRatio),z.get("scalePhotos")&&(r=function(){q.height-=q.height*e,q.width-=q.width*e},z.mw&&q.width>z.mw&&(e=(q.width-z.mw)/q.width,r()),z.mh&&q.height>z.mh&&(e=(q.height-z.mh)/q.height,r())),z.h&&(q.style.marginTop=Math.max(z.mh-q.height,0)/2+"px"),$[1]&&(z.get("loop")||$[V+1])&&(q.style.cursor="pointer",t(q).bind("click."+Z,function(){Q.next()})),q.style.width=q.width+"px",q.style.height=q.height+"px",s(q)},1)}),q.src=e):e&&A.load(e,z.get("data"),function(e,n){u===ct&&s("error"===n?i(lt,"Error").html(z.get("xhrError")):t(this).contents())})}var y,b,w,_,x,C,E,k,$,S,T,A,I,O,j,M,R,B,L,D,z,N,P,F,U,V,q,H,W,K,Y,Q,G,J={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title},createImg:function(){var e=new Image,n=t(this).data("cbox-img-attrs");return"object"==typeof n&&t.each(n,function(t,n){e[t]=n}),e},createIframe:function(){var n=e.createElement("iframe"),i=t(this).data("cbox-iframe-attrs");return"object"==typeof i&&t.each(i,function(t,e){n[t]=e}),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),n.name=(new Date).getTime(),n.allowFullscreen=!0,n}},X="colorbox",Z="cbox",tt=Z+"Element",et=Z+"_open",nt=Z+"_load",it=Z+"_complete",rt=Z+"_cleanup",ot=Z+"_closed",st=Z+"_purge",at=t("<a/>"),lt="div",ct=0,ut={},ht=function(){function t(){clearTimeout(s)}function e(){(z.get("loop")||$[V+1])&&(t(),s=setTimeout(Q.next,z.get("slideshowSpeed")))}function n(){M.html(z.get("slideshowStop")).unbind(l).one(l,i),at.bind(it,e).bind(nt,t),b.removeClass(a+"off").addClass(a+"on")}function i(){t(),at.unbind(it,e).unbind(nt,t),M.html(z.get("slideshowStart")).unbind(l).one(l,function(){Q.next(),n()}),b.removeClass(a+"on").addClass(a+"off")}function r(){o=!1,M.hide(),t(),at.unbind(it,e).unbind(nt,t),b.removeClass(a+"off "+a+"on")}var o,s,a=Z+"Slideshow_",l="click."+Z;return function(){o?z.get("slideshow")||(at.unbind(rt,r),r()):z.get("slideshow")&&$[1]&&(o=!0,at.one(rt,r),z.get("slideshowAuto")?n():i(),M.show())}}();t[X]||(t(g),Q=t.fn[X]=t[X]=function(e,n){var i,r=this;return e=e||{},t.isFunction(r)&&(r=t("<a/>"),e.open=!0),r[0]?(g(),v()&&(n&&(e.onComplete=n),r.each(function(){var n=t.data(this,X)||{};t.data(this,X,t.extend(n,e))}).addClass(tt),i=new o(r[0],e),i.get("open")&&p(r[0])),r):r},Q.position=function(e,n){function i(){x[0].style.width=k[0].style.width=_[0].style.width=parseInt(b[0].style.width,10)-P+"px",_[0].style.height=C[0].style.height=E[0].style.height=parseInt(b[0].style.height,10)-N+"px"}var o,s,l,c=0,u=0,h=b.offset();if(S.unbind("resize."+Z),b.css({top:-9e4,left:-9e4}),s=S.scrollTop(),l=S.scrollLeft(),z.get("fixed")?(h.top-=s,h.left-=l,b.css({position:"fixed"})):(c=s,u=l,b.css({position:"absolute"})),u+=z.get("right")!==!1?Math.max(S.width()-z.w-U-P-a(z.get("right"),"x"),0):z.get("left")!==!1?a(z.get("left"),"x"):Math.round(Math.max(S.width()-z.w-U-P,0)/2),c+=z.get("bottom")!==!1?Math.max(r()-z.h-F-N-a(z.get("bottom"),"y"),0):z.get("top")!==!1?a(z.get("top"),"y"):Math.round(Math.max(r()-z.h-F-N,0)/2),b.css({top:h.top,left:h.left,visibility:"visible"}),w[0].style.width=w[0].style.height="9999px",o={width:z.w+U+P,height:z.h+F+N,top:c,left:u},e){var d=0;t.each(o,function(t){return o[t]!==ut[t]?void(d=e):void 0}),e=d}ut=o,e||b.css(o),b.dequeue().animate(o,{duration:e||0,complete:function(){i(),W=!1,w[0].style.width=z.w+U+P+"px",w[0].style.height=z.h+F+N+"px",z.get("reposition")&&setTimeout(function(){S.bind("resize."+Z,Q.position)},1),t.isFunction(n)&&n()},step:i})},Q.resize=function(t){var e;H&&(t=t||{},t.width&&(z.w=a(t.width,"x")-U-P),t.innerWidth&&(z.w=a(t.innerWidth,"x")),T.css({width:z.w}),t.height&&(z.h=a(t.height,"y")-F-N),t.innerHeight&&(z.h=a(t.innerHeight,"y")),t.innerHeight||t.height||(e=T.scrollTop(),T.css({height:"auto"}),z.h=T.height()),T.css({height:z.h}),e&&T.scrollTop(e),Q.position("none"===z.get("transition")?0:z.get("speed")))},Q.prep=function(n){function r(){return z.w=z.w||T.width(),z.w=z.mw&&z.mw<z.w?z.mw:z.w,z.w}function a(){return z.h=z.h||T.height(),z.h=z.mh&&z.mh<z.h?z.mh:z.h,z.h}if(H){var u,d="none"===z.get("transition")?0:z.get("speed");T.remove(),T=i(lt,"LoadedContent").append(n),T.hide().appendTo(A.show()).css({width:r(),overflow:z.get("scrolling")?"auto":"hidden"}).css({height:a()}).prependTo(_),A.hide(),t(q).css({"float":"none"}),h(z.get("className")),u=function(){function n(){t.support.opacity===!1&&b[0].style.removeAttribute("filter")}var i,r,a=$.length;H&&(r=function(){clearTimeout(Y),I.hide(),f(it),z.get("onComplete")},O.html(z.get("title")).show(),T.show(),a>1?("string"==typeof z.get("current")&&j.html(z.get("current").replace("{current}",V+1).replace("{total}",a)).show(),R[z.get("loop")||a-1>V?"show":"hide"]().html(z.get("next")),B[z.get("loop")||V?"show":"hide"]().html(z.get("previous")),ht(),z.get("preloading")&&t.each([s(-1),s(1)],function(){var n,i=$[this],r=new o(i,t.data(i,X)),s=r.get("href");s&&l(r,s)&&(s=c(r,s),n=e.createElement("img"),n.src=s)})):D.hide(),z.get("iframe")?(i=z.get("createIframe"),z.get("scrolling")||(i.scrolling="no"),t(i).attr({src:z.get("href"),"class":Z+"Iframe"}).one("load",r).appendTo(T),at.one(st,function(){i.src="//about:blank"}),z.get("fastIframe")&&t(i).trigger("load")):r(),"fade"===z.get("transition")?b.fadeTo(d,1,n):n())},"fade"===z.get("transition")?b.fadeTo(d,0,function(){Q.position(0,u)}):Q.position(d,u)}},Q.next=function(){!W&&$[1]&&(z.get("loop")||$[V+1])&&(V=s(1),p($[V]))},Q.prev=function(){!W&&$[1]&&(z.get("loop")||V)&&(V=s(-1),p($[V]))},Q.close=function(){H&&!K&&(K=!0,H=!1,f(rt),z.get("onCleanup"),S.unbind("."+Z),y.fadeTo(z.get("fadeOut")||0,0),b.stop().fadeTo(z.get("fadeOut")||0,0,function(){b.hide(),y.hide(),f(st),T.remove(),setTimeout(function(){K=!1,f(ot),z.get("onClosed")},1)}))},Q.remove=function(){b&&(b.stop(),t[X].close(),b.stop(!1,!0).remove(),y.remove(),K=!1,b=null,t("."+tt).removeData(X).removeClass(tt),t(e).unbind("click."+Z).unbind("keydown."+Z))},Q.element=function(){return t(z.el)},Q.settings=J)}(jQuery,document,window)},function(t,e,n){var i=(n(40),n(37)),r=function(){this.container=$("#current-city"),this.currentCityId=getCookie("e96_geoposition"),this.data={},this.init()};r.prototype={init:function(){this.container.length&&(this.data=$(this.container).data("city"),this.render())},render:function(){i.renderTemplate("city-widget",assetsPath+"/templates/city-widget.mst",{name:this.data.title,hint:this.isShowHint()}).done(function(t){this.container.html(t),this.bindCloseHint(),this.bindСhangeСity(),$(window).trigger("city-link-loaded")}.bind(this))},isShowHint:function(){return void 0==getCookie("e96_hint_city_hide")},hideHint:function(){$(".current-city .hint_city").remove(),setCookie("e96_hint_city_hide","1",{expires:31536e3,path:"/"})},bindCloseHint:function(){var t=this.container.find(".hint_button_close");t.length&&t.on("click",function(){this.hideHint()}.bind(this))},"bindСhangeСity":function(){var t=this.container.find(".hint_change_city");t.length&&t.on("click",function(){setTimeout(function(){this.hideHint()}.bind(this),500)}.bind(this))}},new r},function(t,e,n){function i(){s.getItem("products-seen",function(t,e){$.each(e,function(t,n){e[t]=void 0}),s.setItem("products-seen",e)})}function r(t){$("#popupbox_city .searchbar input:text").val(""),$("#popupbox_city .region-list li.active").removeClass("active"),$("#popupbox_city .city-list li.showed").removeClass("showed"),$("#popupbox_city .city-list>ul>li.active").removeClass("active"),$("#popupbox_city").removeClass("searchmode"),$("#popupbox_city .city-list").removeClass("notfound"),$("#popupbox_city .city-list a span").each(function(){$(this).html($(this).text())}),$("#popupbox_city .region-list>ul>li").eq(t).addClass("active"),$("#popupbox_city .city-list>ul>li").eq(t).addClass("active");var e=[];$("#popupbox_city .city-list>ul>li.active a.store").each(function(){e.push($("<a>").attr("href",$(this).attr("href")).text($(this).find("span").first().text()))}),e.length>0?($(".stores .list-stores").html(e),$(".stores .gray").show()):($(".stores .gray").hide(),$(".stores .list-stores").html(""))}function o(){if($("#popupbox_city .city-list li.showed").removeClass("showed"),$("#popupbox_city .city-list>ul>li.active").removeClass("active"),$("#popupbox_city .city-list").removeClass("notfound"),$text=$("#popupbox_city .searchbar input:text").val(),$text.length)$("#popupbox_city").addClass("searchmode"),$("#popupbox_city .city-list a span").each(function(){$(this).html($(this).text())}).filter(function(){var t=new RegExp("(^| )"+$text,"ig"),e=$(this).text();return e.length>0&&t.test(e.toUpperCase())}).each(function(){var t=new RegExp("(^| )("+$text+")","ig");$(this).parents("li").parents("li").addClass("showed"),$(this).parents("li").addClass("showed"),$(this).html($(this).text().replace(t,"$1<b>$2</b>"))}),$("#popupbox_city .city-list .showed").size()||($("#popupbox_city .city-list .hide").removeClass("hide"),$("#popupbox_city .city-list").addClass("notfound"));else{var t=0;$("#popupbox_city .region-list li.active").size()&&(t=$("#popupbox_city .region-list li").index($("#popupbox_city .region-list li.active"))),r(t)}}n(44);var s=n(40);$(window).on("city-link-loaded",function(){$("a.cityselect").colorbox({transition:"none",fixed:!0,opacity:.75,width:"910px",height:"90%",className:"citybox",onComplete:function(){$("#popupbox_city .searchbar input:text").focus(),$("#colorbox").on("keyup","#popupbox_city .searchbar input:text",function(){o()}),$("#colorbox").on("click","#popupbox_city .search .cancel",function(){var t=0;return $("#popupbox_city .region-list li.active").size()&&(t=$("#popupbox_city .region-list li").index($("#popupbox_city .region-list li.active"))),r(t),!1}),$("#colorbox").on("click","#popupbox_city .region-list a",function(){var t=$("#popupbox_city .region-list li").index($(this).parents("li"));return r(t),!1}),index=$("#popupbox_city .region-list li").index($("#popupbox_city .region-list li.active")),r(index);var t=$("#popupbox_city .region-list>ul>li").eq(index),e=t.position(),n=$("#popupbox_city .region-list>ul");e.top>n.outerHeight()/2&&(scroll=e.top-n.outerHeight()/2+t.outerHeight(),n.scrollTop(scroll)),$("#popupbox_city .city-list ul>li a").on("click",function(){i()}),$("#popupbox_city").on("click",".search-wrap .list-stores>a",function(){i()})},onOpen:function(){$(window).trigger("noscroll-enable"),$(window).on("resize.citybox",function(){$.colorbox.resize({height:"90%"})})},onClosed:function(){$(window).trigger("noscroll-disable"),$(window).off("resize.citybox")}})})},function(t,e,n){function i(t,e){var n=[2,0,1,1,1,2];return e[t%100>4&&20>t%100?2:n[Math.min(t%10,5)]]}var r=n(40),o=n(37),s={get:function(t){r.getItem("compare",t)},set:function(t,e){r.setItem("compare",t,e)},clear:function(){r.removeItem("compare")},add:function(t,e){this.get(function(n,i){var r=$.extend(!0,i,t);this.set(r,function(){e(r)})}.bind(this))}},a=function(t){var e="/compare/list?products={{id}}";return{productsId:function(){var e=[];for(var n in t)if(void 0!=t[n].products)for(var i in t[n].products)e.push(i);return e},prepare:function(e){var n=[];for(var r in t){var o=t[r],s=Object.keys(o.products).length;if(s){var l=0;void 0!=e&&void 0!=t[e]?l=e==r?4:0:Object.keys(t).length<=4&&(l=2);var c=$.map(o.products,function(t){return[t]});n.push({names:o.names,caption:function(){return i(this.counter,this.names)},url:a(t).url()+"#topic"+r,counter:s,products:l>0?c.slice(0,l):[]})}}return n},url:function(){var t=this.productsId();return o.render(e,{id:encodeURIComponent(t.join(","))})}}},l=function(){this.container=$("#compare-widget"),this.topicId=this.container.data("topicid"),this.init()};l.prototype={init:function(){this.container.length&&(this.render(),this.watch())},watch:function(){$(window).on("compare-add",function(t,e){this.render(e)}.bind(this))},bind:function(){this.container.find(".js-compare-clear").on("click",function(t){t.preventDefault(),this.clear()}.bind(this))},render:function(t){return void 0!=t?void this.print(t):void s.get(function(t,e){this.print(e)}.bind(this))},print:function(t){var e=a(t).prepare(this.topicId);return e.length?void o.renderTemplate("compare-widget",assetsPath+"/templates/compare-widget.mst",{topics:e,url:a(t).url()},{"products-aside":assetsPath+"/templates/products-aside.mst"}).done(function(t){this.container.html(t),this.bind()}.bind(this)):void this.container.html("")},clear:function(){s.clear(),this.container.html(""),$(window).trigger("compare-clear")}};var c=function(){this.classNameComparing="comparing",this.init(),this.watch()};c.prototype={init:function(){this.buttons=$(".compare-button"),this.buttonsAdd=this.buttons.find(".js-compare-add"),this.buttonsLink=this.buttons.find(".js-compare-link"),this.buttons.length&&(this.bind(),this.setCompare(),this.setLinks())},watch:function(){var t=this;$(window).on("compare-clear",function(){t.clearCompare()}),$(window).on("compare-add",function(e,n){t.setLinks(n)}),$(window).on("compare-buttons-init",function(){t.init()})},bind:function(){var t=this;this.buttonsAdd.on("click",function(e){e.preventDefault(),t.add(this)})},add:function(t){var e=$(t).parents(".compare-button").first();e.addClass(this.classNameComparing),$.getJSON($(t).attr("href")).success(function(t){s.add(t,function(t){$(window).trigger("compare-add",t)})}).error(function(){e.removeClass(this.classNameComparing)}.bind(this))},clearCompare:function(){this.buttons.removeClass(this.classNameComparing)},setCompare:function(){var t=this;s.get(function(e,n){var i=a(n).productsId();i.length&&t.buttons.each(function(){var e=$(this).data("productid")+"";-1!=i.indexOf(e)&&$(this).addClass(t.classNameComparing)})})},setLinks:function(t){t=t||null;var e=this;if(t){var n=a(t).url();return void this.buttonsLink.data("href",n).attr("href",n)}s.get(function(t,n){var i=a(n).url();e.buttonsLink.data("href",i).attr("href",i)})}},$(function(){new l,new c})},function(t,e,n){function i(t,e){t=parseInt(t);var n;switch(t){case 1:case 3:case 5:case 7:case 8:case 10:case 12:n=31;break;case 4:case 6:case 9:case 11:n=30;break;case 2:n=e%4==0&&e%100!=100?29:28}return n}n(44),n(50),$(function(){$(".cabinetTable .editLink").on("click",function(){var t=this,e=$(this).closest("li");return $.each($(".userAddress .editBox"),function(){$(this).closest("li").find(".normalBox").show(),$(this).remove()}),e.find(".editBox").length||e.append('<div class="editBox"></div>'),$.get($(t).attr("href"),function(t){e.find(".normalBox").hide(),e.find(".editBox").html(t),e.find(".editBox").show(),$(".cancelEdit").on("click",function(){e.find(".editBox").remove(),e.find(".normalBox").show()}),$("#UserAddressForm_street").streetSuggest({cityId:function(){return $("#UserAddressForm_city").size()?parseInt($("#UserAddressForm_city").val()):0}})}),!1}),$(".cabinetTable.userAddress .deleteLink").on("click",function(){var t=this;return confirm("Удалить адрес?")?($.getJSON($(t).attr("href"),function(e){e.success?$(t).closest("li").remove():alert(e.error)}),!1):!1}),$(".socialUsers .deleteLink").on("click",function(){if(!confirm("Удалить привязанный аккаунт?"))return!1;var t=this;return $.getJSON($(this).attr("href"),function(e){e.success?$(t).closest("li").remove():alert(e.error)}),!1}),$(".getOrder").on("click",function(){var t=$(this).attr("order"),e=$(this).closest(".cabinetOrder"),n=$(e).find(".cabinetOrderFull");return""!=$(n).html()?($(this).removeClass("active"),$(n).html(""),$(e).find(".cabinetOrderShort").show(),!1):($(this).addClass("active"),$.get("/ajax/cabinet/getorder?id="+t,function(t){$(e).find(".cabinetOrderShort").hide(),$(n).html(t)}),!1)}),$(".clearUserViews").on("click",function(){return confirm("Удалить просмотренные товары?")?($.getJSON($(this).attr("href"),function(t){t.success?$("#UserViews").html(t.success):alert(t.error)}),!1):!1}),$(".cabinetTable").on("click","#bdMonth, #bdYear,#bdDay",function(){var t=parseInt($("#bdMonth").val()),e=parseInt($("#bdYear").val()),n=parseInt($("#bdDay").val());i(t,e)<n&&$("#bdDay option").removeAttr("selected")}),$(".requestLink").on("click",function(){var t=$(this).closest(".cabinetOrder");$(this).toggleClass("active"),$(".requestShort",t).toggle(),$(".requestFull",t).toggle()});var t=window.location.hash;if(t){t=t.replace("#","");var e=t.split("-");$("#request_"+e[1]+" .requestFull").show(),$("#request_"+e[1]+" .addComment_"+e[0]).show(),window.location.hash=""}$(".requestCommentForm").on("submit",function(){return""==$(this).find(".requestCommentArea").val()?!1:void 0}),$(document).on("submit",".popupbox .loginBox .form",function(t){t.preventDefault()}),$(document).on("afterValidate",".popupbox .loginBox .form",function(t,e){var n=$(this),i=!1;for(var r in e)e[r].length&&(i=!0);return i?void $.colorbox.resize():($.ajax({type:"POST",url:n.attr("action"),data:n.serialize(),dataType:"html",success:function(t){""==t?window.location.reload():(n.parent().html(t),$.colorbox.resize())},error:function(){alert("Ошибка")}}),!1)})})},function(t,e){!function(t){var e=function(e,n){this.element=t(e),this.options=n,this.cache={},this.init()};e.prototype={init:function(){this.element.autocomplete({minLength:this.options.minLength,delay:this.options.delay,source:function(t,e){this.sendRequest(t,e)}.bind(this),appendTo:this.element.parent(),select:function(t,e){return this.element.val(e.item.value),this.options.onSelectCallback(e.item),!1}.bind(this)})},sendRequest:function(e,n){var i=e.term.toLowerCase(),r="function"==typeof this.options.cityId?this.options.cityId():this.options.cityId,o=r in this.cache?this.cache[r]:[];return i in o?void n(t.map(o[i],function(t){return{label:t.name+" "+t.type,value:t.name}})):void t.ajax({url:"geo/street",dataType:"json",data:t.extend(e,{cityId:r}),success:function(e){void 0==this.cache[r]&&(this.cache[r]=[]),this.cache[r][i]=e,n(t.map(e,function(t){return{label:t.name+" "+t.type,value:t.name}}))}.bind(this)})}},t.fn.streetSuggest=function(n){var i={cityId:0,minLength:3,delay:300,onSelectCallback:function(){}};return this.each(function(){t.data(this,"plugin_streetSuggest")||t.data(this,"plugin_streetSuggest",new e(this,t.extend({},i,n)))})}}(jQuery)},function(t,e,n){var i=n(37),r=n(52);$(function(){var t=$(".adlift");if(t.length){var e=new r;t.each(function(){var t=this;e.getBanner($(this).data("id"),$(this).data("code")).isAvailable(function(e){if(e){var n=/<!--\s?dynamic:(.+):(\d+)\s?-->/g.exec(this.html),r=this.html;if(!n)return void this.writeTo(t.id);$.get("/banner/"+n[1],{id:n[2]}).success(function(e){$(t).html(i.render(r,e))})}})})}})},function(t,e,n){var i,r;!function(){"use strict";var o=function(){function t(){return r+=1}function e(e,r,o){if(!e||"undefined"==typeof e||"function"!=typeof r)return!1;o=Math.abs(o)||5e3;var s="adliftCallback_"+t(),a=0;window[s]=function(t){clearTimeout(a),r(t,"success"),window[s]=null,i(s)},n(e,s),a=setTimeout(function(){window[s]=function(){window[s]=null},r(null,"error"),i(s)},o)}function n(t,e){if(t&&e&&"string"==typeof t&&"string"==typeof e){-1!==t.indexOf("=?")?t=t.replace(o,"="+e):t+=(-1===t.indexOf("?")?"?jsonp=":"&jsonp=")+e;var n=document.createElement("script");n.id="jsonp-"+e,n.type="text/javascript",n.charset="utf-8",n.src=t,document.getElementsByTagName("head")[0].appendChild(n)}}function i(t){var e=document.getElementById("jsonp-"+t);if(e){e.parentNode.removeChild(e);for(var n in e)e.hasOwnProperty(n)&&delete e[n]}}var r=0,o=/\=\?/g,s=function(n){function i(i,r,o){function s(e){var n=/<script\b[^>]*>([\s\S]*?)<\/script>/im,i=c.html.match(n);if(i){var r=c.html.replace(i[0],""),o=document.createElement("script"),s="adlift_script_"+t();window[s]=function(){o.parentNode.removeChild(o),window[s]=null,delete window[s]},o.innerHTML=i[1]+"; "+s+"();",document.getElementById(e).innerHTML=r,document.getElementById(e).appendChild(o)}else document.getElementById(e).innerHTML=c.html}function a(t){if("function"!=typeof t)throw new Error("No callback passed");t.apply(c,[c.banner_available])}function l(t){for(var e=t.length;e;)e-=1,t[e].func.apply(c,t[e].args)}var c=this,u=[],h=!1,d=n+i+".js",f=[];"function"==typeof window.getPt&&f.push({key:"ptrk",val:window.getPt()}),"string"==typeof r&&f.push({key:"code",val:r});var p=f.length,g=[];for(p&&(d+="?");p;)p-=1,g.push(f[p].key+"="+f[p].val);return d+=g.join("&"),o?(document.write("<script type='text/javascript' src='"+d),void document.write("'></script>")):(e(d,function(t,e){if("success"!==e)throw new Error("Failed to get banner for slot: "+i);t=JSON.parse(t),c.html=t.banner_html,c.id=t.slot_id,c.banner_available=t.banner_available,h=!0,l(u)}),this.writeTo=function(t){return h?(s(t),this):(u.push({func:s,args:arguments}),this)},this.isAvailable=function(t){return h?a(t):u.push({func:a,args:arguments}),this},this)}n=n||"http://iddqd.e96.ru/",this.globalCode=null,this.getBanner=function(t,e){return e=e||this.globalCode,new i(t,e)},this.writeSync=function(t,e){return e=e||this.globalCode,new i(t,e,!0)}};return s};i=o,r="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==r&&(t.exports=r))}()},function(t,e,n){var i=n(54),r=function(t){var e=t.find(".field"),n=t.find("input[type=email]"),r=n.val(),o=t.closest(".subscribe-box").find(".complete");if(e.removeClass("error"),t.find(".errorMessage").remove(),/\S+@\S+\.\S+/.test(r)){var s=i(trim(r));"undefined"!=typeof dataLayer&&dataLayer.push({userEmail:r,event:t.data("event"),userHashedEmail:s}),setCookie("e96_userHashedEmail",s,{expires:31536e3,path:"/"}),t.hide(),o.find(".email").text(r),o.show()}else{e.addClass("error");var a=$("<div/>").addClass("errorMessage");a.text("Укажите правильный Email"),n.after(a)}};$(document).on("submit",".subscribe-box form",function(t){t.preventDefault(),r($(this)),$.colorbox.resize()})},function(t,e,n){t.exports=n(55)},function(t,e,n){var i;(function(e,r){/**
	 * [js-md5]{@link https://github.com/emn178/js-md5}
	 *
	 * @namespace md5
	 * @version 0.4.0
	 * @author Chen, Yi-Cyuan [emn178@gmail.com]
	 * @copyright Chen, Yi-Cyuan 2014-2016
	 * @license MIT
	 */
!function(o){"use strict";function s(t){if(t)v[0]=v[16]=v[1]=v[2]=v[3]=v[4]=v[5]=v[6]=v[7]=v[8]=v[9]=v[10]=v[11]=v[12]=v[13]=v[14]=v[15]=0,this.blocks=v,this.buffer8=l;else if(h){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0}var a="object"==typeof e&&e.versions&&e.versions.node;a&&(o=r);var l,c=!o.JS_MD5_TEST&&"object"==typeof t&&t.exports,u=n(56),h=!o.JS_MD5_TEST&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),f=[128,32768,8388608,-2147483648],p=[0,8,16,24],g=["hex","array","digest","buffer","arrayBuffer"],v=[];if(h){var m=new ArrayBuffer(68);l=new Uint8Array(m),v=new Uint32Array(m)}var y=function(t){return function(e){return new s(!0).update(e)[t]()}},b=function(){var t=y("hex");a&&(t=w(t)),t.create=function(){return new s},t.update=function(e){return t.create().update(e)};for(var e=0;e<g.length;++e){var n=g[e];t[n]=y(n)}return t},w=function(t){var e,i;try{if(o.JS_MD5_TEST)throw"JS_MD5_TEST";e=n(57),i=n(58).Buffer}catch(r){return console.log(r),t}var s=function(n){if("string"==typeof n)return e.createHash("md5").update(n,"utf8").digest("hex");if(n.constructor==ArrayBuffer)n=new Uint8Array(n);else if(void 0===n.length)return t(n);return e.createHash("md5").update(new i(n)).digest("hex")};return s};s.prototype.update=function(t){if(!this.finalized){var e="string"!=typeof t;e&&t.constructor==o.ArrayBuffer&&(t=new Uint8Array(t));for(var n,i,r=0,s=t.length||0,a=this.blocks,l=this.buffer8;s>r;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)if(h)for(i=this.start;s>r&&64>i;++r)l[i++]=t[r];else for(i=this.start;s>r&&64>i;++r)a[i>>2]|=t[r]<<p[3&i++];else if(h)for(i=this.start;s>r&&64>i;++r)n=t.charCodeAt(r),128>n?l[i++]=n:2048>n?(l[i++]=192|n>>6,l[i++]=128|63&n):55296>n||n>=57344?(l[i++]=224|n>>12,l[i++]=128|n>>6&63,l[i++]=128|63&n):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++r)),l[i++]=240|n>>18,l[i++]=128|n>>12&63,l[i++]=128|n>>6&63,l[i++]=128|63&n);else for(i=this.start;s>r&&64>i;++r)n=t.charCodeAt(r),128>n?a[i>>2]|=n<<p[3&i++]:2048>n?(a[i>>2]|=(192|n>>6)<<p[3&i++],a[i>>2]|=(128|63&n)<<p[3&i++]):55296>n||n>=57344?(a[i>>2]|=(224|n>>12)<<p[3&i++],a[i>>2]|=(128|n>>6&63)<<p[3&i++],a[i>>2]|=(128|63&n)<<p[3&i++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++r)),a[i>>2]|=(240|n>>18)<<p[3&i++],a[i>>2]|=(128|n>>12&63)<<p[3&i++],a[i>>2]|=(128|n>>6&63)<<p[3&i++],a[i>>2]|=(128|63&n)<<p[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this}},s.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>2]|=f[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,this.hash()}},s.prototype.hash=function(){var t,e,n,i,r,o,s=this.blocks;this.first?(t=s[0]-680876937,t=(t<<7|t>>>25)-271733879<<0,i=(-1732584194^2004318071&t)+s[1]-117830708,i=(i<<12|i>>>20)+t<<0,n=(-271733879^i&(-271733879^t))+s[2]-1126478375,n=(n<<17|n>>>15)+i<<0,e=(t^n&(i^t))+s[3]-1316259209,e=(e<<22|e>>>10)+n<<0):(t=this.h0,e=this.h1,n=this.h2,i=this.h3,t+=(i^e&(n^i))+s[0]-680876936,t=(t<<7|t>>>25)+e<<0,i+=(n^t&(e^n))+s[1]-389564586,i=(i<<12|i>>>20)+t<<0,n+=(e^i&(t^e))+s[2]+606105819,n=(n<<17|n>>>15)+i<<0,e+=(t^n&(i^t))+s[3]-1044525330,e=(e<<22|e>>>10)+n<<0),t+=(i^e&(n^i))+s[4]-176418897,t=(t<<7|t>>>25)+e<<0,i+=(n^t&(e^n))+s[5]+1200080426,i=(i<<12|i>>>20)+t<<0,n+=(e^i&(t^e))+s[6]-1473231341,n=(n<<17|n>>>15)+i<<0,e+=(t^n&(i^t))+s[7]-45705983,e=(e<<22|e>>>10)+n<<0,t+=(i^e&(n^i))+s[8]+1770035416,t=(t<<7|t>>>25)+e<<0,i+=(n^t&(e^n))+s[9]-1958414417,i=(i<<12|i>>>20)+t<<0,n+=(e^i&(t^e))+s[10]-42063,n=(n<<17|n>>>15)+i<<0,e+=(t^n&(i^t))+s[11]-1990404162,e=(e<<22|e>>>10)+n<<0,t+=(i^e&(n^i))+s[12]+1804603682,t=(t<<7|t>>>25)+e<<0,i+=(n^t&(e^n))+s[13]-40341101,i=(i<<12|i>>>20)+t<<0,n+=(e^i&(t^e))+s[14]-1502002290,n=(n<<17|n>>>15)+i<<0,e+=(t^n&(i^t))+s[15]+1236535329,e=(e<<22|e>>>10)+n<<0,t+=(n^i&(e^n))+s[1]-165796510,t=(t<<5|t>>>27)+e<<0,i+=(e^n&(t^e))+s[6]-1069501632,i=(i<<9|i>>>23)+t<<0,n+=(t^e&(i^t))+s[11]+643717713,n=(n<<14|n>>>18)+i<<0,e+=(i^t&(n^i))+s[0]-373897302,e=(e<<20|e>>>12)+n<<0,t+=(n^i&(e^n))+s[5]-701558691,t=(t<<5|t>>>27)+e<<0,i+=(e^n&(t^e))+s[10]+38016083,i=(i<<9|i>>>23)+t<<0,n+=(t^e&(i^t))+s[15]-660478335,n=(n<<14|n>>>18)+i<<0,e+=(i^t&(n^i))+s[4]-405537848,e=(e<<20|e>>>12)+n<<0,t+=(n^i&(e^n))+s[9]+568446438,t=(t<<5|t>>>27)+e<<0,i+=(e^n&(t^e))+s[14]-1019803690,i=(i<<9|i>>>23)+t<<0,n+=(t^e&(i^t))+s[3]-187363961,n=(n<<14|n>>>18)+i<<0,e+=(i^t&(n^i))+s[8]+1163531501,e=(e<<20|e>>>12)+n<<0,t+=(n^i&(e^n))+s[13]-1444681467,t=(t<<5|t>>>27)+e<<0,i+=(e^n&(t^e))+s[2]-51403784,i=(i<<9|i>>>23)+t<<0,n+=(t^e&(i^t))+s[7]+1735328473,n=(n<<14|n>>>18)+i<<0,e+=(i^t&(n^i))+s[12]-1926607734,e=(e<<20|e>>>12)+n<<0,r=e^n,t+=(r^i)+s[5]-378558,t=(t<<4|t>>>28)+e<<0,i+=(r^t)+s[8]-2022574463,i=(i<<11|i>>>21)+t<<0,o=i^t,n+=(o^e)+s[11]+1839030562,n=(n<<16|n>>>16)+i<<0,e+=(o^n)+s[14]-35309556,e=(e<<23|e>>>9)+n<<0,r=e^n,t+=(r^i)+s[1]-1530992060,t=(t<<4|t>>>28)+e<<0,i+=(r^t)+s[4]+1272893353,i=(i<<11|i>>>21)+t<<0,o=i^t,n+=(o^e)+s[7]-155497632,n=(n<<16|n>>>16)+i<<0,e+=(o^n)+s[10]-1094730640,e=(e<<23|e>>>9)+n<<0,r=e^n,t+=(r^i)+s[13]+681279174,t=(t<<4|t>>>28)+e<<0,i+=(r^t)+s[0]-358537222,i=(i<<11|i>>>21)+t<<0,o=i^t,n+=(o^e)+s[3]-722521979,n=(n<<16|n>>>16)+i<<0,e+=(o^n)+s[6]+76029189,e=(e<<23|e>>>9)+n<<0,r=e^n,t+=(r^i)+s[9]-640364487,t=(t<<4|t>>>28)+e<<0,i+=(r^t)+s[12]-421815835,i=(i<<11|i>>>21)+t<<0,o=i^t,n+=(o^e)+s[15]+530742520,n=(n<<16|n>>>16)+i<<0,e+=(o^n)+s[2]-995338651,e=(e<<23|e>>>9)+n<<0,t+=(n^(e|~i))+s[0]-198630844,t=(t<<6|t>>>26)+e<<0,i+=(e^(t|~n))+s[7]+1126891415,i=(i<<10|i>>>22)+t<<0,n+=(t^(i|~e))+s[14]-1416354905,n=(n<<15|n>>>17)+i<<0,e+=(i^(n|~t))+s[5]-57434055,e=(e<<21|e>>>11)+n<<0,t+=(n^(e|~i))+s[12]+1700485571,t=(t<<6|t>>>26)+e<<0,i+=(e^(t|~n))+s[3]-1894986606,i=(i<<10|i>>>22)+t<<0,n+=(t^(i|~e))+s[10]-1051523,n=(n<<15|n>>>17)+i<<0,e+=(i^(n|~t))+s[1]-2054922799,e=(e<<21|e>>>11)+n<<0,t+=(n^(e|~i))+s[8]+1873313359,t=(t<<6|t>>>26)+e<<0,i+=(e^(t|~n))+s[15]-30611744,i=(i<<10|i>>>22)+t<<0,n+=(t^(i|~e))+s[6]-1560198380,n=(n<<15|n>>>17)+i<<0,e+=(i^(n|~t))+s[13]+1309151649,e=(e<<21|e>>>11)+n<<0,t+=(n^(e|~i))+s[4]-145523070,t=(t<<6|t>>>26)+e<<0,i+=(e^(t|~n))+s[11]-1120210379,i=(i<<10|i>>>22)+t<<0,n+=(t^(i|~e))+s[2]+718787259,n=(n<<15|n>>>17)+i<<0,e+=(i^(n|~t))+s[9]-343485551,e=(e<<21|e>>>11)+n<<0,this.first?(this.h0=t+1732584193<<0,this.h1=e-271733879<<0,this.h2=n-1732584194<<0,this.h3=i+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+i<<0)},s.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,i=this.h3;return d[t>>4&15]+d[15&t]+d[t>>12&15]+d[t>>8&15]+d[t>>20&15]+d[t>>16&15]+d[t>>28&15]+d[t>>24&15]+d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15]+d[n>>4&15]+d[15&n]+d[n>>12&15]+d[n>>8&15]+d[n>>20&15]+d[n>>16&15]+d[n>>28&15]+d[n>>24&15]+d[i>>4&15]+d[15&i]+d[i>>12&15]+d[i>>8&15]+d[i>>20&15]+d[i>>16&15]+d[i>>28&15]+d[i>>24&15]},s.prototype.toString=s.prototype.hex,s.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,i=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255]},s.prototype.array=s.prototype.digest,s.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},s.prototype.buffer=s.prototype.arrayBuffer;var _=b();c?t.exports=_:(o.md5=_,u&&(i=function(){return _}.call(_,n,_,t),!(void 0!==i&&(t.exports=i))))}(this)}).call(e,n(36),function(){return this}())},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){(function(t){function i(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function r(t,e){for(var n in t)e(t[n],n)}var o=n(62);e.createHash=n(64),e.createHmac=n(76),e.randomBytes=function(e,n){if(!n||!n.call)return new t(o(e));try{n.call(this,void 0,new t(o(e)))}catch(i){n(i)}},e.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var s=n(77)(e);e.pbkdf2=s.pbkdf2,e.pbkdf2Sync=s.pbkdf2Sync,r(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(t){e[t]=function(){i("sorry,",t,"is not implemented yet")}})}).call(e,n(58).Buffer)},function(t,e,n){(function(t,i){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function r(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(t.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?s(this,e):"string"==typeof e?a(this,e,arguments.length>1?arguments[1]:"utf8"):l(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function s(e,n){if(e=g(e,0>n?0:0|v(n)),!t.TYPED_ARRAY_SUPPORT)for(var i=0;n>i;i++)e[i]=0;return e}function a(t,e,n){"string"==typeof n&&""!==n||(n="utf8");var i=0|y(e,n);return t=g(t,i),t.write(e,n),t}function l(e,n){if(t.isBuffer(n))return c(e,n);if(G(n))return u(e,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return h(e,n);if(n instanceof ArrayBuffer)return d(e,n)}return n.length?f(e,n):p(e,n)}function c(t,e){var n=0|v(e.length);return t=g(t,n),e.copy(t,0,0,n),t}function u(t,e){var n=0|v(e.length);t=g(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function h(t,e){var n=0|v(e.length);t=g(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function d(e,n){return t.TYPED_ARRAY_SUPPORT?(n.byteLength,e=t._augment(new Uint8Array(n))):e=h(e,new Uint8Array(n)),e}function f(t,e){var n=0|v(e.length);t=g(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function p(t,e){var n,i=0;"Buffer"===e.type&&G(e.data)&&(n=e.data,i=0|v(n.length)),t=g(t,i);for(var r=0;i>r;r+=1)t[r]=255&n[r];return t}function g(e,n){t.TYPED_ARRAY_SUPPORT?(e=t._augment(new Uint8Array(n)),e.__proto__=t.prototype):(e.length=n,e._isBuffer=!0);var i=0!==n&&n<=t.poolSize>>>1;return i&&(e.parent=J),e}function v(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function m(e,n){if(!(this instanceof m))return new m(e,n);var i=new t(e,n);return delete i.parent,i}function y(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(i)return V(t).length;e=(""+e).toLowerCase(),i=!0}}function b(t,e,n){var i=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return A(this,e,n);case"binary":return I(this,e,n);case"base64":return $(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function w(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;i>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function _(t,e,n,i){return K(V(e,t.length-n),t,n,i)}function x(t,e,n,i){return K(q(e),t,n,i)}function C(t,e,n,i){return x(t,e,n,i)}function E(t,e,n,i){return K(W(e),t,n,i)}function k(t,e,n,i){return K(H(e,t.length-n),t,n,i)}function $(t,e,n){return 0===e&&n===t.length?Y.fromByteArray(t):Y.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;n>r;){var o=t[r],s=null,a=o>239?4:o>223?3:o>191?2:1;if(n>=r+a){var l,c,u,h;switch(a){case 1:128>o&&(s=o);break;case 2:l=t[r+1],128===(192&l)&&(h=(31&o)<<6|63&l,h>127&&(s=h));break;case 3:l=t[r+1],c=t[r+2],128===(192&l)&&128===(192&c)&&(h=(15&o)<<12|(63&l)<<6|63&c,h>2047&&(55296>h||h>57343)&&(s=h));break;case 4:l=t[r+1],c=t[r+2],u=t[r+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(h=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u,h>65535&&1114112>h&&(s=h))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),r+=a}return T(i)}function T(t){var e=t.length;if(X>=e)return String.fromCharCode.apply(String,t);for(var n="",i=0;e>i;)n+=String.fromCharCode.apply(String,t.slice(i,i+=X));return n}function A(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;n>r;r++)i+=String.fromCharCode(127&t[r]);return i}function I(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;n>r;r++)i+=String.fromCharCode(t[r]);return i}function O(t,e,n){var i=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=e;n>o;o++)r+=U(t[o]);return r}function j(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function M(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,n,i,r,o,s){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>o||s>n)throw new RangeError("value is out of bounds");if(i+r>e.length)throw new RangeError("index out of range")}function B(t,e,n,i){0>e&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);o>r;r++)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function L(t,e,n,i){0>e&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);o>r;r++)t[n+r]=e>>>8*(i?r:3-r)&255}function D(t,e,n,i,r,o){if(e>r||o>e)throw new RangeError("value is out of bounds");if(n+i>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function z(t,e,n,i,r){return r||D(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,n,i,23,4),n+4}function N(t,e,n,i,r){return r||D(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,n,i,52,8),n+8}function P(t){if(t=F(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function F(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function U(t){return 16>t?"0"+t.toString(16):t.toString(16)}function V(t,e){e=e||1/0;for(var n,i=t.length,r=null,o=[],s=0;i>s;s++){if(n=t.charCodeAt(s),n>55295&&57344>n){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function H(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function W(t){return Y.toByteArray(P(t))}function K(t,e,n,i){for(var r=0;i>r&&!(r+n>=e.length||r>=t.length);r++)e[r+n]=t[r];return r}var Y=n(59),Q=n(60),G=n(61);e.Buffer=t,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var J={};t.TYPED_ARRAY_SUPPORT=void 0!==i.TYPED_ARRAY_SUPPORT?i.TYPED_ARRAY_SUPPORT:r(),t.TYPED_ARRAY_SUPPORT?(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array):(t.prototype.length=void 0,t.prototype.parent=void 0),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var i=e.length,r=n.length,o=0,s=Math.min(i,r);s>o&&e[o]===n[o];)++o;return o!==s&&(i=e[o],r=n[o]),r>i?-1:i>r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!G(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var i;if(void 0===n)for(n=0,i=0;i<e.length;i++)n+=e[i].length;var r=new t(n),o=0;for(i=0;i<e.length;i++){var s=e[i];s.copy(r,o),o+=s.length}return r},t.byteLength=y,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):b.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,n){function i(t,e,n){for(var i=-1,r=0;n+r<t.length;r++)if(t[n+r]===e[-1===i?0:r-i]){if(-1===i&&(i=r),r-i+1===e.length)return n+i}else i=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,n);if(t.isBuffer(e))return i(this,e,n);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,n):i(this,[e],n);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0);else{var r=i;i=e,e=0|n,n=r}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return x(this,t,e,n);case"binary":return C(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;t.prototype.slice=function(e,n){var i=this.length;e=~~e,n=void 0===n?i:~~n,0>e?(e+=i,0>e&&(e=0)):e>i&&(e=i),0>n?(n+=i,0>n&&(n=0)):n>i&&(n=i),e>n&&(n=e);var r;if(t.TYPED_ARRAY_SUPPORT)r=t._augment(this.subarray(e,n));else{var o=n-e;r=new t(o,void 0);for(var s=0;o>s;s++)r[s]=this[s+e]}return r.length&&(r.parent=this.parent||this),r},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||M(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||M(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},t.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||M(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||M(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),Q.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),Q.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),Q.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),Q.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,i){t=+t,e=0|e,n=0|n,i||R(this,t,e,n,Math.pow(2,8*n),0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,i){t=+t,e=0|e,n=0|n,i||R(this,t,e,n,Math.pow(2,8*n),0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},t.prototype.writeUInt8=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):B(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):B(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):L(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):L(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=0|e,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var o=0,s=1,a=0>t?1:0;for(this[e]=255&t;++o<n&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},t.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=0|e,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},t.prototype.writeInt8=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):B(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):B(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):L(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,i){return e=+e,n=0|n,i||R(this,e,n,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):L(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},t.prototype.copy=function(e,n,i,r){if(i||(i=0),r||0===r||(r=this.length),n>=e.length&&(n=e.length),n||(n=0),r>0&&i>r&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-n<r-i&&(r=e.length-n+i);var o,s=r-i;if(this===e&&n>i&&r>n)for(o=s-1;o>=0;o--)e[o+n]=this[o+i];else if(1e3>s||!t.TYPED_ARRAY_SUPPORT)for(o=0;s>o;o++)e[o+n]=this[o+i];else e._set(this.subarray(i,i+s),n);return s},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof t)for(i=e;n>i;i++)this[i]=t;else{var r=V(t.toString()),o=r.length;for(i=e;n>i;i++)this[i]=r[i%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,i=e.length;i>n;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Z=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=Z.get,e.set=Z.set,e.write=Z.write,e.toString=Z.toString,e.toLocaleString=Z.toString,e.toJSON=Z.toJSON,e.equals=Z.equals,e.compare=Z.compare,e.indexOf=Z.indexOf,e.copy=Z.copy,e.slice=Z.slice,e.readUIntLE=Z.readUIntLE,e.readUIntBE=Z.readUIntBE,e.readUInt8=Z.readUInt8,e.readUInt16LE=Z.readUInt16LE,e.readUInt16BE=Z.readUInt16BE,e.readUInt32LE=Z.readUInt32LE,e.readUInt32BE=Z.readUInt32BE,e.readIntLE=Z.readIntLE,e.readIntBE=Z.readIntBE,e.readInt8=Z.readInt8,e.readInt16LE=Z.readInt16LE,e.readInt16BE=Z.readInt16BE,e.readInt32LE=Z.readInt32LE,e.readInt32BE=Z.readInt32BE,e.readFloatLE=Z.readFloatLE,e.readFloatBE=Z.readFloatBE,e.readDoubleLE=Z.readDoubleLE,e.readDoubleBE=Z.readDoubleBE,e.writeUInt8=Z.writeUInt8,e.writeUIntLE=Z.writeUIntLE,e.writeUIntBE=Z.writeUIntBE,e.writeUInt16LE=Z.writeUInt16LE,e.writeUInt16BE=Z.writeUInt16BE,e.writeUInt32LE=Z.writeUInt32LE,e.writeUInt32BE=Z.writeUInt32BE,e.writeIntLE=Z.writeIntLE,e.writeIntBE=Z.writeIntBE,e.writeInt8=Z.writeInt8,e.writeInt16LE=Z.writeInt16LE,e.writeInt16BE=Z.writeInt16BE,e.writeInt32LE=Z.writeInt32LE,e.writeInt32BE=Z.writeInt32BE,e.writeFloatLE=Z.writeFloatLE,e.writeFloatBE=Z.writeFloatBE,e.writeDoubleLE=Z.writeDoubleLE,e.writeDoubleBE=Z.writeDoubleBE,e.fill=Z.fill,e.inspect=Z.inspect,e.toArrayBuffer=Z.toArrayBuffer,e};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(58).Buffer,function(){return this}())},function(t,e,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s||e===h?62:e===a||e===d?63:l>e?-1:l+10>e?e-l+26+26:u+26>e?e-u:c+26>e?e-c+26:void 0}function n(t){function n(t){c[h++]=t}var i,r,s,a,l,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.length;l="="===t.charAt(u-2)?2:"="===t.charAt(u-1)?1:0,c=new o(3*t.length/4-l),s=l>0?t.length-4:t.length;var h=0;for(i=0,r=0;s>i;i+=4,r+=3)a=e(t.charAt(i))<<18|e(t.charAt(i+1))<<12|e(t.charAt(i+2))<<6|e(t.charAt(i+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===l?(a=e(t.charAt(i))<<2|e(t.charAt(i+1))>>4,n(255&a)):1===l&&(a=e(t.charAt(i))<<10|e(t.charAt(i+1))<<4|e(t.charAt(i+2))>>2,n(a>>8&255),n(255&a)),c}function r(t){function e(t){return i.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var r,o,s,a=t.length%3,l="";for(r=0,s=t.length-a;s>r;r+=3)o=(t[r]<<16)+(t[r+1]<<8)+t[r+2],l+=n(o);switch(a){case 1:o=t[t.length-1],l+=e(o>>2),l+=e(o<<4&63),l+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],l+=e(o>>10),l+=e(o>>4&63),l+=e(o<<2&63),l+="="}return l}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),l="0".charCodeAt(0),c="a".charCodeAt(0),u="A".charCodeAt(0),h="-".charCodeAt(0),d="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=r}(e)},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?r-1:0,d=n?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+t[e+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:(f?-1:1)*(1/0);s+=Math.pow(2,i),o-=c}return(f?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),e+=s+h>=1?d/l:d*Math.pow(2,1-h),e*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*l-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+f]=255&a,f+=p,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;t[n+f]=255&s,f+=p,s/=256,c-=8);t[n+f-p]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e,i){!function(){var r=("undefined"==typeof window?e:window)||{};_crypto=r.crypto||r.msCrypto||n(63),t.exports=function(t){if(_crypto.getRandomValues){var e=new i(t);return _crypto.getRandomValues(e),e}if(_crypto.randomBytes)return _crypto.randomBytes(t);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(e,function(){return this}(),n(58).Buffer)},function(t,e){},function(t,e,n){(function(e){function i(t){return function(){var n=[],i={update:function(t,i){return e.isBuffer(t)||(t=new e(t,i)),n.push(t),this},digest:function(i){var r=e.concat(n),o=t(r);return n=null,i?o.toString(i):o}};return i}}var r=n(65),o=i(n(73)),s=i(n(75));t.exports=function(t){return"md5"===t?new o:"rmd160"===t?new s:r(t)}}).call(e,n(58).Buffer)},function(t,e,n){var e=t.exports=function(t){var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n},i=n(58).Buffer,r=n(66)(i);e.sha1=n(67)(i,r),e.sha256=n(71)(i,r),e.sha512=n(72)(i,r)},function(t,e){t.exports=function(t){function e(e,n){this._block=new t(e),this._finalSize=n,this._blockSize=e,this._len=0,this._s=0}return e.prototype.init=function(){this._s=0,this._len=0},e.prototype.update=function(e,n){"string"==typeof e&&(n=n||"utf8",e=new t(e,n));for(var i=this._len+=e.length,r=this._s=this._s||0,o=0,s=this._block;i>r;){for(var a=Math.min(e.length,o+this._blockSize-r%this._blockSize),l=a-o,c=0;l>c;c++)s[r%this._blockSize+c]=e[c+o];r+=l,o+=l,r%this._blockSize===0&&this._update(s)}return this._s=r,this},e.prototype.digest=function(t){var e=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),e%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(e,this._blockSize-4);var n=this._update(this._block)||this._hash();return t?n.toString(t):n},e.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e}},function(t,e,n){var i=n(68).inherits;t.exports=function(t,e){function n(){return p.length?p.pop().init():this instanceof n?(this._w=f,e.call(this,64,56),this._h=null,void this.init()):new n}function r(t,e,n,i){return 20>t?e&n|~e&i:40>t?e^n^i:60>t?e&n|e&i|n&i:e^n^i}function o(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function s(t,e){return t+e|0}function a(t,e){return t<<e|t>>>32-e}var l=0,c=4,u=8,h=12,d=16,f=new("undefined"==typeof Int32Array?Array:Int32Array)(80),p=[];return i(n,e),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,e.prototype.init.call(this),this},n.prototype._POOL=p,n.prototype._update=function(t){var e,n,i,l,c,u,h,d,f,p;e=u=this._a,n=h=this._b,i=d=this._c,l=f=this._d,c=p=this._e;for(var g=this._w,v=0;80>v;v++){var m=g[v]=16>v?t.readInt32BE(4*v):a(g[v-3]^g[v-8]^g[v-14]^g[v-16],1),y=s(s(a(e,5),r(v,n,i,l)),s(s(c,m),o(v)));c=l,l=i,i=a(n,30),n=e,e=y}this._a=s(e,u),this._b=s(n,h),this._c=s(i,d),this._d=s(l,f),this._e=s(c,p)},n.prototype._hash=function(){p.length<100&&p.push(this);var e=new t(20);return e.writeInt32BE(0|this._a,l),e.writeInt32BE(0|this._b,c),e.writeInt32BE(0|this._c,u),e.writeInt32BE(0|this._d,h),e.writeInt32BE(0|this._e,d),e},n}},function(t,e,n){(function(t,i){function r(t,n){var i={seen:[],stylize:s};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),g(n)?i.showHidden=n:n&&e._extend(i,n),_(i.showHidden)&&(i.showHidden=!1),_(i.depth)&&(i.depth=2),_(i.colors)&&(i.colors=!1),_(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=o),l(i,t,i.depth)}function o(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function l(t,n,i){if(t.customInspect&&n&&$(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return b(r)||(r=l(t,r,i)),r}var o=c(t,n);if(o)return o;var s=Object.keys(n),g=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),k(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(n);if(0===s.length){if($(n)){var v=n.name?": "+n.name:"";return t.stylize("[Function"+v+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(k(n))return u(n)}var m="",y=!1,w=["{","}"];if(p(n)&&(y=!0,w=["[","]"]),$(n)){var _=n.name?": "+n.name:"";m=" [Function"+_+"]"}if(x(n)&&(m=" "+RegExp.prototype.toString.call(n)),E(n)&&(m=" "+Date.prototype.toUTCString.call(n)),k(n)&&(m=" "+u(n)),0===s.length&&(!y||0==n.length))return w[0]+m+w[1];if(0>i)return x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var C;return C=y?h(t,n,i,g,s):s.map(function(e){return d(t,n,i,g,e,y)}),t.seen.pop(),f(C,m,w)}function c(t,e){if(_(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,i,r){for(var o=[],s=0,a=e.length;a>s;++s)O(e,String(s))?o.push(d(t,e,n,i,String(s),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(d(t,e,n,i,r,!0))}),o}function d(t,e,n,i,r,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),O(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(c.value)<0?(a=v(n)?l(t,c.value,null):l(t,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),_(s)){if(o&&r.match(/^\d+$/))return a;s=JSON.stringify(""+r),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function f(t,e,n){var i=0,r=t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function v(t){return null===t}function m(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function _(t){return void 0===t}function x(t){return C(t)&&"[object RegExp]"===T(t)}function C(t){return"object"==typeof t&&null!==t}function E(t){return C(t)&&"[object Date]"===T(t)}function k(t){return C(t)&&("[object Error]"===T(t)||t instanceof Error)}function $(t){return"function"==typeof t}function S(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function T(t){return Object.prototype.toString.call(t)}function A(t){return 10>t?"0"+t.toString(10):t.toString(10)}function I(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),B[t.getMonth()],e].join(" ")}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var j=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(t).replace(j,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),a=i[n];o>n;a=i[++n])s+=v(a)||!C(a)?" "+a:" "+r(a);return s},e.deprecate=function(n,r){function o(){if(!s){if(i.throwDeprecation)throw new Error(r);i.traceDeprecation?console.trace(r):console.error(r),s=!0}return n.apply(this,arguments)}if(_(t.process))return function(){return e.deprecate(n,r).apply(this,arguments)};if(i.noDeprecation===!0)return n;var s=!1;return o};var M,R={};e.debuglog=function(t){if(_(M)&&(M=i.env.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(new RegExp("\\b"+t+"\\b","i").test(M)){var n=i.pid;R[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else R[t]=function(){};return R[t]},e.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=g,e.isNull=v,e.isNullOrUndefined=m,e.isNumber=y,e.isString=b,e.isSymbol=w,e.isUndefined=_,e.isRegExp=x,e.isObject=C,e.isDate=E,e.isError=k,e.isFunction=$,e.isPrimitive=S,e.isBuffer=n(69);var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",I(),e.format.apply(e,arguments))},e.inherits=n(70),e._extend=function(t,e){if(!e||!C(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(e,function(){return this}(),n(36))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var i=n(68).inherits;t.exports=function(t,e){function n(){this.init(),this._w=f,e.call(this,64,56)}function r(t,e){return t>>>e|t<<32-e}function o(t,e){return t>>>e}function s(t,e,n){return t&e^~t&n}function a(t,e,n){return t&e^t&n^e&n}function l(t){return r(t,2)^r(t,13)^r(t,22)}function c(t){return r(t,6)^r(t,11)^r(t,25)}function u(t){return r(t,7)^r(t,18)^o(t,3)}function h(t){return r(t,17)^r(t,19)^o(t,10)}var d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=new Array(64);
return i(n,e),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},n.prototype._update=function(t){var e,n,i,r,o,f,p,g,v,m,y=this._w;e=0|this._a,n=0|this._b,i=0|this._c,r=0|this._d,o=0|this._e,f=0|this._f,p=0|this._g,g=0|this._h;for(var b=0;64>b;b++){var w=y[b]=16>b?t.readInt32BE(4*b):h(y[b-2])+y[b-7]+u(y[b-15])+y[b-16];v=g+c(o)+s(o,f,p)+d[b]+w,m=l(e)+a(e,n,i),g=p,p=f,f=o,o=r+v,r=i,i=n,n=e,e=v+m}this._a=e+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=r+this._d|0,this._e=o+this._e|0,this._f=f+this._f|0,this._g=p+this._g|0,this._h=g+this._h|0},n.prototype._hash=function(){var e=new t(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},n}},function(t,e,n){var i=n(68).inherits;t.exports=function(t,e){function n(){this.init(),this._w=l,e.call(this,128,112)}function r(t,e,n){return t>>>n|e<<32-n}function o(t,e,n){return t&e^~t&n}function s(t,e,n){return t&e^t&n^e&n}var a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);return i(n,e),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},n.prototype._update=function(t){var e,n,i,l,c,u,h,d,f,p,g,v,m,y,b,w,_=this._w;e=0|this._a,n=0|this._b,i=0|this._c,l=0|this._d,c=0|this._e,u=0|this._f,h=0|this._g,d=0|this._h,f=0|this._al,p=0|this._bl,g=0|this._cl,v=0|this._dl,m=0|this._el,y=0|this._fl,b=0|this._gl,w=0|this._hl;for(var x=0;80>x;x++){var C,E,k=2*x;if(16>x)C=_[k]=t.readInt32BE(4*k),E=_[k+1]=t.readInt32BE(4*k+4);else{var $=_[k-30],S=_[k-30+1],T=r($,S,1)^r($,S,8)^$>>>7,A=r(S,$,1)^r(S,$,8)^r(S,$,7);$=_[k-4],S=_[k-4+1];var I=r($,S,19)^r(S,$,29)^$>>>6,O=r(S,$,19)^r($,S,29)^r(S,$,6),j=_[k-14],M=_[k-14+1],R=_[k-32],B=_[k-32+1];E=A+M,C=T+j+(A>>>0>E>>>0?1:0),E+=O,C=C+I+(O>>>0>E>>>0?1:0),E+=B,C=C+R+(B>>>0>E>>>0?1:0),_[k]=C,_[k+1]=E}var L=s(e,n,i),D=s(f,p,g),z=r(e,f,28)^r(f,e,2)^r(f,e,7),N=r(f,e,28)^r(e,f,2)^r(e,f,7),P=r(c,m,14)^r(c,m,18)^r(m,c,9),F=r(m,c,14)^r(m,c,18)^r(c,m,9),U=a[k],V=a[k+1],q=o(c,u,h),H=o(m,y,b),W=w+F,K=d+P+(w>>>0>W>>>0?1:0);W+=H,K=K+q+(H>>>0>W>>>0?1:0),W+=V,K=K+U+(V>>>0>W>>>0?1:0),W+=E,K=K+C+(E>>>0>W>>>0?1:0);var Y=N+D,Q=z+L+(N>>>0>Y>>>0?1:0);d=h,w=b,h=u,b=y,u=c,y=m,m=v+W|0,c=l+K+(v>>>0>m>>>0?1:0)|0,l=i,v=g,i=n,g=p,n=e,p=f,f=W+Y|0,e=K+Q+(W>>>0>f>>>0?1:0)|0}this._al=this._al+f|0,this._bl=this._bl+p|0,this._cl=this._cl+g|0,this._dl=this._dl+v|0,this._el=this._el+m|0,this._fl=this._fl+y|0,this._gl=this._gl+b|0,this._hl=this._hl+w|0,this._a=this._a+e+(this._al>>>0<f>>>0?1:0)|0,this._b=this._b+n+(this._bl>>>0<p>>>0?1:0)|0,this._c=this._c+i+(this._cl>>>0<g>>>0?1:0)|0,this._d=this._d+l+(this._dl>>>0<v>>>0?1:0)|0,this._e=this._e+c+(this._el>>>0<m>>>0?1:0)|0,this._f=this._f+u+(this._fl>>>0<y>>>0?1:0)|0,this._g=this._g+h+(this._gl>>>0<b>>>0?1:0)|0,this._h=this._h+d+(this._hl>>>0<w>>>0?1:0)|0},n.prototype._hash=function(){function e(t,e,i){n.writeInt32BE(t,i),n.writeInt32BE(e,i+4)}var n=new t(64);return e(this._a,this._al,0),e(this._b,this._bl,8),e(this._c,this._cl,16),e(this._d,this._dl,24),e(this._e,this._el,32),e(this._f,this._fl,40),e(this._g,this._gl,48),e(this._h,this._hl,56),n},n}},function(t,e,n){function i(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,i=-271733879,r=-1732584194,u=271733878,h=0;h<t.length;h+=16){var d=n,f=i,p=r,g=u;n=o(n,i,r,u,t[h+0],7,-680876936),u=o(u,n,i,r,t[h+1],12,-389564586),r=o(r,u,n,i,t[h+2],17,606105819),i=o(i,r,u,n,t[h+3],22,-1044525330),n=o(n,i,r,u,t[h+4],7,-176418897),u=o(u,n,i,r,t[h+5],12,1200080426),r=o(r,u,n,i,t[h+6],17,-1473231341),i=o(i,r,u,n,t[h+7],22,-45705983),n=o(n,i,r,u,t[h+8],7,1770035416),u=o(u,n,i,r,t[h+9],12,-1958414417),r=o(r,u,n,i,t[h+10],17,-42063),i=o(i,r,u,n,t[h+11],22,-1990404162),n=o(n,i,r,u,t[h+12],7,1804603682),u=o(u,n,i,r,t[h+13],12,-40341101),r=o(r,u,n,i,t[h+14],17,-1502002290),i=o(i,r,u,n,t[h+15],22,1236535329),n=s(n,i,r,u,t[h+1],5,-165796510),u=s(u,n,i,r,t[h+6],9,-1069501632),r=s(r,u,n,i,t[h+11],14,643717713),i=s(i,r,u,n,t[h+0],20,-373897302),n=s(n,i,r,u,t[h+5],5,-701558691),u=s(u,n,i,r,t[h+10],9,38016083),r=s(r,u,n,i,t[h+15],14,-660478335),i=s(i,r,u,n,t[h+4],20,-405537848),n=s(n,i,r,u,t[h+9],5,568446438),u=s(u,n,i,r,t[h+14],9,-1019803690),r=s(r,u,n,i,t[h+3],14,-187363961),i=s(i,r,u,n,t[h+8],20,1163531501),n=s(n,i,r,u,t[h+13],5,-1444681467),u=s(u,n,i,r,t[h+2],9,-51403784),r=s(r,u,n,i,t[h+7],14,1735328473),i=s(i,r,u,n,t[h+12],20,-1926607734),n=a(n,i,r,u,t[h+5],4,-378558),u=a(u,n,i,r,t[h+8],11,-2022574463),r=a(r,u,n,i,t[h+11],16,1839030562),i=a(i,r,u,n,t[h+14],23,-35309556),n=a(n,i,r,u,t[h+1],4,-1530992060),u=a(u,n,i,r,t[h+4],11,1272893353),r=a(r,u,n,i,t[h+7],16,-155497632),i=a(i,r,u,n,t[h+10],23,-1094730640),n=a(n,i,r,u,t[h+13],4,681279174),u=a(u,n,i,r,t[h+0],11,-358537222),r=a(r,u,n,i,t[h+3],16,-722521979),i=a(i,r,u,n,t[h+6],23,76029189),n=a(n,i,r,u,t[h+9],4,-640364487),u=a(u,n,i,r,t[h+12],11,-421815835),r=a(r,u,n,i,t[h+15],16,530742520),i=a(i,r,u,n,t[h+2],23,-995338651),n=l(n,i,r,u,t[h+0],6,-198630844),u=l(u,n,i,r,t[h+7],10,1126891415),r=l(r,u,n,i,t[h+14],15,-1416354905),i=l(i,r,u,n,t[h+5],21,-57434055),n=l(n,i,r,u,t[h+12],6,1700485571),u=l(u,n,i,r,t[h+3],10,-1894986606),r=l(r,u,n,i,t[h+10],15,-1051523),i=l(i,r,u,n,t[h+1],21,-2054922799),n=l(n,i,r,u,t[h+8],6,1873313359),u=l(u,n,i,r,t[h+15],10,-30611744),r=l(r,u,n,i,t[h+6],15,-1560198380),i=l(i,r,u,n,t[h+13],21,1309151649),n=l(n,i,r,u,t[h+4],6,-145523070),u=l(u,n,i,r,t[h+11],10,-1120210379),r=l(r,u,n,i,t[h+2],15,718787259),i=l(i,r,u,n,t[h+9],21,-343485551),n=c(n,d),i=c(i,f),r=c(r,p),u=c(u,g)}return Array(n,i,r,u)}function r(t,e,n,i,r,o){return c(u(c(c(e,t),c(i,o)),r),n)}function o(t,e,n,i,o,s,a){return r(e&n|~e&i,t,e,o,s,a)}function s(t,e,n,i,o,s,a){return r(e&i|n&~i,t,e,o,s,a)}function a(t,e,n,i,o,s,a){return r(e^n^i,t,e,o,s,a)}function l(t,e,n,i,o,s,a){return r(n^(e|~i),t,e,o,s,a)}function c(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}function u(t,e){return t<<e|t>>>32-e}var h=n(74);t.exports=function(t){return h.hash(t,i,16)}},function(t,e,n){(function(e){function n(t,n){if(t.length%o!==0){var i=t.length+(o-t.length%o);t=e.concat([t,s],i)}for(var r=[],a=n?t.readInt32BE:t.readInt32LE,l=0;l<t.length;l+=o)r.push(a.call(t,l));return r}function i(t,n,i){for(var r=new e(n),o=i?r.writeInt32BE:r.writeInt32LE,s=0;s<t.length;s++)o.call(r,t[s],4*s,!0);return r}function r(t,r,o,s){e.isBuffer(t)||(t=new e(t));var l=r(n(t,s),t.length*a);return i(l,o,s)}var o=4,s=new e(o);s.fill(0);var a=8;t.exports={hash:r}}).call(e,n(58).Buffer)},function(t,e,n){(function(e){function n(t,e,n){return t^e^n}function i(t,e,n){return t&e|~t&n}function r(t,e,n){return(t|~e)^n}function o(t,e,n){return t&n|e&~n}function s(t,e,n){return t^(e|~n)}function a(t,e){return t<<e|t>>>32-e}function l(t){var n=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var i=g(t),r=8*t.length,o=8*t.length;i[r>>>5]|=128<<24-r%32,i[(r+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var s=0;s<i.length;s+=16)m(n,i,s);for(var s=0;5>s;s++){var a=n[s];n[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var l=v(n);return new e(l)}t.exports=l;/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0],g=function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},v=function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},m=function(t,e,l){for(var g=0;16>g;g++){var v=l+g,m=e[v];e[v]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var y,b,w,_,x,C,E,k,$,S;C=y=t[0],E=b=t[1],k=w=t[2],$=_=t[3],S=x=t[4];for(var T,g=0;80>g;g+=1)T=y+e[l+c[g]]|0,T+=16>g?n(b,w,_)+f[0]:32>g?i(b,w,_)+f[1]:48>g?r(b,w,_)+f[2]:64>g?o(b,w,_)+f[3]:s(b,w,_)+f[4],T=0|T,T=a(T,h[g]),T=T+x|0,y=x,x=_,_=a(w,10),w=b,b=T,T=C+e[l+u[g]]|0,T+=16>g?s(E,k,$)+p[0]:32>g?o(E,k,$)+p[1]:48>g?r(E,k,$)+p[2]:64>g?i(E,k,$)+p[3]:n(E,k,$)+p[4],T=0|T,T=a(T,d[g]),T=T+S|0,C=S,S=$,$=a(k,10),k=E,E=T;T=t[1]+w+$|0,t[1]=t[2]+_+S|0,t[2]=t[3]+x+C|0,t[3]=t[4]+y+E|0,t[4]=t[0]+b+k|0,t[0]=T}}).call(e,n(58).Buffer)},function(t,e,n){(function(e){function i(t,n){if(!(this instanceof i))return new i(t,n);this._opad=l,this._alg=t;var s="sha512"===t?128:64;n=this._key=e.isBuffer(n)?n:new e(n),n.length>s?n=r(t).update(n).digest():n.length<s&&(n=e.concat([n,o],s));for(var a=this._ipad=new e(s),l=this._opad=new e(s),c=0;s>c;c++)a[c]=54^n[c],l[c]=92^n[c];this._hash=r(t).update(a)}var r=n(64),o=new e(128);o.fill(0),t.exports=i,i.prototype.update=function(t,e){return this._hash.update(t,e),this},i.prototype.digest=function(t){var e=this._hash.digest();return r(this._alg).update(this._opad).update(e).digest(t)}}).call(e,n(58).Buffer)},function(t,e,n){var i=n(78);t.exports=function(t,e){e=e||{};var n=i(t);return e.pbkdf2=n.pbkdf2,e.pbkdf2Sync=n.pbkdf2Sync,e}},function(t,e,n){(function(e){t.exports=function(t){function n(t,e,n,r,o,s){if("function"==typeof o&&(s=o,o=void 0),"function"!=typeof s)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var a;try{a=i(t,e,n,r,o)}catch(l){return s(l)}s(void 0,a)})}function i(n,i,r,o,s){if("number"!=typeof r)throw new TypeError("Iterations not a number");if(0>r)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(0>o)throw new TypeError("Bad key length");s=s||"sha1",e.isBuffer(n)||(n=new e(n)),e.isBuffer(i)||(i=new e(i));var a,l,c,u=1,h=new e(o),d=new e(i.length+4);i.copy(d,0,0,i.length);for(var f=1;u>=f;f++){d.writeUInt32BE(f,i.length);var p=t.createHmac(s,n).update(d).digest();if(!a&&(a=p.length,c=new e(a),u=Math.ceil(o/a),l=o-(u-1)*a,o>(Math.pow(2,32)-1)*a))throw new TypeError("keylen exceeds maximum length");p.copy(c,0,0,a);for(var g=1;r>g;g++){p=t.createHmac(s,n).update(p).digest();for(var v=0;a>v;v++)c[v]^=p[v]}var m=(f-1)*a,y=f==u?l:a;c.copy(h,m,0,y)}return h}return{pbkdf2:n,pbkdf2Sync:i}}}).call(e,n(58).Buffer)},function(t,e,n){var i=n(1);i(function(){var t=i("#articlesFilter");t.length&&t.find("input, select").on("change",function(){var e=t.find('[type="radio"]:checked'),n=t.find("select option:selected").val();return t.attr("action",n),e.val()?void t.submit():void(window.location.href=n)});var e=function(t,e){this.init(t,e)};e.prototype={button:null,cachedElements:null,listElement:null,isLoading:!1,init:function(t,e){this.button=t,this.listElement=e,this.bind(),this.loadToCache()},bind:function(){var t=this;this.button.on("click",function(e){e.preventDefault(),t.showNextPage()})},showNextPage:function(){this.cachedElements&&(this.listElement.append(this.cachedElements),this.cachedElements=null,this.loadToCache())},loadToCache:function(){if(!this.isLoading&&this.button.length){var t=this;this.isLoading=!0,i.get(this.button.attr("href"),function(e){return e.items.length?(t.cachedElements=e.items,t.button.attr("href",e.links.next),void(t.isLoading=!1)):void t.button.remove()})}}},i(".articles-paging").each(function(t){new e(i(this),i(this).parent().prev(".list"))}),i(".articles").on("click",".tabs .tab",function(t){t.preventDefault();var e=i(this).data("tab");i(".articles .tabs .tab").removeClass("active"),i(this).addClass("active"),i(".articles .tabcontent").removeClass("active").filter('[data-tab="'+e+'"]').addClass("active")})})},function(t,e,n){function i(){c(".compare .field").each(function(){var t=c(this);c(".data .titles li",t).hover(function(){var e=c(".data .titles li",t).index(this);c(".data .items ul",t).eq(e).toggleClass("hover")}),c(".data .items ul",t).hover(function(){var e=c(".data .items ul",t).index(this);c(".data .titles li",t).eq(e).toggleClass("hover")}),c(".types a",t).on("click",function(){return c(this).hasClass("active")?!1:(c(".data .ident",t).toggle(),c(".types a.active",t).removeClass("active"),c(this).addClass("active"),o(),r(),!1)}),c(".nav a",t).on("click",function(){var e=c(".items_wrap",t),n=c(".items",t),i=parseInt(e.first().css("left")),r=parseInt(e.first().width()),o=parseInt(n.first().width()),s=r-o+i;if(c(this).hasClass("prev")&&0>i&&(c(".nav a",t).removeClass("disabled"),i=-540>i?i+540:0,e.css({left:i+"px"}),0==i&&c(this).addClass("disabled")),c(this).hasClass("next")&&s>0){c(".nav a",t).removeClass("disabled");var a=540>s?s:540;e.css({left:i-a+"px"}),a==s&&c(this).addClass("disabled")}return!1}),c(".head .items .remove a",t).on("click",function(e){var n=c(this).parents("li"),i=c(".head .items li",t).index(n),r=c(this).data("id"),s=c(this).data("topicid");e.preventDefault(),localforage.getItem("compare",function(t,e){void 0!=e[s].products[r]&&(delete e[s].products[r],Object.keys(e[s].products).length||delete e[s],localforage.setItem("compare",e))});var a=getUrlVars().products.split(",");a.splice(a.indexOf(r+""),1);var u=c("head title").first().text();if(a.length>0?history.replaceState(null,u,"/compare/list?products="+encodeURIComponent(a.join(","))):history.replaceState(null,u,"/compare"),c(".data .items ul",t).each(function(){c("li",this).eq(i).remove()}),n.remove(),c(".head .items li",t).length)o();else{var h=t.attr("id");t.remove(),delete topics[h],l(topics)}c(".compare .field").length||(window.location.href="/",c("h1").text("Сравнение товаров"),c(".compare").text("Нет товаров для сравнения"))})})}function r(){new Waypoint({element:c(".compare-box")[0],handler:function(t){var e=this.element,n=c(".compare-head",e),i=c(".data",e);if("up"===t)i.css("padding-top",0),n.removeClass("fixed").css({left:0});else{if($scrolling)return!1;i.css("padding-top",n.height()),n.addClass("fixed"),s()}}}),new Waypoint({element:c(".compare-down")[0],handler:function(t){var e=c(this.element).parents(".compare-box"),n=c(".compare-head",e),i=c(".data",e);if("down"===t)i.css("padding-top",0),n.removeClass("fixed").css({left:0});else{if($scrolling)return!1;i.css("padding-top",n.height()),n.addClass("fixed"),s()}},offset:function(){return c(".compare-head",c(this.element).parents(".compare-box")).height()}})}function o(){c(".compare .field").each(function(){var t=c(this),e=180*c(".head .items li",t).length;c(".items_wrap",t).width(e).css({left:0}),c(".items_wrap",t).first().width()>c(".items",t).first().width()?(c(".items",t).addClass("items_wide"),c(".nav",t).show()):(c(".items",t).removeClass("items_wide"),c(".nav",t).hide()),c(".data .titles li",t).each(function(e){var n=c(".data .items ul",t).eq(e),i=c(this).height(),r=n.height(),o=i>r?i:r;c(this).height(o),n.height(o)})})}function s(){var t=c(".compare-box .compare-head.fixed");c(document).scrollLeft()>0?t.css({left:"-"+c(document).scrollLeft()+"px"}):t.css({left:0})}function a(t,e){$scrolling=!0,e.preventDefault();var n=c(t.attr("href")),i=n.offset().top;c("html, body").stop().animate({scrollTop:i},1e3,function(){$scrolling=!1})}function l(t){var e=c("h1"),n=e.html().substr(0,e.html().indexOf(":")),i=0,r=[];for(var o in t)r[i]='<a class="link_js_grey" href="#'+o+'">'+t[o]+"</a>",i++;r.length>1?e.html(n+": "+r.join(", ")):e.html(n)}var c=n(1);n(81),$scrolling=!1,c(function(){c('a[href="#feedback-block"]').not('a[href="#"],.noroll-link').on("click",function(t){a(c(this),t)}),c("h1").on("click",'a[href*="#"]',function(t){c(this).not('a[href="#"],.noroll-link')&&a(c(this),t)}),i(),r(),window.topics&&l(window.topics),o(),setTimeout(s,300),c(window).on("resize",function(){o(),setTimeout(s,300)}),c(window).scroll(function(){s()})})},function(t,e,n){t.exports=n(82)},function(t,e){/*!
	Waypoints - 3.1.1
	Copyright © 2011-2015 Caleb Troughton
	Licensed under the MIT license.
	https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
	*/
!function(){"use strict";function t(i){if(!i)throw new Error("No options passed to Waypoint constructor");if(!i.element)throw new Error("No element option passed to Waypoint constructor");if(!i.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,i),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=i.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,e+=1}var e=0,n={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var i in n)e.push(n[i]);for(var r=0,o=e.length;o>r;r++)e[r][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=r.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,i[t.waypointContextKey]=this,n+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,i={},r=window.Waypoint,o=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete i[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,r.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||r.isTouch)&&(e.didScroll=!0,r.requestAnimationFrame(t))})},e.prototype.handleResize=function(){r.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in e){var i=e[n],r=i.newScroll>i.oldScroll,o=r?i.forward:i.backward;for(var s in this.waypoints[n]){var a=this.waypoints[n][s],l=i.oldScroll<a.triggerPoint,c=i.newScroll>=a.triggerPoint,u=l&&c,h=!l&&!c;(u||h)&&(a.queueTrigger(o),t[a.group.id]=a.group)}}for(var d in t)t[d].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?r.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?r.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var i=0,r=t.length;r>i;i++)t[i].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,n=this.adapter.offset(),i={};this.handleScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in t){var o=t[r];for(var s in this.waypoints[r]){var a,l,c,u,h,d=this.waypoints[r][s],f=d.options.offset,p=d.triggerPoint,g=0,v=null==p;d.element!==d.element.window&&(g=d.adapter.offset()[o.offsetProp]),"function"==typeof f?f=f.apply(d):"string"==typeof f&&(f=parseFloat(f),d.options.offset.indexOf("%")>-1&&(f=Math.ceil(o.contextDimension*f/100))),a=o.contextScroll-o.contextOffset,d.triggerPoint=g+a-f,l=p<o.oldScroll,c=d.triggerPoint>=o.oldScroll,u=l&&c,h=!l&&!c,!v&&u?(d.queueTrigger(o.backward),i[d.group.id]=d.group):!v&&h?(d.queueTrigger(o.forward),i[d.group.id]=d.group):v&&o.oldScroll>=d.triggerPoint&&(d.queueTrigger(o.forward),i[d.group.id]=d.group)}}for(var m in i)i[m].flushTriggers();return this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in i)i[t].refresh()},e.findByElement=function(t){return i[t.waypointContextKey]},window.onload=function(){o&&o(),e.refreshAll()},r.requestAnimationFrame=function(e){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;n.call(window,e)},r.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function n(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},r=window.Waypoint;n.prototype.add=function(t){this.waypoints.push(t)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var i=this.triggerQueues[n],r="up"===n||"left"===n;i.sort(r?e:t);for(var o=0,s=i.length;s>o;o+=1){var a=i[o];(a.options.continuous||o===i.length-1)&&a.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(e){this.waypoints.sort(t);var n=r.Adapter.inArray(e,this.waypoints),i=n===this.waypoints.length-1;return i?null:this.waypoints[n+1]},n.prototype.previous=function(e){this.waypoints.sort(t);var n=r.Adapter.inArray(e,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},n.prototype.remove=function(t){var e=r.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(t){return i[t.axis][t.name]||new n(t)},r.Group=n}(),function(){"use strict";function t(t){return t===t.window}function e(e){return t(e)?e:e.defaultView}function n(t){this.element=t,this.handlers={}}var i=window.Waypoint;n.prototype.innerHeight=function(){var e=t(this.element);return e?this.element.innerHeight:this.element.clientHeight},n.prototype.innerWidth=function(){var e=t(this.element);return e?this.element.innerWidth:this.element.clientWidth},n.prototype.off=function(t,e){function n(t,e,n){for(var i=0,r=e.length-1;r>i;i++){var o=e[i];n&&n!==o||t.removeEventListener(o)}}var i=t.split("."),r=i[0],o=i[1],s=this.element;if(o&&this.handlers[o]&&r)n(s,this.handlers[o][r],e),this.handlers[o][r]=[];else if(r)for(var a in this.handlers)n(s,this.handlers[a][r]||[],e),this.handlers[a][r]=[];else if(o&&this.handlers[o]){for(var l in this.handlers[o])n(s,this.handlers[o][l],e);this.handlers[o]={}}},n.prototype.offset=function(){if(!this.element.ownerDocument)return null;var t=this.element.ownerDocument.documentElement,n=e(this.element.ownerDocument),i={top:0,left:0};return this.element.getBoundingClientRect&&(i=this.element.getBoundingClientRect()),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}},n.prototype.on=function(t,e){var n=t.split("."),i=n[0],r=n[1]||"__default",o=this.handlers[r]=this.handlers[r]||{},s=o[i]=o[i]||[];s.push(e),this.element.addEventListener(i,e)},n.prototype.outerHeight=function(e){var n,i=this.innerHeight();return e&&!t(this.element)&&(n=window.getComputedStyle(this.element),i+=parseInt(n.marginTop,10),i+=parseInt(n.marginBottom,10)),i},n.prototype.outerWidth=function(e){var n,i=this.innerWidth();return e&&!t(this.element)&&(n=window.getComputedStyle(this.element),i+=parseInt(n.marginLeft,10),i+=parseInt(n.marginRight,10)),i},n.prototype.scrollLeft=function(){var t=e(this.element);return t?t.pageXOffset:this.element.scrollLeft},n.prototype.scrollTop=function(){var t=e(this.element);return t?t.pageYOffset:this.element.scrollTop},n.extend=function(){function t(t,e){if("object"==typeof t&&"object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}for(var e=Array.prototype.slice.call(arguments),n=1,i=e.length;i>n;n++)t(e[0],e[n]);return e[0]},n.inArray=function(t,e,n){return null==e?-1:e.indexOf(t,n)},n.isEmptyObject=function(t){for(var e in t)return!1;return!0},i.adapters.push({name:"noframework",Adapter:n}),i.Adapter=n}()},function(t,e,n){n(44);var i=n(1),r=n(37),o=["оцените товар","плохо :(","бывает лучше","нормально","хорошо","отлично!"];i(".add_opinion a.cancel_opinion").on("click",function(){var t=i(this).parents(".add_opinion");t.find(".content_opinion").slideToggle(600,function(){t.children("a.write_opinion").css("display","inline-block")})}),i(".add_opinion a.write_opinion").on("click",function(){var t=i(this).parent(".add_opinion");t.find(".content_opinion").slideToggle(600),t.children("a.write_opinion").css("display","none")}),i(".rating_stars .rating_item").click(function(){var t=i(this).index()+1;i(this).parents(".rating_opinion").children(".rating_text").html(" &mdash; "+o[t]),i(this).parent(".rating_stars").children("input.rating_item_value").val(t),i(this).parents(".rating_opinion").children(".error_rating").css("display","none")}).on("mouseover",function(){var t=i(this).index()+1;i(this).parents(".rating_opinion").children(".rating_text").html(" &mdash; "+o[t]),i(this).prevAll().andSelf().addClass("ratings_over")}).on("mouseout",function(){var t=i(this).index()+1;i(this).parents(".rating_opinion").children(".rating_text").html(" &mdash; "+o[t]),i(this).prevAll().andSelf().removeClass("ratings_over")}),i(".rating_stars").on("mouseover",function(){i(this).children().removeClass("ratings_vote")}).on("mouseout",function(){var t=parseInt(i(this).children("input.rating_item_value").val());i(this).parents(".rating_opinion").children(".rating_text").html(" &mdash; "+(isNaN(t)?o[0]:o[t])),i(this).children("i").eq(t-1).prevAll().andSelf().addClass("ratings_vote")}),i(".opinion_form").on("submit",function(){var t=i(this);return i.ajax({type:"POST",url:t.attr("action"),data:t.serialize(),dataType:"JSON",success:function(e){if(e.text&&(t.find(".error_opinion_text").show().html(e.text),t.find(".opinion_text").css("border-color","#ea0000").bind("keydown",function(){i(this).parents(".block_form").children(".error_opinion_text").hide(),i(this).css("border-color","#ccc").unbind("keydown")})),e.star&&t.find(".error_rating").css("display","inline-block"),e.success){var n={text:e.opinionText},o=r.render(i("#opinion_mustache").html(),n);i(".feedback").find(".add_opinion").eq(0).after(o),t[0].reset(),t.find(".rating_item_value").val("0"),t.find(".rating_stars i").removeClass("ratings_vote");var s=t.parents(".add_opinion");s.find(".content_opinion").css("display","none"),s.children("a.write_opinion").css("display","inline-block");var a=i(".opinion_message_block").html();i.colorbox({width:340,transition:"none",fixed:!0,opacity:.75,maxHeight:"95%",className:"popupbox",html:a,onComplete:function(){i(".opinion_message .close_colorbox").on("click",function(){i.colorbox.close()})},onOpen:function(){i(window).trigger("noscroll-enable")},onClosed:function(){i(window).trigger("noscroll-disable")}})}}}),!1}),i(".feedback-show").click(function(t){t.preventDefault();var e=i(".feedback .feedback_item.hidden"),n=3,r=e.length-n;if(1>r)e.slideToggle(600).removeClass("hidden"),i(this).parents(".feedback-button").first().remove();else{var o=0;e.each(function(){return n>o?(i(this).slideToggle(600).removeClass("hidden"),void o++):!1}),n>r&&i(this).parents(".feedback-button").find(".countHidden").text(r)}})},function(t,e,n){n(44),$(".buy-1-click").click(function(t){t.preventDefault(),$.getJSON($(this).attr("href")||$(this).data("href"),function(t){return t.success?void $.colorbox({width:466,transition:"none",fixed:!0,opacity:.75,maxHeights:"95%",className:"popupbox",html:t.success,onComplete:function(){var t=$("#cboxLoadedContent"),e=$(".quickBuyForm form",t),n=$(".complete",t),i=$("input[name=phone]",e),r=$(":submit",e);i.focus(),$(".popup-close, .quickBuyForm .close").on("click",function(){return $.colorbox.close(),!1}),e.on("submit",function(t){if("disabled"!=r.attr("disabled")){t.preventDefault(),r.attr("disabled","disabled"),i.removeClass("field_invalid");var o=$(this).attr("action")+"&phone="+i.val();$.getJSON(o,function(t){if(r.removeAttr("disabled"),t.error)return $(".error",e).text(t.error),$.colorbox.resize(),!1;var i=t.order,o=i.items[0];return i.id?("function"==typeof window.ga_oneClick&&ga_oneClick(i.id,o.id,o.name,o.topic,i.sumTotal,i.deliveryPrice),"function"==typeof window.adlabs_oneClick&&adlabs_oneClick(),$(".order-id",n).text(i.id),$(".error",e).text(""),e.hide(),n.show(),$("#JsCounters").append(t.counters),void $.colorbox.resize()):!1})}})},onOpen:function(){$(window).trigger("noscroll-enable")},onClosed:function(){$(window).trigger("noscroll-disable")}}):!1})})},function(t,e){$(document).ready(function(t){requrie("");var e={$AutoPlay:!0,$ArrowNavigatorOptions:{$Class:$JssorArrowNavigator$,$ChanceToShow:2}},n=new $JssorSlider$("slider1_container",e);t(document).on("mouseenter",".brand-promo .slider .previews .item",function(){var e=t(this).index(".brand-promo .slider .previews .item");return n.$PlayTo(e),!1})})},function(module,exports){$(function(){function in_array(t,e,n){var i,r=!1,n=!!n;for(i in e)if(n&&e[i]===t||!n&&e[i]==t){r=!0;break}return r}function MakeArrayForSelector(){$("#ServiceBrand option:not(.default)").each(function(){brandAll.push($(this))}),$("#ServiceTopic option:not(.default)").each(function(){topicAll.push($(this))})}var brandAll=[],topicAll=[];MakeArrayForSelector(),$("#ServiceTopic").on("change",function(){var selectedId=$("#ServiceBrand").val();if($("#ServiceBrand").empty(),""==$(this).val())void 0!=selectedId||""!=selectedId?$("#ServiceBrand").append('<option class="default" value="">Выбрать производителя</option>'):$("#ServiceBrand").append('<option class="default" selected="selected" value="">Выбрать производителя</option>'),$.each(brandAll,function(){$("#ServiceBrand").append($(this))}),void 0==selectedId&&""==selectedId||$("#ServiceBrand").val(selectedId);else{var opt=$("option:selected",this),brandsAuth=eval(opt.data("auth")),items=[];$("#ServiceBrand").append('<option class="default" value="">Выбрать производителя</option>'),$.each(brandAll,function(){var t=$(this).data("id");in_array(t,brandsAuth)&&($("#ServiceBrand").append($(this)),items.push($(this)))}),$("#ServiceBrand").val(selectedId);var exByIndex=Math.floor(Math.random()*items.length);$("#ServiceSelectorBrandEx").text(items[exByIndex].text().trim()),$("#ServiceSelectorBrandEx").attr({bid:items[exByIndex].data("id")})}}),$("#ServiceBrand").on("change",function(){var selectedId=$("#ServiceTopic").val();if($("#ServiceTopic").empty(),""==$(this).val())void 0!=selectedId||""!=selectedId?$("#ServiceTopic").append('<option class="default" value="">Выбрать товар</option>'):$("#ServiceTopic").append('<option class="default" selected="selected" value="">Выбрать товар</option>'),$.each(topicAll,function(){$("#ServiceTopic").append($(this))}),void 0==selectedId&&""==selectedId||$("#ServiceTopic").val(selectedId);else{var opt=$("option:selected",this),topicsAuth=eval(opt.data("auth")),items=[];$("#ServiceTopic").append('<option class="default" value="">Выбрать товар</option>'),$.each(topicAll,function(){var t=$(this).data("id");in_array(t,topicsAuth)&&($("#ServiceTopic").append($(this)),items.push($(this)))}),$("#ServiceTopic").val(selectedId);var exByIndex=Math.floor(Math.random()*items.length);$("#ServiceSelectorTopicEx").text(items[exByIndex].text().trim()),$("#ServiceSelectorTopicEx").attr({tid:items[exByIndex].data("id")})}}),$("#ServiceSelectorTopicEx").click(function(){$("#ServiceTopic").val($(this).attr("tid")),$("#ServiceTopic").trigger("change")}),$("#ServiceSelectorBrandEx").click(function(){$("#ServiceBrand").val($(this).attr("bid")),$("#ServiceBrand").trigger("change")}),$("#ServiceTopic").change(),$("#ServiceBrand").change()})},function(t,e,n){var i,r;i=[n(1)],r=function(t){t(function(){function e(){YMaps.load(function(){c=r(i,YMaps.GeoObjectCollection),s=new YMaps.Map(h[0]);var e=new YMaps.Geocoder(h.data("city"));YMaps.Events.observe(e,e.Events.Load,function(e){return e.length()&&s.setBounds(e.get(0).getBounds()),1==t(".serviceOneAddress").length?void t(".serviceOneAddress").trigger("click"):void 0});var o=t(".serviceOneAddressLabel:first").data("city_id");n(o),s.addControl(new YMaps.ToolBar),s.addControl(new YMaps.Zoom),s.addControl(new YMaps.ScaleLine)})}function n(e){s.removeOverlay(a),s.removeOverlay(l);var n=[];t(".serviceOneAddressLabel").each(function(){var i=e==t(this).data("city_id");if(i){var r=t(this).data("is_city_label");r?t(this).parents(".serviceOneAddress").addClass("Active"):n.push({address:t(this).text(),text:t(this).text()+"<br /><b>"+t(this).parent().find(".serviceOnePhones").text()+"</b>"})}}),l=new i(n),s.addOverlay(l),s.setZoom(9)}function i(t){function e(t){var e=new YMaps.Geocoder(t.address);r++,o=o.concat(YMaps.Events.observe(e,[e.Events.Load,e.Events.Fault],function(e){e.length()&&(e.get(0).setBalloonContent(t.text),i.add(e.get(0))),r--,n()}))}function n(){if(!r){YMaps.Events.notify(i,"Load",i);for(var t=0,e=o.length;e>t;t++)o[t].cleanup()}}YMaps.GeoObjectCollection.call(this);for(var i=this,r=0,o=[],s=0,a=t.length;a>s;s++)e(t[s])}function r(t,e){var n=function(){};return n.prototype=e.prototype,n.prototype.constructor=e,t.prototype=new n}function o(t,e,n){s.removeOverlay(a),s.removeOverlay(l);var i=new YMaps.Geocoder(t,{results:1,boundedBy:s.getBounds()});YMaps.Events.observe(i,i.Events.Load,function(){this.length()&&(a=this.get(0),a.text=e+"<br /><b>"+n+"</b>",s.addOverlay(a),s.setBounds(a.getBounds()))}),YMaps.Events.observe(i,i.Events.Fault,function(t,e){alert("Произошла ошибка: "+e)})}var s,a,l,c,u="https://api-maps.yandex.ru/1.1/index.xml?loadByRequire=1",h=t("#YMapsID");t.getScript(u,e),t(".serviceOneAddress").click(function(){t(".serviceOneAddress").removeClass("Active");var e=t(this).find(".serviceOneAddressLabel").data("is_city_label");if(e)n(t(this).find(".serviceOneAddressLabel").data("city_id"));else{t(this).addClass("Active");var i=t(this).find(".serviceOneAddressLabel").text().trim(),r=t(this).find(".serviceOnePhones").text().trim(),s=t(".zsk4 h1").text();o(i,s+", "+i,r)}})})}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e){!function(){var t="e96_visited_topics",e=getCookie(t),n=$("#catalog-listing").data("topic-id"),i=[];void 0!=e&&(i=e.split(","));var r=$(".topic-video-big"),o=$(".topic-video-small"),s=$("#category_page_level2_top"),a=$(".brands_filter input:checked").length;-1!=i.indexOf(String(n))||a?(r.remove(),o.show()):(i.push(n),r.show(),s.hide()),e=i.join(","),setCookie(t,e,{expires:31536e3,path:"/"}),$(".topic-video-big .btn-close").click(function(){r.fadeOut(function(){$(this).remove()}),o.fadeIn()})}()},function(t,e){!function(t){var e={method:"toggle",moreText:"Читать далее",lessText:"Скрыть",linkClass:"more-link",toggleCallback:function(){}},n=function(n,i,r){this.element=t(n),this.options=t.extend({},e,i),"true"!=this.element.data("truncated")&&(this.after=null,this.before=null,this.dotted=t("<span>").html("..."),this.link=t("<a>").attr("href","#").addClass(this.options.linkClass).html(this.options.moreText),this[r]()&&this.init())};n.prototype={init:function(){this.link.on("click",function(t){t.preventDefault(),this.after[this.options.method](),this.dotted[this.options.method](),this.options.toggleCallback(),this.link.html(this.after.is(":visible")?this.options.lessText:this.options.moreText)}.bind(this)),this.element.html("").data("truncated","true").append(this.before).append(this.after.hide()).append(this.link)},processContent:function(){var e=this.element.find(this.options.target);return!e.length||e.length<=this.options.count?!1:(this.before=t("<div>"),this.after=t("<div>"),e.each(function(t,e){t<this.options.count?this.before.append(e):this.after.append(e)}.bind(this)),!0)},processText:function(){if(this.element.find("*").length)return!1;var e=this.element.html();if(e.length<this.options.size)return!1;var n=e.indexOf(" ",this.options.size);return-1==n?!1:(this.before=t("<span>").append(e.substring(0,n)).append(this.dotted),this.after=t("<span>").append(e.substring(n,e.length-1)),!0)}},t.fn.truncateText=function(e){var i={size:500};return this.each(function(){t.data(this,"plugin_truncateText")||t.data(this,"plugin_truncateText",new n(this,t.extend({},i,e),"processText"))})},t.fn.truncateContent=function(e){var i={count:2,target:"p"};return this.each(function(){t.data(this,"plugin_truncateContent")||t.data(this,"plugin_truncateContent",new n(this,t.extend({},i,e),"processContent"))})}}(jQuery)},function(t,e){!function(t){t.fn.TableHeadFixed=function(){function e(){s.each(function(e,n){var i=t(n),r=i.children("thead");c[e]={table:i,thead:r,thead_h:r.height(),fixed:null}})}function n(t){if(c[t].fixed)for(var e=c[t].thead.find("td,th"),n=c[t].fixed.find("td,th"),t=0,i=e.size();i>t;t++)n.eq(t).width(e.eq(t).width())}function i(){s.each(function(t){if(c[t].fixed){var e=c[t].table.width();c[t].fixed.width!=e&&(c[t].fixed.width(e),n(t))}}),r()}function r(){var t=(a&&a.scrollTop||l&&l.scrollTop||0)-(a.clientTop||0);s.each(function(e,n){var i=c[e].table.offset();i.top<t&&i.top+c[e].table.height()-c[e].thead_h>t?(c[e].fixed||o(e),c[e].fixed&&(c[e].fixed.css({left:i.left,top:0}),c[e].fixed.show())):c[e].fixed&&c[e].fixed.hide()})}function o(e){var i=t(document.createElement("table")).addClass(c[e].table.attr("class")).addClass("noprint").css({position:"fixed",width:c[e].table.width()}),r=c[e].thead.clone().wrap(i).parent();s.parent().prepend(r),c[e].fixed=r,n(e)}var s=this;if(0!=s.length){var a=document.documentElement,l=document.body,c=[];e(),t(window).bind("scroll",function(){r()}),t(window).bind("resize",function(){i()})}}}(jQuery)},function(t,e){"use strict";var n,i,r="http://api-maps.yandex.ru/2.1/?lang=ru_RU";i=function(t){this.options=$.extend({linkSelector:".map-link"},t),this.init.call(this)},i.prototype.init=function(){$(document).on("click",this.options.linkSelector,this.onClick.bind(this))},i.prototype.onClick=function(t){t.preventDefault();var e=$(t.currentTarget),n=$('<div class="contacts-yandex-map loading" data-address="'+e.data("address")+'"></div>');n.on("loaded",function(){n.removeClass("loading")}),this.popup.call(this,n)},i.prototype.popup=function(t){$.colorbox({transition:"none",width:"90%",height:"90%",fixed:!0,opacity:.75,maxHeight:"95%",className:"popupbox",html:t,onComplete:function(){$(".popup-close").on("click",function(t){t.preventDefault(),$.colorbox.close()}),$(window).trigger("basket-buttons-init"),new n(t)},onOpen:function(){$(window).trigger("noscroll-enable")},onClosed:function(){$(window).trigger("noscroll-disable")}})},n=function(t,e){this.element=t,this.options=$.extend({mapZoom:16,controls:["smallMapDefaultSet"]},e),"undefined"==typeof ymaps?$.getScript(r,function(){ymaps.ready(this.initMap.bind(this))}.bind(this)):ymaps.ready(this.initMap.bind(this))},n.prototype.initMap=function(){this.address=this.element.data("address")||null,null!=this.address&&this.GeocodeMap(this.address)},n.prototype.DrawMap=function(t){this.map=new ymaps.Map(this.element[0],{center:t,controls:this.options.controls,zoom:this.options.mapZoom}),this.element.trigger("loaded");var e=new ymaps.Placemark(t);this.map.geoObjects.add(e)},n.prototype.GeocodeMap=function(t){ymaps.geocode(t,{results:1}).then(ymaps.util.bind(function(t){var e=t.geoObjects.get(0);this.DrawMap(e.geometry.getCoordinates())},this))},new i},function(t,e){$(window).load(function(){$.getCachedScript("https://apis.google.com/js/plusone.js"),$.getCachedScript("http://cdn.connect.mail.ru/js/loader.js"),$.getCachedScript("http://platform.twitter.com/widgets.js"),$.getCachedScript("http://vk.com/js/api/openapi.js?116").done(function(t,e){VK.init({apiId:3089818,onlyWidgets:!0}),document.getElementById("vk_groups")&&VK.Widgets.Group("vk_groups",{mode:0,width:"200",height:"400"},1791950),document.getElementById("vk_groups_contacts")&&VK.Widgets.Group("vk_groups_contacts",{mode:0,width:"200",height:"300"},1791950),document.getElementById("vk_groups_index")&&VK.Widgets.Group("vk_groups_index",{mode:0,width:"610",height:"200"},1791950),document.getElementById("vk_like")&&VK.Widgets.Like("vk_like",{type:"button",pageUrl:"http://e96.ru"}),document.getElementById("product_vk_like")&&VK.Widgets.Like("product_vk_like",{type:"button",pageUrl:window.location.href}),setTimeout(function(){$(".product-like-buttons").show(),$(".product-like-buttons .fb-like span, .product-like-buttons .fb-like span iframe").css({width:"200px",height:"21px"})},300)}),function(t,e,n){var i,r=t.getElementsByTagName(e)[0];t.getElementById(n)||(i=t.createElement(e),i.id=n,i.src="//connect.facebook.net/ru_RU/all.js#xfbml=1",r.parentNode.insertBefore(i,r))}(document,"script","facebook-jssdk")})},function(t,e,n){var i,r;i=[n(1),n(94),n(96)],r=function(t,e){var n={target:"#imgListingFull",countSlide:6,preloadTimeout:500,mousewheel:!1,autolisting:!0,start:0,actionChange:"click",actionListNav:"click",actionFullNav:"click",classList:"imglisting-list",classListContainer:"imglisting-list-container",classListNav:"imglisting-list-nav",classListPrev:"imglisting-list-prev",classListPrevDisabled:"imglisting-list-prev-disabled",classListNext:"imglisting-list-next",classListNextDisabled:"imglisting-list-next-disabled",classListItem:"imglisting-list-item",classListItemActive:"imglisting-list-item-active",classImageContain:"imglisting-image-contain",classFull:"imglisting-full",classFullOne:"imglisting-full-one",classFullItem:"imglisting-full-item",classFullLoad:"imglisting-full-load",classFullNav:"imglisting-full-nav",classFullPrev:"imglisting-full-prev",classFullPrevDisabled:"imglisting-full-prev-disabled",classFullNext:"imglisting-full-next",classFullNextDisabled:"imglisting-full-next-disabled",callbackInit:null,callbackSlideAfter:null,callbackSlideBefore:null,callbackChangeImageAfter:null,callbackChangeImageBefore:null,keys:{prev:"38",next:"40"}},i=!1;t(window).bind("load.imglisting",function(){i=!0}),t.imglisting=function(e,i){return this.options=t.extend({},n,i||{}),this.locked=!1,this.slides=null,this.list=null,this.listContainer=null,this.listNav=null,this.listPrev=null,this.listNext=null,this.listItems=null,this.full=null,this.fullContainer=null,this.fullNav=null,this.fullNext=null,this.fullPrev=null,this.slider=null,this.funcResize=function(){this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){this.reload()}.bind(this),100)}.bind(this),this.funcKeydown=function(e){if(!t("input:focus, textarea:focus, select:focus").length){var n=e.keyCode,i=this.options.keys;return 0==i.next.indexOf(n)?(this.fullToNext(),!1):0==i.prev.indexOf(n)?(this.fullToPrev(),!1):!0}}.bind(this),"UL"==e.nodeName.toUpperCase()||"OL"==e.nodeName.toUpperCase()?(this.slides=t(e),this.list=this.list.parents("."+this.options.classList),this.listContainer=this.list.parents("."+this.options.classListContainer)):(this.list=t(e).find("."+this.options.classList),this.slides=t(e).find("ul,ol").eq(0),this.listContainer=t(e).find("."+this.options.classListContainer)),this.slider=t(".slider .imglisting").eq(0),this.slides.size()?(this.listItems=t(">li",this.slides),this.listItems.size()?(this.listItems.addClass(this.options.classListItem),this.list.size()||(this.list=this.slides.wrap("<div></div>").parent()),this.list.hasClass(this.options.classList)||this.list.addClass(this.options.classList),this.listContainer.size()||(this.listContainer=this.slides.wrap("<div></div>").parent()),this.listContainer.hasClass(this.options.classListContainer)||this.listContainer.addClass(this.options.classListContainer),this.listNav=this.list.find("."+this.options.classListNav),this.listNav.size()||(this.listNav=t("<div></div>").addClass(this.options.classListNav),this.list.append(this.listNav)),this.listPrev=this.list.find("."+this.options.classListPrev),this.listPrev.size()||(this.listPrev=t('<a href="#"></a>').attr("title","Предыдущие 6 изображений").addClass(this.options.classListPrev),this.listNav.append(this.listPrev)),this.listNext=this.list.find("."+this.options.classListNext),this.listNext.size()||(this.listNext=t('<a href="#"></a>').attr("title","Следующие 6 изображений").addClass(this.options.classListNext),this.listNav.append(this.listNext)),this.full=t(this.options.target),this.full.size()&&(this.fullContainer=this.full.parents("."+this.options.classFull),this.fullContainer.size()||(this.fullContainer=this.full.wrap("<div></div>").parent().addClass(this.options.classFull))),this.setup(),void(null!==this.options.callbackInit&&this.options.callbackInit(this,"init"))):!1):!1};var r=t.imglisting;r.fn=r.prototype={imglisting:"0.1.0"},r.fn.extend=r.extend=t.extend,r.fn.extend({setup:function(){t(window).on({"resize.imglisting":this.funcResize,"keydown.imglisting":this.funcKeydown}),this.current=this.options.start,this.locked=!1,this.styling(),this.change(this.current),this.resize();var e=this;this.full.size()&&this.listItems.find("a")[this.options.actionChange](function(n){if(n.preventDefault(),"mouseleave"!=n.type){var i=t(this).parents("li");e.change(e.listItems.index(i))}}),this.options.mousewheel&&this.list.mousewheel&&this.list.mousewheel(function(t,n){t.preventDefault(),n>0&&e.listToPrev(e.options.countSlide),0>n&&e.listToNext(e.options.countSlide)}),this.listPrev.on(this.options.actionListNav,function(t){t.preventDefault(),e.listToPrev(e.options.countSlide)}),this.listNext.on(this.options.actionListNav,function(t){t.preventDefault(),e.listToNext(e.options.countSlide)})},reload:function(){this.resize()},styling:function(){this.slides.css({position:"relative",top:0}),this.listContainer.css({position:"relative"}),this.listItems.css({})},resize:function(){this.slides.height(r.itemsHeight(this.listItems)),this.slider.height(t(window).height()-350),this.slider.css("line-height",this.slider.height()+"px"),this.first=null,this.last=null,this.count=this.listItems.length-1;var e=r.intval(this.slides.css("top")),n=this.listContainer.height()-e,i=this.listItems.filter(function(){var i=t(this).outerHeight(!0);return e+=i,n-=i,e>=i&&n>=0});this.first=i.first(),this.last=i.last(),this.listPrev.removeClass(this.options.classListPrevDisabled),
this.listNext.removeClass(this.options.classListNextDisabled);var o=0==this.listItems.index(this.first),s=this.listItems.index(this.last)==this.count;this.count||(this.list.hide(),this.fullContainer.addClass(this.options.classFullOne)),o&&s?this.listNav.hide():(o&&this.listPrev.addClass(this.options.classListPrevDisabled),s&&this.listNext.addClass(this.options.classListNextDisabled))},fullToPrev:function(){0!=this.current&&this.change(r.intval(this.current)-1)},fullToNext:function(){this.current!=this.count&&this.change(r.intval(this.current)+1)},listToPrev:function(t){if(!this.locked){null!==this.options.callbackSlideAfter&&this.options.callbackSlideAfter(this,"prev");var e=this.listItems.index(this.first),n=e-t;if(0!=e){0>n&&(n=0);var i=this.listItems.filter(function(t){return t>=n&&e>t}),o=r.itemsWidth(i),s=r.intval(this.slides.css("top")),a=s+o;a>0&&(a=0),this.locked=!0,this.slides.animate({top:a+"px"},function(){this.locked=!1,this.resize(),null!==this.options.callbackSlideBefore&&this.options.callbackSlideBefore(this,"prev")}.bind(this))}}},listToNext:function(t){if(!this.locked){null!==this.options.callbackSlideAfter&&this.options.callbackSlideAfter(this,"next");var e=this.listItems.index(this.last),n=e+t;if(e!=this.count){n>this.count&&(n=this.count);var i=this.listItems.filter(function(t){return t>e&&n>=t}),o=r.itemsHeight(i),s=r.intval(this.slides.css("top")),a=s-o,l=this.slides.height()+(a-this.list.height());0>l&&(a-=l),this.locked=!0,this.slides.animate({top:a+"px"},function(){this.locked=!1,this.resize(),null!==this.options.callbackSlideBefore&&this.options.callbackSlideBefore(this,"next")}.bind(this))}}},change:function(n){if(!this.locked){var i=!0,o=this.listItems.eq(n);if(o.size()){if(this.listItems.removeClass(this.options.classListItemActive),o.addClass(this.options.classListItemActive),this.resize(),this.current=n,this.options.autolisting){var s=this.listItems.index(this.first),a=this.listItems.index(this.last);if(this.current<=s){var l=this.current<s?s-this.current:1;this.listToPrev(l)}if(this.current>=a){var l=this.current>a?this.current-a:1;this.listToNext(l)}}var c=o.find("a"),u=c.data("href")?c.data("href"):c.attr("href"),h=c.find("img").attr("alt");null!==this.options.callbackChangeImageAfter&&this.options.callbackChangeImageAfter(this,f),void 0!==d&&clearTimeout($preload);var d=setTimeout(function(){i&&this.full.addClass(this.options.classFullLoad)}.bind(this),this.options.preloadTimeout);if(r.isImage(u)){var f=this.full.find("img");if(!f.size()){var f=t("<img />");this.full.html(f)}f.on("load",function(){clearTimeout(d),f.css({visibility:"visible"}),this.full.removeClass(this.options.classFullLoad).addClass(this.options.classImageContain),i=!1,null!==this.options.callbackChangeImageBefore&&this.options.callbackChangeImageBefore(this,f)}.bind(this)),f.attr("src")==u||r.imageLoaded(f)?f.trigger("load"):f.css({visibility:"hidden"}).attr("src","").attr("alt",h).attr("src",u)}else if(void 0!=c.data("type")&&"content"==c.data("type"))t.ajax({dataType:"html",url:u,success:function(t){clearTimeout(d),this.full.html(t).removeClass(this.options.classFullLoad).addClass(this.options.classImageContain)}.bind(this)});else if(void 0!=c.data("type")&&"youtube"==c.data("type")){var p=t('<iframe width="100%" height="100%" src="'+u+'&wmode=opaque" frameborder="0" allowfullscreen wmode="opaque"></iframe>');this.full.removeClass(this.options.classImageContain).removeClass(this.options.classFullLoad).html(p),i=!1}else{clearTimeout(d);var p=t("<div>Для просмотра контента установите flash плеер</div>").addClass(this.options.classFullItem).attr("id","flashContent");this.full.html(p).removeClass(this.options.classImageContain).removeClass(this.options.classFullLoad),e.embedSWF(u,"flashContent","100%","100%","3",!1,{language:"ru"},{allowFullScreen:"true",allowScriptAccess:"sameDomain",wmode:"direct",scale:"noScale",menu:"false",abgcolor:"#00FFFF"}),i=!1,null!==this.options.callbackChangeImageBefore&&this.options.callbackChangeImageBefore(this,f)}}}}}),r.extend({defaults:function(e){return t.extend(n,e||{})},intval:function(t){return t=parseInt(t,10),isNaN(t)?0:t},windowLoaded:function(){i=!0},itemsWidth:function(e){var n=0;return e.each(function(){n+=r.intval(t(this).outerWidth(!0))}),n},itemsHeight:function(e){var n=0;return e.each(function(){n+=r.intval(t(this).outerHeight(!0))}),n},imageLoaded:function(t){return this.complete&&("undefined"==typeof t.naturalWidth||0!==t.naturalWidth)},isImage:function(t){return/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i.test(t)},isFlash:function(t){return/\.(swf)((#|\?).*)?$/i.test(t)}}),t.fn.imglisting=function(e){if("string"==typeof e){var n=t(this).data("imglisting"),i=Array.prototype.slice.call(arguments,1);return n[e].apply(n,i)}return this.each(function(){var n=t(this).data("imglisting");n?(e&&t.extend(n.options,e),n.reload()):t(this).data("imglisting",new r(this,e))})}}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){t.exports=n(95)},function(t,e){/*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>
	    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
	*/
var n=function(){function t(){if(!W&&document.getElementsByTagName("body")[0]){try{var t,e=y("span");e.style.display="none",t=N.getElementsByTagName("body")[0].appendChild(e),t.parentNode.removeChild(t),t=null,e=null}catch(n){return}W=!0;for(var i=U.length,r=0;i>r;r++)U[r]()}}function e(t){W?t():U[U.length]=t}function i(t){if(typeof z.addEventListener!=O)z.addEventListener("load",t,!1);else if(typeof N.addEventListener!=O)N.addEventListener("load",t,!1);else if(typeof z.attachEvent!=O)w(z,"onload",t);else if("function"==typeof z.onload){var e=z.onload;z.onload=function(){e(),t()}}else z.onload=t}function r(){var t=N.getElementsByTagName("body")[0],e=y(j);e.setAttribute("style","visibility: hidden;"),e.setAttribute("type",B);var n=t.appendChild(e);if(n){var i=0;!function r(){if(typeof n.GetVariable!=O)try{var s=n.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),G.pv=[b(s[0]),b(s[1]),b(s[2])])}catch(a){G.pv=[8,0,0]}else if(10>i)return i++,void setTimeout(r,10);t.removeChild(e),n=null,o()}()}else o()}function o(){var t=V.length;if(t>0)for(var e=0;t>e;e++){var n=V[e].id,i=V[e].callbackFn,r={success:!1,id:n};if(G.pv[0]>0){var o=m(n);if(o)if(!_(V[e].swfVersion)||G.wk&&G.wk<312)if(V[e].expressInstall&&a()){var u={};u.data=V[e].expressInstall,u.width=o.getAttribute("width")||"0",u.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(u.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(u.align=o.getAttribute("align"));for(var h={},d=o.getElementsByTagName("param"),f=d.length,p=0;f>p;p++)"movie"!=d[p].getAttribute("name").toLowerCase()&&(h[d[p].getAttribute("name")]=d[p].getAttribute("value"));l(u,h,n,i)}else c(o),i&&i(r);else C(n,!0),i&&(r.success=!0,r.ref=s(n),r.id=n,i(r))}else if(C(n,!0),i){var g=s(n);g&&typeof g.SetVariable!=O&&(r.success=!0,r.ref=g,r.id=g.id),i(r)}}}function s(t){var e=null,n=m(t);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(e=typeof n.SetVariable!==O?n:n.getElementsByTagName(j)[0]||n),e}function a(){return!K&&_("6.0.65")&&(G.win||G.mac)&&!(G.wk&&G.wk<312)}function l(t,e,n,i){var r=m(n);if(n=v(n),K=!0,S=i||null,T={success:!1,id:n},r){"OBJECT"==r.nodeName.toUpperCase()?(k=u(r),$=null):(k=r,$=n),t.id=L,(typeof t.width==O||!/%$/.test(t.width)&&b(t.width)<310)&&(t.width="310"),(typeof t.height==O||!/%$/.test(t.height)&&b(t.height)<137)&&(t.height="137");var o=G.ie?"ActiveX":"PlugIn",s="MMredirectURL="+encodeURIComponent(z.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+o+"&MMdoctitle="+encodeURIComponent(N.title.slice(0,47)+" - Flash Player Installation");if(typeof e.flashvars!=O?e.flashvars+="&"+s:e.flashvars=s,G.ie&&4!=r.readyState){var a=y("div");n+="SWFObjectNew",a.setAttribute("id",n),r.parentNode.insertBefore(a,r),r.style.display="none",p(r)}d(t,e,n)}}function c(t){if(G.ie&&4!=t.readyState){t.style.display="none";var e=y("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(u(t),e),p(t)}else t.parentNode.replaceChild(u(t),t)}function u(t){var e=y("div");if(G.win&&G.ie)e.innerHTML=t.innerHTML;else{var n=t.getElementsByTagName(j)[0];if(n){var i=n.childNodes;if(i)for(var r=i.length,o=0;r>o;o++)1==i[o].nodeType&&"PARAM"==i[o].nodeName||8==i[o].nodeType||e.appendChild(i[o].cloneNode(!0))}}return e}function h(t,e){var n=y("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+t+"'>"+e+"</object>",n.firstChild}function d(t,e,n){var i,r=m(n);if(n=v(n),G.wk&&G.wk<312)return i;if(r){var o,s,a,l=y(G.ie?"div":j);typeof t.id==O&&(t.id=n);for(a in e)e.hasOwnProperty(a)&&"movie"!==a.toLowerCase()&&f(l,a,e[a]);G.ie&&(l=h(t.data,l.innerHTML));for(o in t)t.hasOwnProperty(o)&&(s=o.toLowerCase(),"styleclass"===s?l.setAttribute("class",t[o]):"classid"!==s&&"data"!==s&&l.setAttribute(o,t[o]));G.ie?q[q.length]=t.id:(l.setAttribute("type",B),l.setAttribute("data",t.data)),r.parentNode.replaceChild(l,r),i=l}return i}function f(t,e,n){var i=y("param");i.setAttribute("name",e),i.setAttribute("value",n),t.appendChild(i)}function p(t){var e=m(t);e&&"OBJECT"==e.nodeName.toUpperCase()&&(G.ie?(e.style.display="none",function n(){if(4==e.readyState){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode.removeChild(e)}else setTimeout(n,10)}()):e.parentNode.removeChild(e))}function g(t){return t&&t.nodeType&&1===t.nodeType}function v(t){return g(t)?t.id:t}function m(t){if(g(t))return t;var e=null;try{e=N.getElementById(t)}catch(n){}return e}function y(t){return N.createElement(t)}function b(t){return parseInt(t,10)}function w(t,e,n){t.attachEvent(e,n),H[H.length]=[t,e,n]}function _(t){t+="";var e=G.pv,n=t.split(".");return n[0]=b(n[0]),n[1]=b(n[1])||0,n[2]=b(n[2])||0,e[0]>n[0]||e[0]==n[0]&&e[1]>n[1]||e[0]==n[0]&&e[1]==n[1]&&e[2]>=n[2]}function x(t,e,n,i){var r=N.getElementsByTagName("head")[0];if(r){var o="string"==typeof n?n:"screen";if(i&&(A=null,I=null),!A||I!=o){var s=y("style");s.setAttribute("type","text/css"),s.setAttribute("media",o),A=r.appendChild(s),G.ie&&typeof N.styleSheets!=O&&N.styleSheets.length>0&&(A=N.styleSheets[N.styleSheets.length-1]),I=o}A&&(typeof A.addRule!=O?A.addRule(t,e):typeof N.createTextNode!=O&&A.appendChild(N.createTextNode(t+" {"+e+"}")))}}function C(t,e){if(Y){var n=e?"visible":"hidden",i=m(t);W&&i?i.style.visibility=n:"string"==typeof t&&x("#"+t,"visibility:"+n)}}function E(t){var e=/[\\\"<>\.;]/,n=null!=e.exec(t);return n&&typeof encodeURIComponent!=O?encodeURIComponent(t):t}var k,$,S,T,A,I,O="undefined",j="object",M="Shockwave Flash",R="ShockwaveFlash.ShockwaveFlash",B="application/x-shockwave-flash",L="SWFObjectExprInst",D="onreadystatechange",z=window,N=document,P=navigator,F=!1,U=[],V=[],q=[],H=[],W=!1,K=!1,Y=!0,Q=!1,G=function(){var t=typeof N.getElementById!=O&&typeof N.getElementsByTagName!=O&&typeof N.createElement!=O,e=P.userAgent.toLowerCase(),n=P.platform.toLowerCase(),i=n?/win/.test(n):/win/.test(e),r=n?/mac/.test(n):/mac/.test(e),o=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,s="Microsoft Internet Explorer"===P.appName,a=[0,0,0],l=null;if(typeof P.plugins!=O&&typeof P.plugins[M]==j)l=P.plugins[M].description,l&&typeof P.mimeTypes!=O&&P.mimeTypes[B]&&P.mimeTypes[B].enabledPlugin&&(F=!0,s=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=b(l.replace(/^(.*)\..*$/,"$1")),a[1]=b(l.replace(/^.*\.(.*)\s.*$/,"$1")),a[2]=/[a-zA-Z]/.test(l)?b(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof z.ActiveXObject!=O)try{var c=new ActiveXObject(R);c&&(l=c.GetVariable("$version"),l&&(s=!0,l=l.split(" ")[1].split(","),a=[b(l[0]),b(l[1]),b(l[2])]))}catch(u){}return{w3:t,pv:a,wk:o,ie:s,win:i,mac:r}}();(function(){G.w3&&((typeof N.readyState!=O&&("complete"===N.readyState||"interactive"===N.readyState)||typeof N.readyState==O&&(N.getElementsByTagName("body")[0]||N.body))&&t(),W||(typeof N.addEventListener!=O&&N.addEventListener("DOMContentLoaded",t,!1),G.ie&&(N.attachEvent(D,function e(){"complete"==N.readyState&&(N.detachEvent(D,e),t())}),z==top&&!function n(){if(!W){try{N.documentElement.doScroll("left")}catch(e){return void setTimeout(n,0)}t()}}()),G.wk&&!function i(){return W?void 0:/loaded|complete/.test(N.readyState)?void t():void setTimeout(i,0)}()))})();U[0]=function(){F?r():o()};(function(){G.ie&&window.attachEvent("onunload",function(){for(var t=H.length,e=0;t>e;e++)H[e][0].detachEvent(H[e][1],H[e][2]);for(var i=q.length,r=0;i>r;r++)p(q[r]);for(var o in G)G[o]=null;G=null;for(var s in n)n[s]=null;n=null})})();return{registerObject:function(t,e,n,i){if(G.w3&&t&&e){var r={};r.id=t,r.swfVersion=e,r.expressInstall=n,r.callbackFn=i,V[V.length]=r,C(t,!1)}else i&&i({success:!1,id:t})},getObjectById:function(t){return G.w3?s(t):void 0},embedSWF:function(t,n,i,r,o,s,c,u,h,f){var p=v(n),g={success:!1,id:p};G.w3&&!(G.wk&&G.wk<312)&&t&&n&&i&&r&&o?(C(p,!1),e(function(){i+="",r+="";var e={};if(h&&typeof h===j)for(var v in h)e[v]=h[v];e.data=t,e.width=i,e.height=r;var m={};if(u&&typeof u===j)for(var y in u)m[y]=u[y];if(c&&typeof c===j)for(var b in c)if(c.hasOwnProperty(b)){var w=Q?encodeURIComponent(b):b,x=Q?encodeURIComponent(c[b]):c[b];typeof m.flashvars!=O?m.flashvars+="&"+w+"="+x:m.flashvars=w+"="+x}if(_(o)){var E=d(e,m,n);e.id==p&&C(p,!0),g.success=!0,g.ref=E,g.id=E.id}else{if(s&&a())return e.data=s,void l(e,m,n,f);C(p,!0)}f&&f(g)})):f&&f(g)},switchOffAutoHideShow:function(){Y=!1},enableUriEncoding:function(t){Q=typeof t===O?!0:t},ua:G,getFlashPlayerVersion:function(){return{major:G.pv[0],minor:G.pv[1],release:G.pv[2]}},hasFlashPlayerVersion:_,createSWF:function(t,e,n){return G.w3?d(t,e,n):void 0},showExpressInstall:function(t,e,n,i){G.w3&&a()&&l(t,e,n,i)},removeSWF:function(t){G.w3&&p(t)},createCSS:function(t,e,n,i){G.w3&&x(t,e,n,i)},addDomLoadEvent:e,addLoadEvent:i,getQueryParamValue:function(t){var e=N.location.search||N.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return E(e);for(var n=e.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==t)return E(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(K){var t=m(L);t&&k&&(t.parentNode.replaceChild(k,t),$&&(C($,!0),G.ie&&(k.style.display="block")),S&&S(T)),K=!1}},version:"2.3"}}();t.exports=n},function(t,e,n){t.exports=n(97)},function(t,e,n){var i,r,o;/*!
	 * jQuery Mousewheel 3.1.13
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 */
!function(s){r=[n(1)],i=s,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(t){function e(e){var s=e||window.event,a=l.call(arguments,1),c=0,h=0,d=0,f=0,p=0,g=0;if(e=t.event.fix(s),e.type="mousewheel","detail"in s&&(d=-1*s.detail),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(h=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(h=-1*d,d=0),c=0===d?h:d,"deltaY"in s&&(d=-1*s.deltaY,c=d),"deltaX"in s&&(h=s.deltaX,0===d&&(c=-1*h)),0!==d||0!==h){if(1===s.deltaMode){var v=t.data(this,"mousewheel-line-height");c*=v,d*=v,h*=v}else if(2===s.deltaMode){var m=t.data(this,"mousewheel-page-height");c*=m,d*=m,h*=m}if(f=Math.max(Math.abs(d),Math.abs(h)),(!o||o>f)&&(o=f,i(s,f)&&(o/=40)),i(s,f)&&(c/=40,h/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/o),h=Math[h>=1?"floor":"ceil"](h/o),d=Math[d>=1?"floor":"ceil"](d/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=e.clientX-y.left,g=e.clientY-y.top}return e.deltaX=h,e.deltaY=d,e.deltaFactor=o,e.offsetX=p,e.offsetY=g,e.deltaMode=0,a.unshift(e,c,h,d),r&&clearTimeout(r),r=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function n(){o=null}function i(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var r,o,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=s.length;c;)t.event.fixHooks[s[--c]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})},function(t,e,n){!function(t,e){n(99);var i=function(e){this.element=t(e),this.element_wrap=t(".wrap",this.element),this.init()};i.prototype={init:function(){this.carousel=this.element_wrap.on("jcarousel:reloadend",function(){var t=this.element_wrap.jcarousel("fullyvisible").length,e=this.element_wrap.jcarousel("first").outerWidth(!0);this.element.css("max-width",t*e)}.bind(this)).jcarousel(),this.nav(),this.bind()},bind:function(){this.element_wrap.jcarousel("reload"),t(e).on("resize",function(){this.element.removeAttr("style"),this.element_wrap.jcarousel("reload")}.bind(this))},nav:function(){t(".jcarousel-prev",this.element).on("jcarouselcontrol:active",function(){t(this).removeClass("jcarousel-prev-disabled")}).on("jcarouselcontrol:inactive",function(){t(this).addClass("jcarousel-prev-disabled")}).jcarouselControl({target:"-=1",method:function(){this.carousel().jcarousel("scroll","-="+this.carousel().jcarousel("fullyvisible").length)}}),t(".jcarousel-next",this.element).on("jcarouselcontrol:active",function(){t(this).removeClass("jcarousel-next-disabled")}).on("jcarouselcontrol:inactive",function(){t(this).addClass("jcarousel-next-disabled")}).jcarouselControl({target:"+=1",method:function(){this.carousel().jcarousel("scroll","+="+this.carousel().jcarousel("fullyvisible").length)}})}},t.fn.jcarouselFancy=function(){return this.each(function(){t.data(this,"plugin_jCarouselFancy")||t.data(this,"plugin_jCarouselFancy",new i(this))})}}(jQuery,window)},function(t,e){/*! jCarousel - v0.3.3 - 2015-04-07
	 * http://sorgalla.com/jcarousel/
	 * Copyright (c) 2006-2015 Jan Sorgalla; Licensed MIT */
!function(t){"use strict";var e=t.jCarousel={};e.version="0.3.3";var n=/^([+\-]=)?(.+)$/;e.parseTarget=function(t){var e=!1,i="object"!=typeof t?n.exec(t):null;return i?(t=parseInt(i[2],10)||0,i[1]&&(e=!0,"-="===i[1]&&(t*=-1))):"object"!=typeof t&&(t=parseInt(t,10)||0),{target:t,relative:e}},e.detectCarousel=function(t){for(var e;t.length>0;){if(e=t.filter("[data-jcarousel]"),e.length>0)return e;if(e=t.find("[data-jcarousel]"),e.length>0)return e;t=t.parent()}return null},e.base=function(n){return{version:e.version,_options:{},_element:null,_carousel:null,_init:t.noop,_create:t.noop,_destroy:t.noop,_reload:t.noop,create:function(){return this._element.attr("data-"+n.toLowerCase(),!0).data(n,this),!1===this._trigger("create")?this:(this._create(),this._trigger("createend"),this)},destroy:function(){return!1===this._trigger("destroy")?this:(this._destroy(),this._trigger("destroyend"),this._element.removeData(n).removeAttr("data-"+n.toLowerCase()),this)},reload:function(t){return!1===this._trigger("reload")?this:(t&&this.options(t),this._reload(),this._trigger("reloadend"),this)},element:function(){return this._element},options:function(e,n){if(0===arguments.length)return t.extend({},this._options);if("string"==typeof e){if("undefined"==typeof n)return"undefined"==typeof this._options[e]?null:this._options[e];this._options[e]=n}else this._options=t.extend({},this._options,e);return this},carousel:function(){return this._carousel||(this._carousel=e.detectCarousel(this.options("carousel")||this._element),this._carousel||t.error('Could not detect carousel for plugin "'+n+'"')),this._carousel},_trigger:function(e,i,r){var o,s=!1;return r=[this].concat(r||[]),(i||this._element).each(function(){o=t.Event((n+":"+e).toLowerCase()),t(this).trigger(o,r),o.isDefaultPrevented()&&(s=!0)}),!s}}},e.plugin=function(n,i){var r=t[n]=function(e,n){this._element=t(e),this.options(n),this._init(),this.create()};return r.fn=r.prototype=t.extend({},e.base(n),i),t.fn[n]=function(e){var i=Array.prototype.slice.call(arguments,1),o=this;return"string"==typeof e?this.each(function(){var r=t(this).data(n);if(!r)return t.error("Cannot call methods on "+n+' prior to initialization; attempted to call method "'+e+'"');if(!t.isFunction(r[e])||"_"===e.charAt(0))return t.error('No such method "'+e+'" for '+n+" instance");var s=r[e].apply(r,i);return s!==r&&"undefined"!=typeof s?(o=s,!1):void 0}):this.each(function(){var i=t(this).data(n);i instanceof r?i.reload(e):new r(this,e)}),o},r}}(jQuery),function(t,e){"use strict";var n=function(t){return parseFloat(t)||0};t.jCarousel.plugin("jcarousel",{animating:!1,tail:0,inTail:!1,resizeTimer:null,lt:null,vertical:!1,rtl:!1,circular:!1,underflow:!1,relative:!1,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:!1,wrap:null,vertical:null,rtl:null,center:!1},_list:null,_items:null,_target:t(),_first:t(),_last:t(),_visible:t(),_fullyvisible:t(),_init:function(){var t=this;return this.onWindowResize=function(){t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t.reload()},100)},this},_create:function(){this._reload(),t(e).on("resize.jcarousel",this.onWindowResize)},_destroy:function(){t(e).off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical"),null==this.vertical&&(this.vertical=this.list().height()>this.list().width()),this.rtl=this.options("rtl"),null==this.rtl&&(this.rtl=function(e){if("rtl"===(""+e.attr("dir")).toLowerCase())return!0;var n=!1;return e.parents("[dir]").each(function(){return/rtl/i.test(t(this).attr("dir"))?(n=!0,!1):void 0}),n}(this._element)),this.lt=this.vertical?"top":"left",this.relative="relative"===this.list().css("position"),this._list=null,this._items=null;var e=this.index(this._target)>=0?this._target:this.closest();this.circular="circular"===this.options("wrap"),this.underflow=!1;var n={left:0,top:0};return e.length>0&&(this._prepare(e),this.list().find("[data-jcarousel-clone]").remove(),this._items=null,this.underflow=this._fullyvisible.length>=this.items().length,this.circular=this.circular&&!this.underflow,n[this.lt]=this._position(e)+"px"),this.move(n),this},list:function(){if(null===this._list){var e=this.options("list");this._list=t.isFunction(e)?e.call(this):this._element.find(e)}return this._list},items:function(){if(null===this._items){var e=this.options("items");this._items=(t.isFunction(e)?e.call(this):this.list().find(e)).not("[data-jcarousel-clone]")}return this._items},index:function(t){return this.items().index(t)},closest:function(){var e,i=this,r=this.list().position()[this.lt],o=t(),s=!1,a=this.vertical?"bottom":this.rtl&&!this.relative?"left":"right";return this.rtl&&this.relative&&!this.vertical&&(r+=this.list().width()-this.clipping()),this.items().each(function(){if(o=t(this),s)return!1;var l=i.dimension(o);if(r+=l,r>=0){if(e=l-n(o.css("margin-"+a)),!(Math.abs(r)-l+e/2<=0))return!1;s=!0}}),o},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(!1===this._trigger("hasnext"))return!0;var t=this.options("wrap"),e=this.items().length-1,n=this.options("center")?this._target:this._last;return!!(e>=0&&!this.underflow&&(t&&"first"!==t||this.index(n)<e||this.tail&&!this.inTail))},hasPrev:function(){if(!1===this._trigger("hasprev"))return!0;var t=this.options("wrap");return!!(this.items().length>0&&!this.underflow&&(t&&"last"!==t||this.index(this._first)>0||this.tail&&this.inTail))},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(t){return t["outer"+(this.vertical?"Height":"Width")](!0)},scroll:function(e,n,i){if(this.animating)return this;if(!1===this._trigger("scroll",null,[e,n]))return this;t.isFunction(n)&&(i=n,n=!0);var r=t.jCarousel.parseTarget(e);if(r.relative){var o,s,a,l,c,u,h,d,f=this.items().length-1,p=Math.abs(r.target),g=this.options("wrap");if(r.target>0){var v=this.index(this._last);if(v>=f&&this.tail)this.inTail?"both"===g||"last"===g?this._scroll(0,n,i):t.isFunction(i)&&i.call(this,!1):this._scrollTail(n,i);else if(o=this.index(this._target),this.underflow&&o===f&&("circular"===g||"both"===g||"last"===g)||!this.underflow&&v===f&&("both"===g||"last"===g))this._scroll(0,n,i);else if(a=o+p,this.circular&&a>f){for(d=f,c=this.items().get(-1);d++<a;)c=this.items().eq(0),u=this._visible.index(c)>=0,u&&c.after(c.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(c),u||(h={},h[this.lt]=this.dimension(c),this.moveBy(h)),this._items=null;this._scroll(c,n,i)}else this._scroll(Math.min(a,f),n,i)}else if(this.inTail)this._scroll(Math.max(this.index(this._first)-p+1,0),n,i);else if(s=this.index(this._first),o=this.index(this._target),l=this.underflow?o:s,a=l-p,0>=l&&(this.underflow&&"circular"===g||"both"===g||"first"===g))this._scroll(f,n,i);else if(this.circular&&0>a){for(d=a,c=this.items().get(0);d++<0;){c=this.items().eq(-1),u=this._visible.index(c)>=0,u&&c.after(c.clone(!0).attr("data-jcarousel-clone",!0)),this.list().prepend(c),this._items=null;var m=this.dimension(c);h={},h[this.lt]=-m,this.moveBy(h)}this._scroll(c,n,i)}else this._scroll(Math.max(a,0),n,i)}else this._scroll(r.target,n,i);return this._trigger("scrollend"),this},moveBy:function(t,e){var i=this.list().position(),r=1,o=0;return this.rtl&&!this.vertical&&(r=-1,this.relative&&(o=this.list().width()-this.clipping())),t.left&&(t.left=i.left+o+n(t.left)*r+"px"),t.top&&(t.top=i.top+o+n(t.top)*r+"px"),this.move(t,e)},move:function(e,n){n=n||{};var i=this.options("transitions"),r=!!i,o=!!i.transforms,s=!!i.transforms3d,a=n.duration||0,l=this.list();if(!r&&a>0)return void l.animate(e,n);var c=n.complete||t.noop,u={};if(r){var h={transitionDuration:l.css("transitionDuration"),transitionTimingFunction:l.css("transitionTimingFunction"),transitionProperty:l.css("transitionProperty")},d=c;c=function(){t(this).css(h),d.call(this)},u={transitionDuration:(a>0?a/1e3:0)+"s",transitionTimingFunction:i.easing||n.easing,transitionProperty:a>0?function(){return o||s?"all":e.left?"left":"top"}():"none",transform:"none"}}s?u.transform="translate3d("+(e.left||0)+","+(e.top||0)+",0)":o?u.transform="translate("+(e.left||0)+","+(e.top||0)+")":t.extend(u,e),r&&a>0&&l.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",c),l.css(u),0>=a&&l.each(function(){c.call(this)})},_scroll:function(e,n,i){if(this.animating)return t.isFunction(i)&&i.call(this,!1),this;if("object"!=typeof e?e=this.items().eq(e):"undefined"==typeof e.jquery&&(e=t(e)),0===e.length)return t.isFunction(i)&&i.call(this,!1),this;this.inTail=!1,this._prepare(e);var r=this._position(e),o=this.list().position()[this.lt];if(r===o)return t.isFunction(i)&&i.call(this,!1),this;var s={};return s[this.lt]=r+"px",this._animate(s,n,i),this},_scrollTail:function(e,n){if(this.animating||!this.tail)return t.isFunction(n)&&n.call(this,!1),this;var i=this.list().position()[this.lt];this.rtl&&this.relative&&!this.vertical&&(i+=this.list().width()-this.clipping()),this.rtl&&!this.vertical?i+=this.tail:i-=this.tail,this.inTail=!0;var r={};return r[this.lt]=i+"px",this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())}),this._animate(r,e,n),this},_animate:function(e,n,i){if(i=i||t.noop,!1===this._trigger("animate"))return i.call(this,!1),this;this.animating=!0;var r=this.options("animation"),o=t.proxy(function(){this.animating=!1;var t=this.list().find("[data-jcarousel-clone]");t.length>0&&(t.remove(),this._reload()),this._trigger("animateend"),i.call(this,!0)},this),s="object"==typeof r?t.extend({},r):{duration:r},a=s.complete||t.noop;return n===!1?s.duration=0:"undefined"!=typeof t.fx.speeds[s.duration]&&(s.duration=t.fx.speeds[s.duration]),s.complete=function(){o(),a.call(this)},this.move(e,s),this},_prepare:function(e){var i,r,o,s,a=this.index(e),l=a,c=this.dimension(e),u=this.clipping(),h=this.vertical?"bottom":this.rtl?"left":"right",d=this.options("center"),f={target:e,first:e,last:e,visible:e,fullyvisible:u>=c?e:t()};if(d&&(c/=2,u/=2),u>c)for(;;){if(i=this.items().eq(++l),0===i.length){if(!this.circular)break;if(i=this.items().eq(0),e.get(0)===i.get(0))break;if(r=this._visible.index(i)>=0,r&&i.after(i.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(i),!r){var p={};p[this.lt]=this.dimension(i),this.moveBy(p)}this._items=null}if(s=this.dimension(i),0===s)break;if(c+=s,f.last=i,f.visible=f.visible.add(i),o=n(i.css("margin-"+h)),u>=c-o&&(f.fullyvisible=f.fullyvisible.add(i)),c>=u)break}if(!this.circular&&!d&&u>c)for(l=a;;){if(--l<0)break;if(i=this.items().eq(l),0===i.length)break;if(s=this.dimension(i),0===s)break;if(c+=s,f.first=i,f.visible=f.visible.add(i),o=n(i.css("margin-"+h)),u>=c-o&&(f.fullyvisible=f.fullyvisible.add(i)),c>=u)break}return this._update(f),this.tail=0,d||"circular"===this.options("wrap")||"custom"===this.options("wrap")||this.index(f.last)!==this.items().length-1||(c-=n(f.last.css("margin-"+h)),c>u&&(this.tail=c-u)),this},_position:function(t){var e=this._first,n=e.position()[this.lt],i=this.options("center"),r=i?this.clipping()/2-this.dimension(e)/2:0;return this.rtl&&!this.vertical?(n-=this.relative?this.list().width()-this.dimension(e):this.clipping()-this.dimension(e),n+=r):n-=r,!i&&(this.index(t)>this.index(e)||this.inTail)&&this.tail?(n=this.rtl&&!this.vertical?n-this.tail:n+this.tail,this.inTail=!0):this.inTail=!1,-n},_update:function(e){var n,i=this,r={target:this._target,first:this._first,last:this._last,visible:this._visible,fullyvisible:this._fullyvisible},o=this.index(e.first||r.first)<this.index(r.first),s=function(n){var s=[],a=[];e[n].each(function(){r[n].index(this)<0&&s.push(this)}),r[n].each(function(){e[n].index(this)<0&&a.push(this)}),o?s=s.reverse():a=a.reverse(),i._trigger(n+"in",t(s)),i._trigger(n+"out",t(a)),i["_"+n]=e[n]};for(n in e)s(n);return this}})}(jQuery,window),function(t){"use strict";t.jcarousel.fn.scrollIntoView=function(e,n,i){var r,o=t.jCarousel.parseTarget(e),s=this.index(this._fullyvisible.first()),a=this.index(this._fullyvisible.last());if(r=o.relative?o.target<0?Math.max(0,s+o.target):a+o.target:"object"!=typeof o.target?o.target:this.index(o.target),s>r)return this.scroll(r,n,i);if(r>=s&&a>=r)return t.isFunction(i)&&i.call(this,!1),this;for(var l,c=this.items(),u=this.clipping(),h=this.vertical?"bottom":this.rtl?"left":"right",d=0;;){if(l=c.eq(r),0===l.length)break;if(d+=this.dimension(l),d>=u){var f=parseFloat(l.css("margin-"+h))||0;d-f!==u&&r++;break}if(0>=r)break;r--}return this.scroll(r,n,i)}}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this),this.onEvent=t.proxy(function(e){e.preventDefault();var n=this.options("method");t.isFunction(n)?n.call(this):this.carousel().jcarousel(this.options("method"),this.options("target"))},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload),this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent),this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var e,n=t.jCarousel.parseTarget(this.options("target")),i=this.carousel();if(n.relative)e=i.jcarousel(n.target>0?"hasNext":"hasPrev");else{var r="object"!=typeof n.target?i.jcarousel("items").eq(n.target):n.target;e=i.jcarousel("target").index(r)>=0}return this._active!==e&&(this._trigger(e?"active":"inactive"),this._active=e),this}})}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(t){return'<a href="#'+t+'">'+t+"</a>"},event:"click",method:"scroll"},_carouselItems:null,_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this),this.onScroll=t.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll),this._reload()},_destroy:function(){this._clear(),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll),this._carouselItems=null},_reload:function(){var e=this.options("perPage");if(this._pages={},this._items={},t.isFunction(e)&&(e=e.call(this)),null==e)this._pages=this._calculatePages();else for(var n,i=parseInt(e,10)||0,r=this._getCarouselItems(),o=1,s=0;;){if(n=r.eq(s++),0===n.length)break;this._pages[o]?this._pages[o]=this._pages[o].add(n):this._pages[o]=n,s%i===0&&o++}this._clear();var a=this,l=this.carousel().data("jcarousel"),c=this._element,u=this.options("item"),h=this._getCarouselItems().length;t.each(this._pages,function(e,n){var i=a._items[e]=t(u.call(a,e,n));i.on(a.options("event")+".jcarouselpagination",t.proxy(function(){var t=n.eq(0);if(l.circular){var i=l.index(l.target()),r=l.index(t);parseFloat(e)>parseFloat(a._currentPage)?i>r&&(t="+="+(h-i+r)):r>i&&(t="-="+(i+(h-r)))}l[this.options("method")](t)},a)),c.append(i)}),this._update()},_update:function(){var e,n=this.carousel().jcarousel("target");t.each(this._pages,function(t,i){return i.each(function(){return n.is(this)?(e=t,!1):void 0}),e?!1:void 0}),this._currentPage!==e&&(this._trigger("inactive",this._items[this._currentPage]),this._trigger("active",this._items[e])),this._currentPage=e},items:function(){return this._items},reloadCarouselItems:function(){return this._carouselItems=null,this},_clear:function(){this._element.empty(),this._currentPage=null},_calculatePages:function(){for(var t,e,n=this.carousel().data("jcarousel"),i=this._getCarouselItems(),r=n.clipping(),o=0,s=0,a=1,l={};;){if(t=i.eq(s++),0===t.length)break;e=n.dimension(t),o+e>r&&(a++,o=0),o+=e,l[a]?l[a]=l[a].add(t):l[a]=t}return l},_getCarouselItems:function(){return this._carouselItems||(this._carouselItems=this.carousel().jcarousel("items")),this._carouselItems}})}(jQuery),function(t,e){"use strict";var n,i,r={hidden:"visibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange",webkitHidden:"webkitvisibilitychange"};t.each(r,function(t,r){return"undefined"!=typeof e[t]?(n=t,i=r,!1):void 0}),t.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3e3,autostart:!0},_timer:null,_started:!1,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onAnimateEnd=t.proxy(this._start,this),this.onVisibilityChange=t.proxy(function(){e[n]?this._stop():this._start()},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy),t(e).on(i,this.onVisibilityChange),this.options("autostart")&&this.start()},_destroy:function(){this._stop(),this.carousel().off("jcarousel:destroy",this.onDestroy),t(e).off(i,this.onVisibilityChange)},_start:function(){return this._stop(),this._started?(this.carousel().one("jcarousel:animateend",this.onAnimateEnd),this._timer=setTimeout(t.proxy(function(){this.carousel().jcarousel("scroll",this.options("target"))},this),this.options("interval")),this):void 0},_stop:function(){return this._timer&&(this._timer=clearTimeout(this._timer)),this.carousel().off("jcarousel:animateend",this.onAnimateEnd),this},start:function(){return this._started=!0,this._start(),this},stop:function(){return this._started=!1,this._stop(),this}})}(jQuery,document)}]);
//# sourceMappingURL=interface.js.map